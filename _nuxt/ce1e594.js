(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{378:function(t,e,n){"use strict";n(4);var r={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},computed:{show:{get:function(){return this.dialog},set:function(t){this.dialog=t,!1===t&&this.cancel()}}},methods:{open:function(title,t,e){var n=this;return this.dialog=!0,this.title=title,this.message=t,this.options=Object.assign(this.options,e),new Promise((function(t,e){n.resolve=t,n.reject=e}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.reject(!0),this.dialog=!1}}},o=n(56),c=n(74),l=n.n(c),d=n(99),h=n(357),v=n(354),f=n(511),m=n(371),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[n("h2",{staticClass:"pl-6 pt-3 pb-2"},[t._v(t._s(t.title))]),t._v(" "),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}]},[t._v(" "+t._s(t.message)+" ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:t.options.color,text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t._v(" ใช่ ")]),t._v(" "),n("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v(" ไม่ ")])],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VBtn:d.a,VCard:h.a,VCardActions:v.a,VCardText:v.c,VDialog:f.a,VSpacer:m.a})},400:function(t,e,n){"use strict";n(11),n(8),n(9);var r=n(2),o=(n(68),n(6),n(4),n(134),n(28),n(30),n(5)),c=n(77),l=n(110);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(o.a)(c.a,Object(l.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},n={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",(function(r){r&&(t.errorBag.hasOwnProperty(input._uid)||(n.valid=e(input)))})):n.valid=e(input),n},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:h({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},409:function(t,e,n){var content=n(420);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("50788f08",content,!0,{sourceMap:!1})},420:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete:not(.v-input--is-disabled).v-select.v-text-field input{pointer-events:inherit}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),t.exports=e},421:function(t,e,n){var content=n(422);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("5e1554dc",content,!0,{sourceMap:!1})},422:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-virtual-scroll{display:block;flex:1 1 auto;height:100%;max-width:100%;overflow:auto;position:relative}.v-virtual-scroll__container{display:block}.v-virtual-scroll__item{left:0;position:absolute;right:0}",""]),t.exports=e},436:function(t,e,n){var content=n(493);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("cfae1d9c",content,!0,{sourceMap:!1})},437:function(t,e,n){var content=n(495);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("66e637aa",content,!0,{sourceMap:!1})},438:function(t,e,n){var content=n(439);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("54170fb2",content,!0,{sourceMap:!1})},439:function(t,e,n){(e=n(12)(!1)).push([t.i,".theme--light.v-small-dialog__actions,.theme--light.v-small-dialog__menu-content{background:#fff}.theme--dark.v-small-dialog__actions,.theme--dark.v-small-dialog__menu-content{background:#1e1e1e}.v-small-dialog{display:block}.v-small-dialog__activator{cursor:pointer}.v-small-dialog__activator__content{display:inline-block}.v-small-dialog__content{padding:0 16px}.v-small-dialog__actions{padding:8px;text-align:right;white-space:pre}",""]),t.exports=e},452:function(t,e,n){"use strict";n(11),n(8),n(6),n(4),n(9),n(68);var r=n(2),o=(n(409),n(381)),c=n(403),l=n(48),d=n(0);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f=v(v({},o.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e.a=o.a.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:o.a.options.props.menuProps.type,default:function(){return f}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return v(v({},o.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(d.r)(e,t.itemText),text=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch=t,this.$emit("update:search-input",t)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=o.a.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),v(v({},f),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(i){return t.valueComparator(t.getValue(i),t.getValue(t.internalValue))}))},listData:function(){var data=o.a.options.computed.listData.call(this);return data.props=v(v({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=void 0)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;t!==e&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===d.x.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===d.x.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==d.x.backspace&&t!==d.x.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var r=t!==this.selectedItems.length-1?t:t-1;this.selectedItems[r]?this.selectItem(e):this.setValue(this.multiple?[]:void 0),this.selectedIndex=r}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=void 0,o.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=c.a.options.methods.genInput.call(this);return input.data=Object(l.a)(input.data,{attrs:{"aria-activedescendant":Object(d.p)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.p)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=o.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?o.a.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;o.a.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){o.a.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){o.a.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){o.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){if(-1!==this.selectedIndex){var e=this.selectedItems[this.selectedIndex],n=this.getText(e);t.clipboardData.setData("text/plain",n),t.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",n),t.preventDefault()}}}})},473:function(t,e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t,e){e.forEach((function(e){var n=t.document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),t.document.getElementsByTagName("head")[0].appendChild(n)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.prototype.$htmlToPaper=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},c=["fullscreen=yes","titlebar=yes","scrollbars=yes"],u=[],i=e.name,s=void 0===i?"_blank":i,l=e.specs,a=void 0===l?c:l,d=e.replace,p=void 0===d||d,h=e.styles,v=void 0===h?u:h;n&&(n.name&&(s=n.name),n.specs&&(a=n.specs),n.replace&&(p=n.replace),n.styles&&(v=n.styles)),console.warn(v),a=a.length?a.join(","):"";var f=document.getElementById(t);if(f){var m=window.open("",s,a,p);return m.document.write("\n        <html>\n          <head>\n            <title>"+document.title+"</title>\n          </head>\n          <body>\n            "+f.innerHTML+"\n          </body>\n        </html>\n      "),r(m,v),setTimeout((function(){m.document.close(),m.focus(),m.print(),m.close(),o()}),1e3),!0}alert("Element to print #"+t+" not found!")}}}}])},478:function(t,e,n){"use strict";n(19),n(421);var r=n(80),o=n(174),c=n(0);e.a=r.a.extend({name:"v-virtual-scroll",directives:{Scroll:o.b},props:{bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:function(){return[]}}},data:function(){return{first:0,last:0,scrollTop:0}},computed:{__bench:function(){return parseInt(this.bench,10)},__itemHeight:function(){return parseInt(this.itemHeight,10)},firstToRender:function(){return Math.max(0,this.first-this.__bench)},lastToRender:function(){return Math.min(this.items.length,this.last+this.__bench)}},watch:{height:"onScroll",itemHeight:"onScroll"},mounted:function(){this.last=this.getLast(0)},methods:{getChildren:function(){return this.items.slice(this.firstToRender,this.lastToRender).map(this.genChild)},genChild:function(t,e){e+=this.firstToRender;var n=Object(c.g)(e*this.__itemHeight);return this.$createElement("div",{staticClass:"v-virtual-scroll__item",style:{top:n},key:e},Object(c.s)(this,"default",{index:e,item:t}))},getFirst:function(){return Math.floor(this.scrollTop/this.__itemHeight)},getLast:function(t){var e=parseInt(this.height||0,10)||this.$el.clientHeight;return t+Math.ceil(e/this.__itemHeight)},onScroll:function(){this.scrollTop=this.$el.scrollTop,this.first=this.getFirst(),this.last=this.getLast(this.first)}},render:function(t){var content=t("div",{staticClass:"v-virtual-scroll__container",style:{height:Object(c.g)(this.items.length*this.__itemHeight)}},this.getChildren());return t("div",{staticClass:"v-virtual-scroll",style:this.measurableStyles,directives:[{name:"scroll",modifiers:{self:!0},value:this.onScroll}],on:this.$listeners},[content])}})},492:function(t,e,n){"use strict";var r=n(436);n.n(r).a},493:function(t,e,n){(e=n(12)(!1)).push([t.i,".short-textfilds.v-text-field.v-text-field--enclosed .v-input__slot{padding:0!important;width:60px;margin:0 auto;border:1px solid #b4b4b4}.short-textfilds.v-text-field.v-text-field--enclosed .v-input__slot input{text-align:center}.short-textfilds.v-text-field.v-text-field--enclosed .v-input__slot .long-little{width:60px}.v-autocomplete__content{border-radius:5px!important}.v-autocomplete__content::-webkit-scrollbar{width:5px}.v-autocomplete__content::-webkit-scrollbar-thumb{background-color:#a1a1a1;border-radius:10px}.v-autocomplete__content::-webkit-scrollbar-track{background:#fff;border-radius:10px}",""]),t.exports=e},494:function(t,e,n){"use strict";var r=n(437);n.n(r).a},495:function(t,e,n){(e=n(12)(!1)).push([t.i,".hidden-header .v-data-table-header-mobile{position:absolute;visibility:hidden}",""]),t.exports=e},496:function(t,e,n){"use strict";n(438);var r=n(171),o=n(15),c=n(0),l=n(108),d=n(355),h=n(5);e.a=Object(h.a)(r.a,o.a).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var input=this.$refs.content.querySelector("input");input&&input.focus()},genButton:function(t,text){return this.$createElement(l.a,{props:{text:!0,color:"primary",light:!0},on:{click:t}},text)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(e){e.keyCode===c.x.esc&&t.cancel(),e.keyCode===c.x.enter&&(t.save(t.returnValue),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(d.a,{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}},scopedSlots:{activator:function(n){var r=n.on;return t("div",{staticClass:"v-small-dialog__activator",on:r},[t("span",{staticClass:"v-small-dialog__activator__content"},e.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},499:function(t,e,n){"use strict";n(11),n(8),n(6),n(4),n(9);var r=n(2);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var c={data:function(){return{type:this.$store.state.form.itemGroup,select:null,timeout:null,items:[],search:null,value:null,loading:!1,count:1}},watch:{search:function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){""!==t?e.querySelections(t):(e.items=[],e.loading=!1)}),500)}},mounted:function(){var t=this;0===this.$store.state.form.itemGroup.length&&this.$store.dispatch("form/addItemGroup").then((function(e){t.type=e}))},methods:{querySelections:function(t){var e=this;this.loading=!0,this.$axios.$get("/api/config/items?label=".concat(t).concat(null!==this.select?"&groupId=".concat(this.select):""),{progress:!1}).then((function(t){e.items=t.results,e.loading=!1})).catch((function(t){alert(t)}))},selectedItem:function(){var t=this,e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.value),n=this.count,c={posId:void 0!==this.$route.params.queue?null:this.$route.params.posid,itemId:e.id,qty:n};this.$axios.$post("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders"),c,{progress:!1}).then((function(e){t.$emit("add",e),t.count=1})).catch((function(t){alert(t)}))},isNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&t.preventDefault()}}},l=(n(492),n(56)),d=n(74),h=n.n(d),v=n(452),f=n(366),m=n(458),_=n(158),y=n(100),x=n(109),w=n(368),k=n(381),I=n(403),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"px-5",attrs:{align:"center",justify:"center",dense:""}},[n("v-col",{attrs:{md:"2",cols:"5"}},[n("v-select",{staticClass:"rounded-lg",attrs:{items:t.type,"item-text":"label","item-value":"id","item-color":"cusblue","menu-props":{closeOnContentClick:!0},label:"ประเภท",light:"",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":""},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[n("v-list-item",{style:null===t.select?"background-color: #e2f5fc":"",attrs:{ripple:""},on:{click:function(e){t.select=null}}},[n("v-list-item-content",[n("v-list-item-title",{class:null===t.select?"cusblue--text":""},[t._v("\n                ทั้งหมด\n              ")])],1)],1),t._v(" "),n("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),n("v-col",{attrs:{md:"10",cols:"7"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"8",md:"10"}},[n("v-autocomplete",{staticClass:"rounded-lg",attrs:{items:t.items,"item-text":"label","item-value":"id","item-color":"cusblue2","search-input":t.search,loading:t.loading,"return-object":"",light:"",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":"","hide-no-data":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},change:t.selectedItem,focus:function(e){t.value=null}},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-icon",[t._v("mdi-magnify")])]},proxy:!0},{key:"selection",fn:function(data){return[n("span",[t._v(t._s(data.item.name))])]}},{key:"item",fn:function(data){return[[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(data.item.label)}})],1)]]}}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),n("v-col",{attrs:{cols:"4",md:"2"}},[n("v-text-field",{staticClass:"ml-2 rounded-lg text-nav",attrs:{"prepend-icon":"mdi-close",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":""},on:{keypress:function(e){return t.isNumber(e)}},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1)],1)],1)],1),t._v(" "),n("v-divider")],1)}),[],!1,null,null,null),O=component.exports;h()(component,{VAutocomplete:v.a,VCol:f.a,VDivider:m.a,VIcon:_.a,VListItem:y.a,VListItemContent:x.a,VListItemTitle:x.b,VRow:w.a,VSelect:k.a,VTextField:I.a});n(37);var C=n(7);function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var $={data:function(){return{assignModal:!1,loading:!1,valid:!1,addData:{orderId:"",instr:"",dose:"",freq:"",caution:""},rules:{instr:[function(t){return!!t||"กรุณากรอกคำแนะนำ"},function(t){return t&&t.length<=100||"ไม่ควรกรอกคำแนะนำเกิน 100 ตัวอักษร"}],dose:[function(t){return t&&/^[0-9]*$/.test(t)||"กรุณากรอกตัวเลขเท่านั้น"}],freq:[function(t){return!!t||"กรุณากรอกความถี่"},function(t){return t&&t.length<=100||"ไม่ควรกรอกความถี่เกิน 100 ตัวอักษร"}],caution:[function(t){return!!t||"กรุณากรอกข้อควรระวัง"},function(t){return t&&t.length<=100||"ไม่ควรกรอกความถี่เกิน 100 ตัวอักษร"}]}}},watch:{assignModal:function(t){!1===t&&(this.addData={orderId:"",instr:"",dose:"",freq:"",caution:""})}},methods:{open:function(t){this.assignModal=!0,this.getDrug(t)},getDrug:function(t){var e=this;return Object(C.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$get("/api/orders/".concat(t,"/drug"),{progress:!1});case 3:r=n.sent,e.addData={orderId:t,instr:r.instruction,dose:r.dose,freq:r.frequency,caution:r.caution},n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},updateItem:function(){var t=this;if(this.$refs.form.validate()){this.loading=!0;var e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.addData),n={instr:e.instruction,dose:e.dose,freq:e.frequency,caution:e.caution};this.$axios.$patch("/api/orders/".concat(e.orderId,"/drug"),n,{progress:!1}).then((function(e){setTimeout((function(){t.loading=!1,t.assignModal=!1}),500)})).catch((function(e){t.loading=!1,alert(e)}))}}}},S=n(99),j=n(357),V=n(354),P=n(511),T=n(400),M=n(157),E=n(371),A=Object(l.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"600",scrollable:""},model:{value:t.assignModal,callback:function(e){t.assignModal=e},expression:"assignModal"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v("แก้ไขรายการ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",{staticClass:"px-8"},[n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:t.rules.instr,disabled:t.loading,label:"Instruction",color:"cusblue2"},model:{value:t.addData.instr,callback:function(e){t.$set(t.addData,"instr",e)},expression:"addData.instr"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:t.rules.dose,disabled:t.loading,label:"Dose",color:"cusblue2"},model:{value:t.addData.dose,callback:function(e){t.$set(t.addData,"dose",e)},expression:"addData.dose"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:t.rules.freq,disabled:t.loading,label:"Frequency",color:"cusblue2"},model:{value:t.addData.freq,callback:function(e){t.$set(t.addData,"freq",e)},expression:"addData.freq"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:t.rules.caution,disabled:t.loading,label:"Caution",color:"cusblue2"},model:{value:t.addData.caution,callback:function(e){t.$set(t.addData,"caution",e)},expression:"addData.caution"}})],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{disabled:t.loading,color:"cusblue2",text:""},on:{click:function(e){t.assignModal=!1}}},[t._v("\n        ยกเลิก\n      ")]),t._v(" "),n("v-btn",{attrs:{disabled:!t.valid||t.loading,color:"cusblue2",text:""},on:{click:t.updateItem}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),t._v("\n        บันทึก\n      ")],1)],1)],1)],1)}),[],!1,null,null,null),B=A.exports;h()(A,{VBtn:S.a,VCard:j.a,VCardActions:V.a,VCardText:V.c,VCol:f.a,VDialog:P.a,VDivider:m.a,VForm:T.a,VProgressCircular:M.a,VRow:w.a,VSpacer:E.a,VTextField:I.a});var L=n(1),F=n(473),N=n.n(F);L.a.use(N.a,{name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes","width=1000,height=600"],styles:["/receipt.css","https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css","https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css"]});var z={data:function(){return{assignModal:!1,items:["fefe","gegege","heheheh"],id:null,order:[],reduce:0,recieve:0,bank:[1e3,500,100,50,20,10,5,2,1],valid:!1,showPrint:!1,receiptDetail:null}},computed:{checkPay:function(){return this.changeMoney>=0?(this.notAllow(!0),"ทอน "+this.changeMoney+" บาท"):(this.notAllow(!1),"ไม่สามารถชำระเงิน")},changeMoney:function(){return this.recieve-this.reducePrice},reducePrice:function(){return this.sumPrice-this.reduce},sumPrice:function(){var t=0;return this.order.map((function(e){return t+=e.price*e.qty})),t}},methods:{open:function(t){var e=this;this.$axios.$get("/api/orders?posId=".concat(t),{progress:!1}).then((function(n){e.id=t,e.order=n.results})).catch((function(t){alert(t)})),this.assignModal=!0},plusMoney:function(t){this.recieve=parseInt(this.recieve)+t},isNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&t.preventDefault()},notAllow:function(t){this.valid=t},checkout:function(t){var e=this;if(this.valid){var n={qty:this.order.length,price:this.sumPrice,discount:this.reduce,finalPrice:this.reducePrice};this.$axios.$post("/api/pos/".concat(t,"/receipt"),n,{progress:!1}).then((function(t){e.assignModal=!1,e.receiptDetail=t,e.print(),e.$emit("updateState","success")})).catch((function(t){alert(t)}))}},print:function(){var t=this;this.showPrint=!0,this.$nextTick((function(){t.$htmlToPaper("printMe",null,(function(){t.showPrint=!1}))}))}}},R=n(510),H=n(161),G=n(478),Y=Object(l.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{"max-width":"600",scrollable:""},model:{value:t.assignModal,callback:function(e){t.assignModal=e},expression:"assignModal"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v("สรุปยอด")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card",{staticClass:"my-3 mx-7"},[n("v-row",{staticClass:"pt-3 px-4",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-left"},[n("span",[t._v("รายการ")])]),t._v(" "),n("v-col",{staticClass:"text-right"},[n("span",[t._v("ราคาต่อหน่วย")])])],1),t._v(" "),n("v-divider"),t._v(" "),n("v-virtual-scroll",{attrs:{items:t.order,"item-height":30,height:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("\n                  "+t._s(r.itemLabel+" ( x"+r.qty+" )")+"\n                ")])],1),t._v(" "),n("v-list-item-action",[t._v(" "+t._s(r.price)+" บาท")])],1)]}}])})],1),t._v(" "),n("div",{staticClass:"text-right pb-3 px-7"},[n("span",{staticClass:"font-weight-bold"},[t._v(" รวม "+t._s(t.sumPrice)+" บาท ")])]),t._v(" "),n("v-divider",{staticClass:"dash-divider"}),t._v(" "),n("div",{staticClass:"py-3 px-7"},[n("v-row",{attrs:{"no-gutters":"",justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"ส่วนลด",color:"cusblue2",outlined:"",dense:"","hide-details":""},on:{keypress:function(e){return t.isNumber(e)}},model:{value:t.reduce,callback:function(e){t.reduce=e},expression:"reduce"}})],1),t._v(" "),n("v-col",{staticClass:"text-right",attrs:{cols:"8"}},[n("span",{staticClass:"font-weight-bold"},[t._v("\n              เหลือ "+t._s(t.reducePrice)+" บาท\n            ")])])],1)],1),t._v(" "),n("v-divider",{staticClass:"dash-divider"}),t._v(" "),n("div",{staticClass:"py-3 px-7"},[n("v-row",{attrs:{"no-gutters":"",justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"รับเงิน",color:"cusblue2",outlined:"",dense:"","hide-details":""},on:{keypress:function(e){return t.isNumber(e)}},model:{value:t.recieve,callback:function(e){t.recieve=e},expression:"recieve"}})],1),t._v(" "),n("v-col",{staticClass:"text-right",attrs:{cols:"5"}},t._l(t.bank,(function(e){return n("v-chip",{key:e,staticClass:"mr-1",attrs:{small:""},on:{click:function(n){return t.plusMoney(e)}}},[t._v("\n              +"+t._s(e)+"\n            ")])})),1),t._v(" "),n("v-col",{staticClass:"text-right",attrs:{cols:"3"}},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.checkPay))])])],1)],1),t._v(" "),n("v-card-actions",{staticStyle:{"border-top":"1px solid rgb(202, 201, 201)"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:function(e){t.assignModal=!1}}},[t._v("\n          ยกเลิก\n        ")]),t._v(" "),n("v-btn",{attrs:{disabled:!t.valid,color:"cusblue2",text:""},on:{click:function(e){return t.checkout(t.id)}}},[t._v("\n          ตกลง\n        ")])],1)],1)],1),t._v(" "),t.showPrint?n("div",{staticClass:"text-center",attrs:{id:"printMe"}},[n("div",{staticClass:"bill"},[n("span",[t._v("ใบเสร็จ")]),t._v(" "),n("br"),t._v(" "),n("span",[t._v(t._s(t.receiptDetail.clinicName))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v("\n        "+t._s(t.receiptDetail.branchName+" "+t.receiptDetail.branchNo)+"\n      ")]),t._v(" "),n("br"),t._v(" "),n("span",[t._v(t._s(t.receiptDetail.address))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v(t._s(t.receiptDetail.phone))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v(t._s(t.receiptDetail.receiptNumber))]),t._v(" "),n("br"),t._v(" "),t._l(t.order,(function(e){return n("v-row",{key:e.name,attrs:{align:"center",justify:"space-between",dense:""}},[n("v-col",{attrs:{cols:"6"}},[t._v(t._s(e.itemLabel+" ( x"+e.qty+" )"))]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v(t._s(e.price)+" บาท")])],1)})),t._v(" "),n("span",[t._v("\n        "+t._s("จำนวนรายการ "+t.receiptDetail.qty+" รายการ")+"\n      ")]),t._v(" "),n("br"),t._v(" "),n("span",[t._v(" "+t._s("ราคา "+t.receiptDetail.price+" บาท")+" ")]),t._v(" "),n("span",[n("br"),t._v("\n        "+t._s("ส่วนลด "+t.receiptDetail.discount+" บาท")+"\n      ")]),t._v(" "),n("br"),t._v(" "),n("span",[t._v("\n        "+t._s("รวม "+t.receiptDetail.finalPrice+" บาท")+"\n      ")]),t._v(" "),n("br")],2)]):t._e()],1)}),[],!1,null,null,null),J=Y.exports;h()(Y,{VBtn:S.a,VCard:j.a,VCardActions:V.a,VChip:R.a,VCol:f.a,VDialog:P.a,VDivider:m.a,VListItem:y.a,VListItemAction:H.a,VListItemContent:x.a,VListItemTitle:x.b,VRow:w.a,VSpacer:E.a,VTextField:I.a,VVirtualScroll:G.a});var K={components:{checkListNav:O,drugDialog:B,finalDialog:J,confirmDialog:n(378).a},props:{visitData:{default:null,type:Object,required:!1},orderItem:{type:Array,required:!1,default:null},posData:{type:Object,required:!1,default:null}},data:function(){return{confirmDel:!1,headers:[{text:"รายการ",value:"itemLabel",align:"left",width:"180",sortable:!1},{text:"ประเภท",value:"typeLabel",align:"center",width:"",sortable:!1},{text:"จำนวน",value:"qty",align:"center",width:"",sortable:!1},{text:"หน่วย",value:"unit",align:"center",width:"",sortable:!1},{text:"ราคาต่อหน่วย",value:"price",align:"center",width:"",sortable:!1},{text:"Action",value:"action",align:"center",width:"",sortable:!1}],qty:"",rules:[function(t){return t&&/^[0-9]*$/.test(t)||"กรุณากรอกตัวเลขเท่านั้น"}]}},computed:{sumPrice:function(){var t=0;return this.orderItem.map((function(e){return t+=e.price*e.qty})),t}},methods:{openDrugDialog:function(t){this.$refs.drugDialog.open(t)},finalDialog:function(t){this.$refs.finalDialog.open(t)},updateStatePOS:function(t){this.posData.state=t},updateState:function(t,e){var n=this;this.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่".concat("pending"===e?"พัก":"ยกเลิกพัก","รายการนี้"),{width:290,color:"warning"}).then((function(r){var o={state:e};n.$axios.$patch("/api/pos/".concat(t),o,{progress:!1}).then((function(t){"pending"===e?n.$router.push("/pos"):n.updateStatePOS("active")})).catch((function(t){alert(t)}))})).catch((function(){}))},addOrder:function(t){this.$emit("add",t)},isNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&t.preventDefault()},delOrder:function(t){var e=this;this.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่จะลบข้อมูลนี้",{width:290,color:"red"}).then((function(n){e.$axios.$delete("/api".concat(void 0!==e.$route.params.queue?"/visits/".concat(e.$route.params.queue):"","/orders/").concat(t),{progress:!1}).then((function(n){e.$emit("delete",t)})).catch((function(t){alert(t)}))})).catch((function(){}))},saveQTY:function(t,e){var n={qty:e};this.$axios.$patch("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders/").concat(t),n,{progress:!1}).catch((function(t){alert(t)}))},savePrice:function(t,e){var n={price:e};this.$axios.$patch("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders/").concat(t),n,{progress:!1}).catch((function(t){alert(t)}))},endCheck:function(t,e){var n=this;this.$refs.confirm.open("ยืนยันการรอผลตรวจ?","ต้องการยืนยันการรอผลตรวจใช่หรือไม่",{width:290,color:"primary"}).then((function(r){n.$axios.$patch("/api/visits/".concat(t),{visitStatusId:e},{progress:!1}).then((function(t){n.$router.push("/queue")})).catch((function(t){alert(t)}))})).catch((function(){}))}}},Q=(n(494),n(454)),U=n(496),W=Object(l.a)(K,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{staticClass:"elevation-4 hidden-header",attrs:{headers:t.headers,items:t.orderItem,"disable-pagination":"","hide-default-footer":"",height:"calc(100vh - 210px)","fixed-header":""},scopedSlots:t._u([{key:"item.qty",fn:function(e){return[n("v-edit-dialog",{attrs:{"return-value":e.item.qty},on:{"update:returnValue":function(n){return t.$set(e.item,"qty",n)},"update:return-value":function(n){return t.$set(e.item,"qty",n)},save:function(n){return t.saveQTY(e.item.id,e.item.qty)}},scopedSlots:t._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{rules:t.rules,label:"Edit","single-line":"",counter:""},on:{keypress:function(e){return t.isNumber(e)}},model:{value:e.item.qty,callback:function(n){t.$set(e.item,"qty",n)},expression:"props.item.qty"}})]},proxy:!0}],null,!0)},[n("span",{staticClass:"cusblue--text"},[t._v("\n          "+t._s(e.item.qty)+"\n        ")])])]}},{key:"item.price",fn:function(e){return[n("v-edit-dialog",{attrs:{"return-value":e.item.price},on:{"update:returnValue":function(n){return t.$set(e.item,"price",n)},"update:return-value":function(n){return t.$set(e.item,"price",n)},save:function(n){return t.savePrice(e.item.id,e.item.price)}},scopedSlots:t._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{rules:t.rules,label:"Edit","single-line":"",counter:""},on:{keypress:function(e){return t.isNumber(e)}},model:{value:e.item.price,callback:function(n){t.$set(e.item,"price",n)},expression:"props.item.price"}})]},proxy:!0}],null,!0)},[n("span",{staticClass:"cusblue--text"},[t._v("\n          "+t._s(e.item.price)+"\n        ")])])]}},{key:"item.action",fn:function(e){var r=e.item;return[1===r.typeId?n("v-btn",{attrs:{icon:"","x-small":""},on:{click:function(e){return t.openDrugDialog(r.id)}}},[n("v-icon",[t._v("mdi-pencil")])],1):t._e(),t._v(" "),n("v-btn",{attrs:{icon:"","x-small":""},on:{click:function(e){return t.delOrder(r.id)}}},[n("v-icon",[t._v("mdi-trash-can")])],1)]}},{key:"footer",fn:function(){return[void 0!==t.$route.params.posid?n("div",{staticClass:"pa-2",staticStyle:{"border-top":"1px solid #dadada"}},[n("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-between"}},["active"===t.posData.state?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",dark:""},on:{click:function(e){return t.updateState(t.$route.params.posid,"pending")}}},[t._v("\n            พักรายการ\n          ")]):"pending"===t.posData.state?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",dark:""},on:{click:function(e){return t.updateState(t.$route.params.posid,"active")}}},[t._v("\n            ยกเลิกพักรายการ\n          ")]):"success"===t.posData.state?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",dark:""},on:{click:function(e){return t.updateState(t.$route.params.posid,"active")}}},[t._v("\n            ยกเลิกสังรายการ\n          ")]):t._e(),t._v(" "),n("v-spacer"),t._v(" "),n("div",{staticClass:"font-weight-medium",staticStyle:{display:"inline-block"}},[n("span",[t._v("ราคารวม : "+t._s(t.sumPrice)+" บาท")]),t._v(" "),"active"===t.posData.state?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize ml-2",attrs:{depressed:"",dark:""},on:{click:function(e){return t.finalDialog(t.$route.params.posid)}}},[t._v("\n              สรุปยอด\n            ")]):t._e()],1)],1)],1):n("div",{staticClass:"pa-1 text-right",staticStyle:{"border-top":"1px solid #dadada"}},[n("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-between"}},[null!==t.visitData&&2===t.visitData.visitStatus.id?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",dark:""},on:{click:function(e){return t.endCheck(t.$route.params.queue,3)}}},[t._v("\n            รอผลตรวจ\n          ")]):t._e(),t._v(" "),n("div",{staticClass:"font-weight-medium",staticStyle:{display:"inline-block"}},[n("span",[t._v("ราคารวม : "+t._s(t.sumPrice)+" บาท")])])],1)],1)]},proxy:!0},{key:"top",fn:function(){return[n("checkListNav",{on:{add:t.addOrder}})]},proxy:!0}],null,!0)}),t._v(" "),n("drugDialog",{ref:"drugDialog"}),t._v(" "),n("confirmDialog",{ref:"confirm"}),t._v(" "),n("finalDialog",{ref:"finalDialog",on:{updateState:t.updateStatePOS}})],1)}),[],!1,null,null,null);e.a=W.exports;h()(W,{VBtn:S.a,VDataTable:Q.a,VEditDialog:U.a,VIcon:_.a,VRow:w.a,VSpacer:E.a,VTextField:I.a})},589:function(t,e,n){"use strict";n.r(e);n(133),n(37);var r=n(7),o={components:{checklistCard:n(499).a},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,r=t.params,e.next=3,n.$get("/api/orders?posId=".concat(r.posid),{progress:!1});case 3:return o=e.sent,e.next=6,n.$get("/api/pos/".concat(r.posid),{progress:!1});case 6:return c=e.sent,e.abrupt("return",{order:o.results,pos:c});case 8:case"end":return e.stop()}}),e)})))()},methods:{addOrder:function(data){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/api/orders?posId=".concat(t.$route.params.posid),{progress:!1});case 2:n=e.sent,t.order=n.results;case 4:case"end":return e.stop()}}),e)})))()},delOrder:function(t){var e=this.order.findIndex((function(e){return e.id===t}));this.order.splice(e,1)}}},c=n(56),component=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"custom-container"},[e("checklistCard",{attrs:{"order-item":this.order,"pos-data":this.pos},on:{add:this.addOrder,delete:this.delOrder}})],1)])}),[],!1,null,null,null);e.default=component.exports}}]);