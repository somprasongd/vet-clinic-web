(window.webpackJsonp=window.webpackJsonp||[]).push([[13,29],{485:function(t,e,n){"use strict";n(4);var r={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},computed:{show:{get:function(){return this.dialog},set:function(t){this.dialog=t,!1===t&&this.cancel()}}},methods:{open:function(title,t,e){var n=this;return this.dialog=!0,this.title=title,this.message=t,this.options=Object.assign(this.options,e),new Promise((function(t,e){n.resolve=t,n.reject=e}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.reject(!0),this.dialog=!1}}},o=n(39),l=n(50),c=n.n(l),d=n(110),v=n(184),f=n(62),h=n(481),m=n(477),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[n("h2",{staticClass:"pl-6 pt-3 pb-2"},[t._v(t._s(t.title))]),t._v(" "),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}]},[t._v(" "+t._s(t.message)+" ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:t.options.color,text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t._v(" ใช่ ")]),t._v(" "),n("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v(" ไม่ ")])],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;c()(component,{VBtn:d.a,VCard:v.a,VCardActions:f.a,VCardText:f.c,VDialog:h.a,VSpacer:m.a})},489:function(t,e){t.exports=function(component,t){var e="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(e.directives=component.exports.options.directives),e.directives=e.directives||{},t)e.directives[i]=e.directives[i]||t[i]}},490:function(t,e,n){var content=n(511);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("600aa183",content,!0,{sourceMap:!1})},492:function(t,e,n){var content=n(493);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("5c8fbe94",content,!0,{sourceMap:!1})},493:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-textarea textarea{align-self:stretch;flex:1 1 auto;line-height:1.75rem;max-width:100%;min-height:32px;outline:none;padding:0;width:100%}.v-textarea .v-text-field__prefix,.v-textarea .v-text-field__suffix{padding-top:2px;align-self:start}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) textarea{margin-top:10px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-label{top:18px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense textarea{margin-top:6px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-outer{align-self:flex-start;margin-top:8px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:12px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{align-self:stretch}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-left:-12px}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-left:12px}",""]),t.exports=e},497:function(t,e,n){"use strict";n.r(e);var r=n(86),o=n.n(r),l=n(501),c=n(498),d=n(485),v={components:{vsCard:l.a,sendDoctorDialog:c.a,confirmDialog:d.a},props:{visitData:{default:null,type:Object,required:!1},ownerData:{default:null,type:Object,required:!1},petData:{default:null,type:Object,required:!1},showbtn:{type:Boolean,default:!1,required:!1},showVsDx:{type:Boolean,default:!1,required:!1},showReportBtn:{type:Boolean,default:!1,required:!1}},data:function(){return{petCardHidden:!this.$vuetify.breakpoint.smAndDown,fab:!1}},methods:{getPetAvartar:function(t){return"".concat("https://api.vet-clinic.somprasongd.work","/api/pets/").concat(t,"/avatar")},getOwnerAvartar:function(t){return"".concat("https://api.vet-clinic.somprasongd.work","/api/members/").concat(t,"/avatar")},calcAge:function(t){var e=o()(),n=o()(t,"YYYY-MM-DD"),r=o.a.duration(e.diff(n));return r.years()+" ปี "+r.months()+" เดือน "},openSendDocs:function(t,e){this.$refs.sendDoctor.open(t,e)},startCheck:function(t){var e=this;this.$axios.$patch("/api/visits/".concat(t),{visitStatusId:2},{progress:!1}).then((function(t){e.visitData.visitStatus.id=2,e.$store.commit("setNavTab",{check:!1,checkList:!1,lab:!1,xray:!1})})).catch((function(t){alert(t)}))},updateSend:function(){this.$router.push("/queue")},admit:function(t){var e=this;this.$axios.$patch("/api/visits/".concat(t),{visitTypeId:2},{progress:!1}).then((function(t){e.$router.push("/queue")})).catch((function(t){alert(t)}))},endCheck:function(t,e){var n=this;this.$refs.confirm.open("ยืนยัน".concat(2===e?"เข้ารับการตรวจ":3===e?"การรอผลตรวจ":4===e?"การรายงานผล":7===e?"การจบการรับบริการ":8===e?"ยกเลิกการรักษา":"การจบการรักษา","?"),"ต้องการยืนยัน".concat(2===e?"เข้ารับการตรวจ":3===e?"การรอผลตรวจ":4===e?"การรายงานผล":7===e?"การจบการรับบริการ":8===e?"ยกเลิกการรักษา":"การจบการรักษา","ใช่หรือไม่"),{width:290,color:8===e?"red":3===e?"primary":4===e?"rgb(214, 185, 81)":"green"}).then((function(r){n.$axios.$patch("/api/visits/".concat(t),{visitStatusId:e},{progress:!1}).then((function(t){n.$router.push("/queue")})).catch((function(t){alert(t)}))})).catch((function(){}))},petDead:function(t,e){var n=this;this.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่จะ".concat(e?"แจ้งตาย":"ยกเลิกแจ้งตาย"),{width:290,color:"red"}).then((function(r){n.$axios.$patch("/api/pets/".concat(t),{death:e},{progress:!1}).then((function(t){n.petData.death=e})).catch((function(t){alert(t)}))})).catch((function(){}))}}},f=n(39),h=n(50),m=n.n(h),x=n(186),_=n(110),y=n(184),w=n(62),k=n(471),D=n(463),C=n(65),S=n(185),I=n(263),$=n(187),O=n(464),V=n(473),j=n(477),T=(n(21),n(1)),P=(n(155),n(24),n(26),n(512),n(28)),M=n(78),F=n(198),A=n(127),N=n(3),B=Object(N.a)(M.a,P.a,F.a).extend({name:"v-speed-dial",directives:{ClickOutside:A.a},props:{direction:{type:String,default:"top",validator:function(t){return["top","right","bottom","left"].includes(t)}},openOnHover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes:function(){var t;return t={"v-speed-dial":!0,"v-speed-dial--top":this.top,"v-speed-dial--right":this.right,"v-speed-dial--bottom":this.bottom,"v-speed-dial--left":this.left,"v-speed-dial--absolute":this.absolute,"v-speed-dial--fixed":this.fixed},Object(T.a)(t,"v-speed-dial--direction-".concat(this.direction),!0),Object(T.a)(t,"v-speed-dial--is-active",this.isActive),t}},render:function(t){var e=this,n=[],data={class:this.classes,directives:[{name:"click-outside",value:function(){return e.isActive=!1}}],on:{click:function(){return e.isActive=!e.isActive}}};if(this.openOnHover&&(data.on.mouseenter=function(){return e.isActive=!0},data.on.mouseleave=function(){return e.isActive=!1}),this.isActive){var r=0;n=(this.$slots.default||[]).map((function(b,i){return!b.tag||void 0===b.componentOptions||"v-btn"!==b.componentOptions.Ctor.options.name&&"v-tooltip"!==b.componentOptions.Ctor.options.name?(b.key=i,b):(r++,t("div",{style:{transitionDelay:.05*r+"s"},key:i},[b]))}))}var o=t("transition-group",{class:"v-speed-dial__list",props:{name:this.transition,mode:this.mode,origin:this.origin,tag:"div"}},n);return t("div",data,[this.$slots.activator,o])}}),z=(n(17),n(514),n(85)),Y=n(18),R=n(124),E=n(129),H=n(130),L=n(156),G=n(0),W=n(8),K=Object(N.a)(Y.a,R.a,E.a,H.a,L.a,P.a).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,content=t.content,n=!(this.bottom||this.left||this.top||this.right),r=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||n?o=r+e.width/2-content.width/2:(this.left||this.right)&&(o=r+(this.right?e.width:-content.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,content=t.content,n=!1!==this.attach?e.offsetTop:e.top,r=0;return this.top||this.bottom?r=n+(this.bottom?e.height:-content.height)+(this.bottom?10:-10):(this.left||this.right)&&(r=n+e.height/2-content.height/2),this.nudgeTop&&(r-=parseInt(this.nudgeTop)),this.nudgeBottom&&(r+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(r+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(G.g)(this.maxWidth),minWidth:Object(G.g)(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(G.t)(this,"activator",!0)&&Object(W.b)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=z.a.options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===G.x.esc&&(t.getActivator(e),t.runDelay("close"))},e},genTransition:function(){var content=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[content]):content},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(T.a)(t,this.contentClass,!0),Object(T.a)(t,"menuable__content__active",this.isActive),Object(T.a)(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}}),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{staticClass:"elevation-4",attrs:{"max-height":"100%"}},[n("v-card-title",{staticClass:"pb-1 pt-3"},[t._v("\n      ข้อมูลเจ้าของสัตว์ และสัตว์เลี้ยง\n      "),n("v-spacer"),t._v(" "),1===t.visitData.visitStatus.id?n("v-menu",{attrs:{"offset-y":"","nudge-left":"65"},scopedSlots:t._u([{key:"activator",fn:function(e){var menu=e.on,r=e.attrs;return[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g(t._b({staticClass:"mx-1",attrs:{color:"cusblue3",width:"20",height:"20",icon:""}},"v-btn",r,!1),Object.assign({},o,menu)),[n("v-icon",[t._v("mdi-check-circle")])],1)]}}],null,!0)},[t._v(" "),n("span",[t._v("เข้ารับการตรวจ")])])]}}],null,!1,3714285508)},[t._v(" "),n("v-list",{staticClass:"pa-0"},[n("div",{staticClass:"px-2 pt-3"},[n("h3",[t._v("เข้ารับการตรวจ?")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",{staticClass:"pa-0 pt-2"},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""}},[t._v(" ยกเลิก ")]),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:function(e){return t.startCheck(t.visitData.id)}}},[t._v("\n                ตกลง\n              ")])],1)],1)])],1):t._e(),t._v(" "),1===t.visitData.visitStatus.id?n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"mx-1",attrs:{color:"cusblue3",width:"20",height:"20",icon:""},on:{click:function(e){return t.openSendDocs(null===t.visitData.doctor?"":t.visitData.doctor.name,t.visitData.id)}}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-share-circle")])],1)]}}],null,!1,62525882)},[t._v(" "),n("span",[t._v("ส่งต่อ")])]):t._e()],1),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("div",{staticClass:"pa-4"},[n("v-row",{attrs:{justify:"center",align:"center",dense:""}},[n("v-col",{attrs:{cols:"4"}},[n("v-avatar",{attrs:{size:"100"}},[n("v-img",{attrs:{src:t.getPetAvartar(t.petData.id),width:"100"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"8"}},[n("v-row",{staticClass:"font-weight-bold",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"5"}},[t._v("ชื่อสัตว์เลี้ยง")]),t._v(" "),n("v-col",{attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v(t._s(t.petData.name))])],1),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"5"}},[t._v("ประเภท")]),t._v(" "),n("v-col",{attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v(t._s(void 0===t.petData.type?"":t.petData.type.label))])],1),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"5"}},[t._v("เพศ")]),t._v(" "),n("v-col",{attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v(t._s(void 0===t.petData.gender?"":t.petData.gender.label))])],1),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"5"}},[t._v("อายุ")]),t._v(" "),n("v-col",{attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v(t._s(void 0===t.petData.birthDate?"":t.calcAge(t.petData.birthDate)))])],1)],1)],1)],1),t._v(" "),n("v-expand-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.petCardHidden,expression:"petCardHidden"}]},[n("v-divider",{staticClass:"dash-divider"}),t._v(" "),n("div",{staticClass:"pa-4"},[n("v-row",{attrs:{justify:"center",align:"center",dense:""}},[n("v-col",{attrs:{cols:"4"}},[n("v-avatar",{attrs:{size:"100"}},[n("v-img",{attrs:{src:t.getOwnerAvartar(t.ownerData.id),width:"100"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"8"}},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(void 0===t.ownerData.fullName?"":t.ownerData.fullName))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v("\n                เบอร์ติดต่อ :\n                "+t._s(void 0===t.ownerData.tels?"":t.ownerData.tels[0])+"\n              ")])])],1)],1),t._v(" "),t.showbtn?n("div",[n("v-divider",{staticClass:"dash-divider hidden-md-and-down"}),t._v(" "),n("div",{staticClass:"px-3 pt-1 hidden-sm-and-down"},[n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize my-2",attrs:{to:"/history/"+t.petData.id,block:"",depressed:"",dark:""}},[t._v("\n              ประวัติการรักษา\n            ")]),t._v(" "),n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize my-2",attrs:{to:"/queue/"+this.$route.params.queue+"/appoint",block:"",depressed:"",dark:""}},[t._v("\n              ทำนัด\n            ")]),t._v(" "),n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize my-2",attrs:{block:"",depressed:"",dark:""},on:{click:function(e){return t.admit(t.$route.params.queue)}}},[t._v("\n              Admit\n            ")]),t._v(" "),n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize my-2",attrs:{block:"",depressed:"",dark:""},on:{click:function(e){return t.petDead(t.petData.id,!t.petData.death)}}},[t._v("\n              "+t._s(t.petData.death?"ยกเลิกแจ้งตาย":"แจ้งตาย")+"\n            ")]),t._v(" "),n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize my-2",attrs:{to:"/queue/"+this.$route.params.queue+"/insertImg",block:"",depressed:"",dark:""}},[t._v("\n              แนบไฟล์ภาพ\n            ")]),t._v(" "),2===t.visitData.visitStatus.id?n("div",{staticClass:"mb-2"},[n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",width:"49.25%",dark:""},on:{click:function(e){return t.endCheck(t.$route.params.queue,3)}}},[t._v("\n                รอผลตรวจ\n              ")]),t._v(" "),n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",width:"49.25%",dark:""},on:{click:function(e){return t.endCheck(t.$route.params.queue,6)}}},[t._v("\n                จบการรักษา\n              ")])],1):n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize my-2",attrs:{block:"",depressed:"",dark:""},on:{click:function(e){return t.endCheck(t.$route.params.queue,1===t.visitData.visitStatus.id?8:6)}}},[t._v("\n              "+t._s(1===t.visitData.visitStatus.id?"ยกเลิกการรักษา":"จบการรักษา")+"\n            ")])],1)],1):t.showVsDx&&3!==t.visitData.visitType.id?n("div",[n("v-divider",{staticClass:"dash-divider hidden-sm-and-down"}),t._v(" "),n("div",{staticClass:"hidden-sm-and-down"},[n("vsCard",{attrs:{"visit-id":t.visitData.id,"no-card":!0}}),t._v(" "),""!==t.visitData.dx?n("v-divider",{staticClass:"dash-divider hidden-sm-and-down"}):t._e(),t._v(" "),""!==t.visitData.dx?n("div",{staticClass:"pa-3"},[n("span",{staticClass:"font-weight-bold"},[t._v("\n                DX (Differential Diagnosis)\n              ")]),t._v(" "),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visitData.dx,expression:"visitData.dx"}],staticClass:"custom-textarea",attrs:{readonly:!0},domProps:{value:t.visitData.dx},on:{input:function(e){e.target.composing||t.$set(t.visitData,"dx",e.target.value)}}})])]):t._e()],1)],1):t.showReportBtn&&3===t.visitData.visitStatus.id?n("div",[n("v-divider",{staticClass:"dash-divider hidden-sm-and-down"}),t._v(" "),n("div",{staticClass:"px-3 my-2"},[n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",block:"",dark:""},on:{click:function(e){return t.endCheck(t.$route.params.queue,4)}}},[t._v("\n              รายงานผล\n            ")])],1)],1):t._e()],1)]),t._v(" "),n("v-divider",{staticClass:"dash-divider"}),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",block:"",text:""},on:{click:function(e){t.petCardHidden=!t.petCardHidden}}},[n("v-icon",{directives:[{name:"show",rawName:"v-show",value:0==t.petCardHidden,expression:"petCardHidden == false"}]},[t._v("mdi-dots-horizontal")]),t._v(" "),n("v-icon",{directives:[{name:"show",rawName:"v-show",value:1==t.petCardHidden,expression:"petCardHidden == true"}]},[t._v("mdi-chevron-up")])],1)],1),t._v(" "),n("sendDoctorDialog",{ref:"sendDoctor",on:{updateDoctor:t.updateSend}}),t._v(" "),n("confirmDialog",{ref:"confirm"}),t._v(" "),n("v-speed-dial",{staticClass:"hidden-md-and-up",attrs:{bottom:"",right:"",direction:"top","open-on-hover":"",fixed:"",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{color:"cusblue2",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.fab?n("v-icon",[t._v("mdi-close")]):n("v-icon",[t._v("mdi-dots-horizontal")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t._v(" "),n("v-btn",{staticClass:"px-1",attrs:{to:"/history/"+t.petData.id,rounded:"",left:"",depressed:"",dark:"",small:"",color:"cusblue"}},[t._v("\n      ประวัติการรักษา\n    ")]),t._v(" "),n("v-btn",{staticClass:"px-1",attrs:{to:"/queue/"+this.$route.params.queue+"/appoint",rounded:"",left:"",depressed:"",dark:"",small:"",color:"cusblue"}},[t._v("\n      ทำนัด\n    ")]),t._v(" "),n("v-btn",{staticClass:"px-1",attrs:{rounded:"",left:"",depressed:"",dark:"",small:"",color:"cusblue"},on:{click:function(e){return t.admit(t.$route.params.queue)}}},[t._v("\n      Admit\n    ")]),t._v(" "),n("v-btn",{staticClass:"px-1",attrs:{rounded:"",left:"",depressed:"",dark:"",small:"",color:"cusblue"},on:{click:function(e){return t.petDead(t.petData.id,!t.petData.death)}}},[t._v("\n      "+t._s(t.petData.death?"ยกเลิกแจ้งตาย":"แจ้งตาย")+"\n    ")]),t._v(" "),n("v-btn",{staticClass:"px-1",attrs:{to:"/queue/"+this.$route.params.queue+"/insertImg",rounded:"",left:"",depressed:"",dark:"",small:"",color:"cusblue"}},[t._v("\n      แนบไฟล์ภาพ\n    ")]),t._v(" "),n("v-btn",{staticClass:"px-1",attrs:{rounded:"",left:"",depressed:"",dark:"",small:"",color:"cusblue"},on:{click:function(e){return t.endCheck(t.$route.params.queue,1===t.visitData.visitStatus.id?8:6)}}},[t._v("\n      "+t._s(1===t.visitData.visitStatus.id?"ยกเลิกการรักษา":"จบการรักษา")+"\n    ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VAvatar:x.a,VBtn:_.a,VCard:y.a,VCardActions:w.a,VCardTitle:w.d,VCol:k.a,VDivider:D.a,VExpandTransition:C.a,VIcon:S.a,VImg:I.a,VList:$.a,VMenu:O.a,VRow:V.a,VSpacer:j.a,VSpeedDial:B,VTooltip:K})},498:function(t,e,n){"use strict";var r={data:function(){return{sendDoctor:!1,doctor:this.$store.state.form.doctor,visitId:"",oldDoc:"",newDoc:"",loading:!1}},created:function(){var t=this;0===this.$store.state.form.doctor.length&&this.$store.dispatch("form/addDoctor").then((function(e){t.doctor=e}))},methods:{open:function(t,e){this.visitId=e,this.oldDoc=t,this.sendDoctor=!0},submitSend:function(){var t=this;this.loading=!0,this.$axios.$patch("/api/visits/".concat(this.visitId),{doctorId:""===this.newDoc?null:this.newDoc},{progress:!1}).then((function(e){setTimeout((function(){t.sendDoctor=!1,t.loading=!1,t.$emit("updateDoctor",e)}),500)})).catch((function(e){t.loading=!1,alert(e)}))}}},o=n(39),l=n(50),c=n.n(l),d=n(110),v=n(184),f=n(62),h=n(481),m=n(463),x=n(112),_=n(120),y=n(183),w=n(519),k=n(477),D=n(458),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"450",scrollable:"",fullscreen:this.$vuetify.breakpoint.xsOnly,transition:"dialog-transition"},model:{value:t.sendDoctor,callback:function(e){t.sendDoctor=e},expression:"sendDoctor"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v("ส่งต่อ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{label:"แพทย์ผู้ตรวจ (เดิม)",disabled:""},model:{value:t.oldDoc,callback:function(e){t.oldDoc=e},expression:"oldDoc"}}),t._v(" "),n("v-select",{attrs:{items:t.doctor,"item-text":"name","item-value":"id",color:"cusblue","item-color":"cusblue",label:"แพทย์ผู้ตรวจ (ใหม่)",disabled:t.loading,"menu-props":{closeOnContentClick:!0}},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[n("v-list-item",{style:""===t.newDoc?"background-color: #e2f5fc":"",attrs:{ripple:""},on:{click:function(e){t.newDoc=""}}},[n("v-list-item-content",[n("v-list-item-title",{class:""===t.newDoc?"cusblue--text":""},[t._v("\n                ไม่ระบุแพทย์\n              ")])],1)],1),t._v(" "),n("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.newDoc,callback:function(e){t.newDoc=e},expression:"newDoc"}})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",disabled:t.loading,text:""},on:{click:function(e){t.sendDoctor=!1}}},[t._v("\n        ไม่ส่ง\n      ")]),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",disabled:t.loading,text:""},on:{click:t.submitSend}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),t._v("\n        ยืนยัน\n      ")],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;c()(component,{VBtn:d.a,VCard:v.a,VCardActions:f.a,VCardText:f.c,VDialog:h.a,VDivider:m.a,VListItem:x.a,VListItemContent:_.a,VListItemTitle:_.b,VProgressCircular:y.a,VSelect:w.a,VSpacer:k.a,VTextField:D.a})},500:function(t,e,n){var content=n(504);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("50788f08",content,!0,{sourceMap:!1})},501:function(t,e,n){"use strict";n(40);var r=n(7),o=(n(17),{props:{noCard:{type:Boolean,required:!1,default:!1},visitId:{type:Number,required:!0},disable:{type:Boolean,required:!1,default:!1}},data:function(){return{expand:!this.$vuetify.breakpoint.smAndDown,vs:[]}},computed:{loopOnce:function(){var t=this.TempNotBlank(this.vs),e=this.RRNotBlank(this.vs),n=this.SysNotBlank(this.vs),r=this.DiaNotBlank(this.vs),o=this.WeightNotBlank(this.vs),l=void 0===n&&void 0===r?"":n+"/"+r;return{weight:{header:"Weight",value:null===o?"-":o,unit:"Kg"},temp:{header:"Temp.",value:null===t?"-":t,unit:"F"},bp:{header:"BP",value:"null/null"===l?"-":l,unit:"bpm"},r:{header:"RR",value:null===e?"-":e,unit:""}}}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/api/visits/".concat(t.visitId,"/vs"),{progress:!1});case 2:n=e.sent,t.vs=n;case 4:case"end":return e.stop()}}),e)})))()},methods:{openCreate:function(){this.$refs.vsDialog.openCreate()},openShow:function(){this.$refs.vsDialog.openShow()},TempNotBlank:function(data){for(var t in data)if(""!==data[t].temp&&null!==data[t].temp)return data[t].temp},RRNotBlank:function(data){for(var t in data)if(""!==data[t].rr&&null!==data[t].rr)return data[t].rr},SysNotBlank:function(data){for(var t in data)if(""!==data[t].sys&&null!==data[t].sys)return data[t].sys},DiaNotBlank:function(data){for(var t in data)if(""!==data[t].dia&&null!==data[t].dia)return data[t].dia},WeightNotBlank:function(data){for(var t in data)if(""!==data[t].weight&&null!==data[t].weight)return data[t].weight}}}),l=n(39),c=n(50),d=n.n(c),v=n(110),f=n(184),h=n(62),m=n(471),x=n(463),_=n(65),y=n(185),w=n(473),k=n(477),D=n(489),C=n.n(D),S=n(57),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.noCard?n("div",{staticClass:"pa-3"},[n("span",{staticClass:"font-weight-bold"},[t._v("Vital Sign")]),t._v(" "),t._l(t.loopOnce,(function(e){return n("v-row",{key:e.index,staticClass:"text-left",attrs:{align:"center",justify:"center","no-gutters":""}},[n("v-col",{staticClass:"font-weight-medium",attrs:{cols:"5"}},[t._v(t._s(e.header))]),t._v(" "),n("v-col",{attrs:{cols:"5"}},[t._v(t._s(e.value))]),t._v(" "),n("v-col",{attrs:{cols:"2"}},[t._v(t._s(e.unit))])],1)}))],2):n("v-card",{staticClass:"my-1 mx-1",attrs:{"max-height":"100%"}},[n("v-card-title",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pb-1 pt-3 custom-cardTitle",on:{click:function(e){t.expand=!t.expand}}},[t._v("\n      Vital Sign\n      "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",icon:""}},[n("v-icon",{directives:[{name:"show",rawName:"v-show",value:0==t.expand,expression:"expand == false"}]},[t._v("mdi-chevron-down")]),t._v(" "),n("v-icon",{directives:[{name:"show",rawName:"v-show",value:1==t.expand,expression:"expand == true"}]},[t._v("mdi-chevron-up")])],1)],1),t._v(" "),n("v-expand-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"expand"}]},[n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("div",{staticClass:"pt-3 pb-4 px-7 card-content overflow-auto"},t._l(t.loopOnce,(function(e){return n("v-row",{key:e.index,staticClass:"text-left",attrs:{align:"center",justify:"center",dense:""}},[n("v-col",{staticClass:"font-weight-medium",attrs:{cols:"5"}},[t._v("\n              "+t._s(e.header)+"\n            ")]),t._v(" "),n("v-col",{attrs:{cols:"5"}},[t._v("\n              "+t._s(e.value)+"\n            ")]),t._v(" "),n("v-col",{attrs:{cols:"2"}},[t._v(t._s(e.unit))])],1)})),1),t._v(" "),n("v-card-actions",{staticClass:"customAction-right"},[n("v-btn",{staticClass:"ma-0",attrs:{color:"cusblue2",disabled:t.disable,text:"",small:""},on:{click:function(e){return e.stopPropagation(),t.openShow()}}},[t._v("\n            Show All\n          ")]),t._v(" "),n("v-divider",{attrs:{vertical:""}}),t._v(" "),n("v-btn",{staticClass:"ma-0",attrs:{color:"cusblue2",disabled:t.disable,text:"",fab:"","x-small":""},on:{click:function(e){return e.stopPropagation(),t.openCreate()}}},[n("v-icon",[t._v("mdi-plus")])],1)],1),t._v(" "),n("VsDialog",{ref:"vsDialog",attrs:{"card-data":t.vs}})],1)])],1)],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VsDialog:n(517).default}),d()(component,{VBtn:v.a,VCard:f.a,VCardActions:h.a,VCardTitle:h.d,VCol:m.a,VDivider:x.a,VExpandTransition:_.a,VIcon:y.a,VRow:w.a,VSpacer:k.a}),C()(component,{Ripple:S.a})},504:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete:not(.v-input--is-disabled).v-select.v-text-field input{pointer-events:inherit}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),t.exports=e},506:function(t,e,n){var content=n(554);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("cfae1d9c",content,!0,{sourceMap:!1})},507:function(t,e,n){var content=n(556);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("66e637aa",content,!0,{sourceMap:!1})},508:function(t,e,n){var content=n(509);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("54170fb2",content,!0,{sourceMap:!1})},509:function(t,e,n){(e=n(12)(!1)).push([t.i,".theme--light.v-small-dialog__actions,.theme--light.v-small-dialog__menu-content{background:#fff}.theme--dark.v-small-dialog__actions,.theme--dark.v-small-dialog__menu-content{background:#1e1e1e}.v-small-dialog{display:block}.v-small-dialog__activator{cursor:pointer}.v-small-dialog__activator__content{display:inline-block}.v-small-dialog__content{padding:0 16px}.v-small-dialog__actions{padding:8px;text-align:right;white-space:pre}",""]),t.exports=e},510:function(t,e,n){"use strict";var r=n(490);n.n(r).a},511:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-virtual-scroll::-webkit-scrollbar{width:5px}.v-virtual-scroll::-webkit-scrollbar-thumb{background-color:#a1a1a1;border-radius:10px}",""]),t.exports=e},512:function(t,e,n){var content=n(513);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("e6b013ca",content,!0,{sourceMap:!1})},513:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-speed-dial{position:relative;z-index:1}.v-speed-dial--absolute{position:absolute}.v-speed-dial--fixed{position:fixed}.v-speed-dial--absolute,.v-speed-dial--fixed{z-index:4}.v-speed-dial--absolute>.v-btn--floating,.v-speed-dial--fixed>.v-btn--floating{margin:0}.v-speed-dial--top{top:16px}.v-speed-dial--bottom{bottom:16px}.v-speed-dial--left{left:16px}.v-speed-dial--right{right:16px}.v-speed-dial--direction-left .v-speed-dial__list,.v-speed-dial--direction-right .v-speed-dial__list{height:100%;top:0;padding:0 16px}.v-speed-dial--direction-bottom .v-speed-dial__list,.v-speed-dial--direction-top .v-speed-dial__list{left:0;width:100%}.v-speed-dial--direction-top .v-speed-dial__list{flex-direction:column-reverse;bottom:100%}.v-speed-dial--direction-right .v-speed-dial__list{flex-direction:row;left:100%}.v-speed-dial--direction-bottom .v-speed-dial__list{flex-direction:column;top:100%}.v-speed-dial--direction-left .v-speed-dial__list{flex-direction:row-reverse;right:100%}.v-speed-dial__list{align-items:center;display:flex;justify-content:center;padding:16px 0;position:absolute}.v-speed-dial__list .v-btn{margin:6px}.v-speed-dial:not(.v-speed-dial--is-active) .v-speed-dial__list{pointer-events:none}",""]),t.exports=e},514:function(t,e,n){var content=n(515);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("dc0628f2",content,!0,{sourceMap:!1})},515:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-tooltip{display:none}.v-tooltip--attached{display:inline}.v-tooltip__content{background:rgba(97,97,97,.9);color:#fff;border-radius:4px;font-size:14px;line-height:22px;display:inline-block;padding:5px 16px;position:absolute;text-transform:none;width:auto;opacity:1;pointer-events:none}.v-tooltip__content--fixed{position:fixed}.v-tooltip__content[class*=-active]{transition-timing-function:cubic-bezier(0,0,.2,1)}.v-tooltip__content[class*=enter-active]{transition-duration:.15s}.v-tooltip__content[class*=leave-active]{transition-duration:75ms}",""]),t.exports=e},517:function(t,e,n){"use strict";n.r(e);n(11),n(9),n(6),n(4),n(10);var r=n(1),o=n(86),l=n.n(o);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={components:{confirmDialog:n(485).a},props:{cardData:{default:null,type:Array,required:!1}},data:function(){return{dialogShow:!1,assignModalVS:!1,MeasureDate:!1,MeasureTime:!1,valid:!1,loading:!1,alert:!1,error:"",editedIndex:-1,editedId:0,editedItem:{date:"",time:"",temp:"",rr:"",pulse:"",sys:"",dia:"",weight:"",painScore:"",bcs:""},headers:[{text:"Date",value:"date",align:"center"},{text:"Time",value:"time",align:"center"},{text:"Temp",value:"temp",align:"center"},{text:"R",value:"rr",align:"center"},{text:"Pulse",value:"pulse",align:"center"},{text:"SysBp",value:"sys",align:"center"},{text:"DiaBp",value:"dia",align:"center"},{text:"Weight",value:"weight",align:"center"},{text:"PainScr",value:"painScore",align:"center"},{text:"BCS",value:"bcs",align:"center"},{text:"Actions",value:"actions",sortable:!1}],rules:{date:[function(t){return!!t||"กรุณาเลือกวันที่"}],time:[function(t){return!!t||"กรุณาเลือกเวลา"}],rr:[function(t){return t&&/^[0-9]{1,3}$/.test(t)||"กรุณากรอกตัวเลข ไม่เกิน 3 ตัว เท่านั้น"}],pulse:[function(t){return t&&/^[0-9]{1,3}$/.test(t)||"กรุณากรอกตัวเลข ไม่เกิน 3 ตัว เท่านั้น"}],sys:[function(t){return t&&/^[0-9]{1,3}$/.test(t)||"กรุณากรอกตัวเลข ไม่เกิน 3 ตัว เท่านั้น"}],dia:[function(t){return t&&/^[0-9]{1,3}$/.test(t)||"กรุณากรอกตัวเลข ไม่เกิน 3 ตัว เท่านั้น"}],painScore:[function(t){return t&&/^(?:[1-9]|0[1-9]|10)$/.test(t)||"กรุณากรอกตัวเลข 1 - 10 เท่านั้น"}],bcs:[function(t){return t&&/^[1-9]$/.test(t)||"กรุณากรอกตัวเลข 1 - 9 เท่านั้น"}],temp:[function(t){return t&&/^[0-9]*\.?[0-9]{1,2}$/.test(t)||"กรุณากรอกตัวเลขเท่านั้น"}],weight:[function(t){return t&&/^[0-9]*\.?[0-9]{1,2}$/.test(t)||"กรุณากรอกตัวเลขเท่านั้น"}]}}},computed:{selectDate:function(){return this.editedItem.date?l()(this.editedItem.date).format("DD/MM/YYYY"):null},VsTitle:function(){return-1===this.editedIndex?"เพิ่ม Vital Sign":"แก้ไข Vital Sign"}},watch:{assignModalVS:function(t){t?""===this.editedItem.date&&(this.editedItem.date=l()().format("YYYY-MM-DD"),this.editedItem.time=l()().format("HH:mm")):this.close()}},methods:{openCreate:function(){this.assignModalVS=!0},openShow:function(){this.dialogShow=!0},UpdateTime:function(){this.editedItem.date=l()().format("YYYY-MM-DD"),this.editedItem.time=l()().format("HH:mm"),this.assignModalVS=!0},editIem:function(t){var e=this;this.dialogShow=!1,this.editedIndex=this.cardData.indexOf(t),this.editedId=t.id,this.editedItem={date:l()(t.vitalSignAt).format("YYYY-MM-DD"),time:l()(t.vitalSignAt).format("HH:mm"),temp:null===t.temp?"":t.temp,rr:null===t.rr?"":t.rr,sys:null===t.sys?"":t.sys,dia:null===t.dia?"":t.dia,weight:null===t.weight?"":t.weight,painScore:null===t.painScore?"":t.painScore,bcs:null===t.bcs?"":t.bcs},setTimeout((function(){e.assignModalVS=!0}),200)},close:function(){var t=this;this.loading=!1,this.assignModalVS=!1,this.$nextTick((function(){t.editedItem={date:"",time:"",temp:"",rr:"",pulse:"",sys:"",dia:"",weight:"",painScore:"",bcs:""},t.editedIndex=-1,t.editedId=0}))},submit:function(){this.$refs.form.validate()&&(this.loading=!0,this.editedIndex>-1?this.updateVs():this.sendVS())},sendVS:function(){var t=this,e=d({},this.editedItem),n={vitalSignAt:l()(e.date+" "+e.time,"YYYY-MM-DD HH:mm:ss").toISOString(),temp:""===e.temp?null:e.temp,rr:""===e.rr?null:e.rr,pulse:""===e.pulse?null:e.pulse,sys:""===e.sys?null:e.sys,dia:""===e.dia?null:e.dia,weight:""===e.weight?null:e.weight,painScore:""===e.painScore?null:e.painScore,bcs:""===e.bcs?null:e.bcs};this.$axios.$post("/api/visits/".concat(this.$route.params.queue,"/vs"),n,{progress:!1}).then((function(e){t.cardData.unshift(e),setTimeout((function(){t.assignModalVS=!1}),200)})).catch((function(t){alert(t)}))},updateVs:function(){var t=this,e=d({},this.editedItem),n={vitalSignAt:l()(e.date+" "+e.time,"YYYY-MM-DD HH:mm:ss").toISOString(),temp:""===e.temp?null:e.temp,rr:""===e.rr?null:e.rr,pulse:""===e.pulse?null:e.pulse,sys:""===e.sys?null:e.sys,dia:""===e.dia?null:e.dia,weight:""===e.weight?null:e.weight,painScore:""===e.painScore?null:e.painScore,bcs:""===e.bcs?null:e.bcs};this.$axios.$patch("/api/visits/".concat(this.$route.params.queue,"/vs/").concat(this.editedId),n,{progress:!1}).then((function(e){Object.assign(t.cardData[t.editedIndex],e),t.assignModalVS=!1,setTimeout((function(){t.dialogShow=!0}),200)})).catch((function(t){alert(t)}))},deleteVs:function(t){var e=this,n=this.cardData.indexOf(t);this.dialogShow=!1,this.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่จะลบข้อมูลนี้",{width:290,color:"red"}).then((function(r){e.$axios.$delete("/api/visits/".concat(e.$route.params.queue,"/vs/").concat(t.id),{progress:!1}).then((function(t){setTimeout((function(){e.dialogShow=!0,e.cardData.splice(n,1)}),200)})).catch((function(t){alert(t)}))})).catch((function(){setTimeout((function(){e.dialogShow=!0}),200)}))}}},f=(n(510),n(39)),h=n(50),m=n.n(h),x=n(110),_=n(184),y=n(62),w=n(471),k=n(637),D=n(636),C=n(481),S=n(463),I=n(476),$=n(185),O=n(464),V=n(183),j=n(473),T=n(477),P=n(458),M=n(646),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{"max-width":"600",fullscreen:this.$vuetify.breakpoint.xsOnly,scrollable:""},model:{value:t.assignModalVS,callback:function(e){t.assignModalVS=e},expression:"assignModalVS"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v(t._s(t.VsTitle))]),t._v(" "),n("v-btn",{staticClass:"mt-4",attrs:{icon:"",absolute:"",right:""},on:{click:function(e){t.assignModalVS=!1}}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{disabled:t.loading,rules:t.rules.date,color:"cusblue","append-icon":"mdi-calendar-month","background-color":"white",label:"วันที่วัด",readonly:""},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:"selectDate"}},"v-text-field",o,!1),r))]}}]),model:{value:t.MeasureDate,callback:function(e){t.MeasureDate=e},expression:"MeasureDate"}},[t._v(" "),n("v-date-picker",{ref:"picker",attrs:{color:"cusblue",max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},model:{value:t.editedItem.date,callback:function(e){t.$set(t.editedItem,"date",e)},expression:"editedItem.date"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{disabled:t.loading,rules:t.rules.time,color:"cusblue","append-icon":"mdi-clock-outline","background-color":"white",label:"เวลา",readonly:""},model:{value:t.editedItem.time,callback:function(e){t.$set(t.editedItem,"time",e)},expression:"editedItem.time"}},"v-text-field",o,!1),r))]}}]),model:{value:t.MeasureTime,callback:function(e){t.MeasureTime=e},expression:"MeasureTime"}},[t._v(" "),n("v-time-picker",{ref:"picker",attrs:{disabled:t.loading,color:"cusblue",format:"24hr",scrollable:""},model:{value:t.editedItem.time,callback:function(e){t.$set(t.editedItem,"time",e)},expression:"editedItem.time"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.weight,color:"cusblue",label:"Weight/kg"},model:{value:t.editedItem.weight,callback:function(e){t.$set(t.editedItem,"weight",e)},expression:"editedItem.weight"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.temp,color:"cusblue",label:"Temp/F"},model:{value:t.editedItem.temp,callback:function(e){t.$set(t.editedItem,"temp",e)},expression:"editedItem.temp"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.pulse,color:"cusblue",label:"Pulse"},model:{value:t.editedItem.pulse,callback:function(e){t.$set(t.editedItem,"pulse",e)},expression:"editedItem.pulse"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.rr,color:"cusblue",label:"R"},model:{value:t.editedItem.rr,callback:function(e){t.$set(t.editedItem,"rr",e)},expression:"editedItem.rr"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.sys,color:"cusblue",label:"Systolic P/bpm"},model:{value:t.editedItem.sys,callback:function(e){t.$set(t.editedItem,"sys",e)},expression:"editedItem.sys"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.dia,color:"cusblue",label:"Diastolic P/bpm"},model:{value:t.editedItem.dia,callback:function(e){t.$set(t.editedItem,"dia",e)},expression:"editedItem.dia"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.bcs,color:"cusblue",label:"BCS"},model:{value:t.editedItem.bcs,callback:function(e){t.$set(t.editedItem,"bcs",e)},expression:"editedItem.bcs"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.painScore,color:"cusblue",label:"Pain Score"},model:{value:t.editedItem.painScore,callback:function(e){t.$set(t.editedItem,"painScore",e)},expression:"editedItem.painScore"}})],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:t.close}},[t._v("ยกเลิก")]),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",disabled:!t.valid||t.loading,text:""},on:{click:t.submit}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),t._v("\n          ยืนยัน\n        ")],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"930",fullscreen:this.$vuetify.breakpoint.xsOnly,scrollable:""},model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[n("v-card",{attrs:{height:"100%"}},[n("h2",{staticClass:"pa-5 pb-2"},[t._v("Vital Sign")]),t._v(" "),n("v-btn",{staticClass:"mt-4",attrs:{icon:"",absolute:"",right:""},on:{click:function(e){t.dialogShow=!1}}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.cardData,"disable-pagination":"","hide-default-footer":"",height:"100%","fixed-header":""},scopedSlots:t._u([{key:"item.date",fn:function(e){var n=e.item;return[t._v("\n          "+t._s(t.$moment(n.vitalSignAt).format("DD/MM/YYYY"))+"\n        ")]}},{key:"item.time",fn:function(e){var n=e.item;return[t._v("\n          "+t._s(t.$moment(n.vitalSignAt).format("HH:mm"))+"\n        ")]}},{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editIem(r)}}},[t._v("\n            mdi-pencil\n          ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteVs(r)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),t._v(" "),this.$vuetify.breakpoint.xsOnly?t._e():n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:function(e){t.dialogShow=!1}}},[t._v("ออก")])],1)],1)],1),t._v(" "),n("confirmDialog",{ref:"confirm"})],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:x.a,VCard:_.a,VCardActions:y.a,VCardText:y.c,VCol:w.a,VDataTable:k.a,VDatePicker:D.a,VDialog:C.a,VDivider:S.a,VForm:I.a,VIcon:$.a,VMenu:O.a,VProgressCircular:V.a,VRow:j.a,VSpacer:T.a,VTextField:P.a,VTimePicker:M.a})},522:function(t,e,n){"use strict";n(11),n(9),n(6),n(4),n(10);var r=n(1),o=(n(17),n(492),n(458)),l=n(3);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d=Object(l.a)(o.a);e.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var t=input.scrollHeight,e=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(e,t)+"px"}},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(t){o.a.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},534:function(t,e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t,e){e.forEach((function(e){var n=t.document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),t.document.getElementsByTagName("head")[0].appendChild(n)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.prototype.$htmlToPaper=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},l=["fullscreen=yes","titlebar=yes","scrollbars=yes"],u=[],i=e.name,s=void 0===i?"_blank":i,c=e.specs,a=void 0===c?l:c,d=e.replace,p=void 0===d||d,v=e.styles,f=void 0===v?u:v;n&&(n.name&&(s=n.name),n.specs&&(a=n.specs),n.replace&&(p=n.replace),n.styles&&(f=n.styles)),console.warn(f),a=a.length?a.join(","):"";var h=document.getElementById(t);if(h){var m=window.open("",s,a,p);return m.document.write("\n        <html>\n          <head>\n            <title>"+document.title+"</title>\n          </head>\n          <body>\n            "+h.innerHTML+"\n          </body>\n        </html>\n      "),r(m,f),setTimeout((function(){m.document.close(),m.focus(),m.print(),m.close(),o()}),1e3),!0}alert("Element to print #"+t+" not found!")}}}}])},536:function(t,e,n){"use strict";n(11),n(9),n(6),n(4),n(10),n(58);var r=n(1),o=(n(500),n(519)),l=n(458),c=n(45),d=n(0);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=f(f({},o.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e.a=o.a.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:o.a.options.props.menuProps.type,default:function(){return h}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return f(f({},o.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(d.r)(e,t.itemText),text=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch=t,this.$emit("update:search-input",t)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=o.a.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),f(f({},h),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(i){return t.valueComparator(t.getValue(i),t.getValue(t.internalValue))}))},listData:function(){var data=o.a.options.computed.listData.call(this);return data.props=f(f({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=void 0)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;t!==e&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===d.x.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===d.x.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==d.x.backspace&&t!==d.x.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var r=t!==this.selectedItems.length-1?t:t-1;this.selectedItems[r]?this.selectItem(e):this.setValue(this.multiple?[]:void 0),this.selectedIndex=r}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=void 0,o.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.p)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.p)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=o.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?o.a.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;o.a.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){o.a.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){o.a.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){o.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){if(-1!==this.selectedIndex){var e=this.selectedItems[this.selectedIndex],n=this.getText(e);t.clipboardData.setData("text/plain",n),t.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",n),t.preventDefault()}}}})},553:function(t,e,n){"use strict";var r=n(506);n.n(r).a},554:function(t,e,n){(e=n(12)(!1)).push([t.i,".short-textfilds.v-text-field.v-text-field--enclosed .v-input__slot{padding:0!important;width:60px;margin:0 auto;border:1px solid #b4b4b4}.short-textfilds.v-text-field.v-text-field--enclosed .v-input__slot input{text-align:center}.short-textfilds.v-text-field.v-text-field--enclosed .v-input__slot .long-little{width:60px}.v-autocomplete__content{border-radius:5px!important}.v-autocomplete__content::-webkit-scrollbar{width:5px}.v-autocomplete__content::-webkit-scrollbar-thumb{background-color:#a1a1a1;border-radius:10px}.v-autocomplete__content::-webkit-scrollbar-track{background:#fff;border-radius:10px}",""]),t.exports=e},555:function(t,e,n){"use strict";var r=n(507);n.n(r).a},556:function(t,e,n){(e=n(12)(!1)).push([t.i,".hidden-header .v-data-table-header-mobile{position:absolute;visibility:hidden}",""]),t.exports=e},557:function(t,e,n){"use strict";n(508);var r=n(131),o=n(14),l=n(0),c=n(64),d=n(456),v=n(3);e.a=Object(v.a)(r.a,o.a).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var input=this.$refs.content.querySelector("input");input&&input.focus()},genButton:function(t,text){return this.$createElement(c.a,{props:{text:!0,color:"primary",light:!0},on:{click:t}},text)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(e){e.keyCode===l.x.esc&&t.cancel(),e.keyCode===l.x.enter&&(t.save(t.returnValue),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(d.a,{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}},scopedSlots:{activator:function(n){var r=n.on;return t("div",{staticClass:"v-small-dialog__activator",on:r},[t("span",{staticClass:"v-small-dialog__activator__content"},e.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},560:function(t,e,n){"use strict";n(40);var r=n(7),o=(n(11),n(9),n(6),n(4),n(10),n(122),n(1));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var c={props:{disabled:{type:Boolean,required:!1,default:!1},orderItem:{type:Array,required:!1,default:null}},data:function(){return{type:this.$store.state.form.itemGroup,select:null,timeout:null,items:[],search:null,value:null,loading:!1,count:1}},watch:{search:function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){""!==t?e.querySelections(t):(e.items=[],e.loading=!1)}),500)}},mounted:function(){var t=this;0===this.$store.state.form.itemGroup.length&&this.$store.dispatch("form/addItemGroup").then((function(e){t.type=e}))},methods:{querySelections:function(t){var e=this;this.loading=!0,this.$axios.$get("/api/config/items?label=".concat(t).concat(null!==this.select?"&groupId=".concat(this.select):""),{progress:!1}).then((function(t){e.items=t.results,e.loading=!1})).catch((function(t){alert(t)}))},selectedItem:function(){var t=this,e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.value),n=this.count,r={posId:void 0!==this.$route.params.queue?null:this.$route.params.posid,itemId:e.id,qty:n},c=this.orderItem.findIndex((function(t){return t.itemId===r.itemId}));if(console.log(e),-1!==c&&3!==e.itemGroup.id&&4!==e.itemGroup.id){var d=parseInt(this.orderItem[c].qty)+parseInt(r.qty),v={qty:d};this.$axios.$patch("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders/").concat(this.orderItem[c].id),v,{progress:!1}).then((function(){t.orderItem[c].qty=d})).catch((function(t){alert(t)}))}else this.$axios.$post("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders"),r,{progress:!1}).then((function(e){t.$emit("add",e),t.count=1})).catch((function(t){alert(t)}))},isNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&t.preventDefault()}}},d=(n(553),n(39)),v=n(50),f=n.n(v),h=n(536),m=n(471),x=n(463),_=n(185),y=n(112),w=n(120),k=n(473),D=n(519),C=n(458),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"px-5",attrs:{align:"center",justify:"center",dense:""}},[n("v-col",{attrs:{md:"2",cols:"5"}},[n("v-select",{staticClass:"rounded-lg",attrs:{items:t.type,disabled:t.disabled,"item-text":"label","item-value":"id","item-color":"cusblue","menu-props":{closeOnContentClick:!0},label:"ประเภท",light:"",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":""},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[n("v-list-item",{style:null===t.select?"background-color: #e2f5fc":"",attrs:{ripple:""},on:{click:function(e){t.select=null}}},[n("v-list-item-content",[n("v-list-item-title",{class:null===t.select?"cusblue--text":""},[t._v("\n                ทั้งหมด\n              ")])],1)],1),t._v(" "),n("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),n("v-col",{attrs:{md:"10",cols:"7"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"8",md:"10"}},[n("v-autocomplete",{staticClass:"rounded-lg",attrs:{items:t.items,disabled:t.disabled,"item-text":"label","item-value":"id","item-color":"cusblue2","search-input":t.search,loading:t.loading,"return-object":"",light:"",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":"","hide-no-data":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},change:t.selectedItem,focus:function(e){t.value=null}},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-icon",[t._v("mdi-magnify")])]},proxy:!0},{key:"selection",fn:function(data){return[n("span",[t._v(t._s(data.item.name))])]}},{key:"item",fn:function(data){return[[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(data.item.label)}})],1)]]}}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),n("v-col",{attrs:{cols:"4",md:"2"}},[n("v-text-field",{staticClass:"ml-2 rounded-lg text-nav",attrs:{disabled:t.disabled,"prepend-icon":"mdi-close",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":""},on:{keypress:function(e){return t.isNumber(e)}},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1)],1)],1)],1),t._v(" "),n("v-divider")],1)}),[],!1,null,null,null),S=component.exports;f()(component,{VAutocomplete:h.a,VCol:m.a,VDivider:x.a,VIcon:_.a,VListItem:y.a,VListItemContent:w.a,VListItemTitle:w.b,VRow:k.a,VSelect:D.a,VTextField:C.a});function I(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var $={data:function(){return{assignModal:!1,loading:!1,valid:!1,addData:{orderId:"",instr:"",dose:"",freq:"",caution:""},rules:{instr:[function(t){return!!t||"กรุณากรอกคำแนะนำ"},function(t){return t&&t.length<=100||"ไม่ควรกรอกคำแนะนำเกิน 100 ตัวอักษร"}],dose:[function(t){return t&&/^[0-9]*\.?[0-9]{1,2}$/.test(t)||"กรุณากรอกตัวเลขเท่านั้น"}],freq:[function(t){return!!t||"กรุณากรอกความถี่"},function(t){return t&&t.length<=100||"ไม่ควรกรอกความถี่เกิน 100 ตัวอักษร"}],caution:[function(t){return!!t||"กรุณากรอกข้อควรระวัง"},function(t){return t&&t.length<=100||"ไม่ควรกรอกความถี่เกิน 100 ตัวอักษร"}]}}},watch:{assignModal:function(t){!1===t&&(this.addData={orderId:"",instr:"",dose:"",freq:"",caution:""})}},methods:{open:function(t){this.assignModal=!0,this.getDrug(t)},getDrug:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$get("/api/orders/".concat(t,"/drug"),{progress:!1});case 3:r=n.sent,e.addData={orderId:t,instr:r.instruction,dose:r.dose,freq:r.frequency,caution:r.caution},n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},updateItem:function(){var t=this;if(this.$refs.form.validate()){this.loading=!0;var e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.addData),n={instr:e.instruction,dose:e.dose,freq:e.frequency,caution:e.caution};this.$axios.$patch("/api/orders/".concat(e.orderId,"/drug"),n,{progress:!1}).then((function(e){setTimeout((function(){t.loading=!1,t.assignModal=!1}),500)})).catch((function(e){t.loading=!1,alert(e)}))}}}},O=n(110),V=n(184),j=n(62),T=n(481),P=n(476),M=n(183),F=n(477),A=Object(d.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"600",scrollable:""},model:{value:t.assignModal,callback:function(e){t.assignModal=e},expression:"assignModal"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v("แก้ไขรายการ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",{staticClass:"px-8"},[n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:t.rules.instr,disabled:t.loading,label:"Instruction",color:"cusblue2"},model:{value:t.addData.instr,callback:function(e){t.$set(t.addData,"instr",e)},expression:"addData.instr"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:t.rules.dose,disabled:t.loading,label:"Dose",color:"cusblue2"},model:{value:t.addData.dose,callback:function(e){t.$set(t.addData,"dose",e)},expression:"addData.dose"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:t.rules.freq,disabled:t.loading,label:"Frequency",color:"cusblue2"},model:{value:t.addData.freq,callback:function(e){t.$set(t.addData,"freq",e)},expression:"addData.freq"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:t.rules.caution,disabled:t.loading,label:"Caution",color:"cusblue2"},model:{value:t.addData.caution,callback:function(e){t.$set(t.addData,"caution",e)},expression:"addData.caution"}})],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{disabled:t.loading,color:"cusblue2",text:""},on:{click:function(e){t.assignModal=!1}}},[t._v("\n        ยกเลิก\n      ")]),t._v(" "),n("v-btn",{attrs:{disabled:!t.valid||t.loading,color:"cusblue2",text:""},on:{click:t.updateItem}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),t._v("\n        บันทึก\n      ")],1)],1)],1)],1)}),[],!1,null,null,null),N=A.exports;f()(A,{VBtn:O.a,VCard:V.a,VCardActions:j.a,VCardText:j.c,VCol:m.a,VDialog:T.a,VDivider:x.a,VForm:P.a,VProgressCircular:M.a,VRow:k.a,VSpacer:F.a,VTextField:C.a});var B=n(485),z=(n(19),n(20),{data:function(){var t=this;return{assignModal:!1,id:"",order:[],endBill:"",payType:1,paymentType:this.$store.state.form.paymentType,money:{receive:"",numPad:[1,2,3,4,5,6,7,8,9,".",0,"ลบ"],bank:[1e3,500,100,50,20]},credit:{typeSelected:1,type:this.$store.state.form.creditCard,fee:"3",followSelected:1,follow:this.$store.state.form.creditFee,number:""},note:"",valid:!1,rules:{receive:[function(t){return!!t||"กรุณากรอกเงินชำระ"},function(e){return e&&t.checkChange(e)||"กรุณากรอกจำนวนเงินที่มากกว่านี้"}]}}},computed:{sumPrice:function(){var t=0;return this.order.map((function(e){return t+=e.price*e.qty})),t},lessPrice:function(){return(parseFloat(this.sumPrice||0)-parseFloat(this.endBill||0)).toFixed(0).toString()},payment:function(){if(3===this.payType&&2===this.credit.followSelected){var t=parseFloat(this.lessPrice||0)+parseFloat(this.calcFee||0);return t>=0?(this.setValid(!0),t.toFixed(1).toString()):(this.setValid(!1),"ไม่สามารถชำระเงิน")}var e=parseFloat(this.lessPrice||0);return e>=0?(this.setValid(!0),e.toFixed(0).toString()):(this.setValid(!1),"ไม่สามารถชำระเงิน")},changeMoney:function(){var t=parseFloat(this.money.receive||0)-parseFloat(this.payment||0);return t>=0?(this.setValid(!0),t.toFixed(2).toString()):(this.setValid(!1),"ไม่สามารถทอนเงิน")},calcFee:function(){return(parseFloat(this.lessPrice||0)/100*parseFloat(this.credit.fee||0)).toFixed(2).toString()}},created:function(){var t=this;0===this.$store.state.form.paymentType.length&&this.$store.dispatch("form/addpaymentType").then((function(e){t.paymentType=e})),0===this.$store.state.form.creditCard.length&&this.$store.dispatch("form/addcreditCard").then((function(e){t.credit.type=e})),0===this.$store.state.form.creditFee.length&&this.$store.dispatch("form/addcreditFee").then((function(e){t.credit.follow=e}))},methods:{open:function(t){var e=this;this.$axios.$get("/api/orders?posId=".concat(t),{progress:!1}).then((function(n){e.id=t,e.order=n.results})).catch((function(t){alert(t)})),this.assignModal=!0},isNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&46!==e&&t.preventDefault()},addNum:function(t){if(/[^0-9.]/.test(t)){var e=this.money.receive;e=e.slice(0,-1),this.money.receive=e}else this.money.receive+=t},plusNum:function(t){var e=parseFloat(this.money.receive||0)+t;this.money.receive=e.toString()},setValid:function(t){this.valid=t},checkChange:function(t){return parseFloat(t||0)-parseFloat(this.payment||0)>=0},checkout:function(t){var e=this;if(this.valid&&this.$refs.form.validate()){var n=2===this.payType?{qty:this.order.length,salesPrice:this.sumPrice,discount:parseFloat(this.endBill||0),netPrice:parseFloat(this.payment||0),paymentTypeId:this.payType,note:this.note}:3===this.payType?{qty:this.order.length,salesPrice:this.sumPrice,discount:parseFloat(this.endBill||0),netPrice:parseFloat(this.payment||0),paymentTypeId:this.payType,creditCardIssuerId:this.credit.typeSelected,creditCardFeesMethodId:this.credit.followSelected,creditCardFees:parseFloat(this.calcFee||0),note:this.credit.number}:{qty:this.order.length,salesPrice:this.sumPrice,discount:parseFloat(this.endBill||0),netPrice:parseFloat(this.payment||0),cash:parseFloat(this.money.receive||0),change:parseFloat(this.changeMoney||0),paymentTypeId:this.payType};this.$axios.$post("/api/pos/".concat(t,"/receipts"),n,{progress:!1}).then((function(t){e.assignModal=!1,e.$emit("updateState",t)})).catch((function(t){alert(t)}))}}}}),Y=n(522),R=Object(d.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{"max-width":"900",scrollable:""},model:{value:t.assignModal,callback:function(e){t.assignModal=e},expression:"assignModal"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v("สรุปยอด")]),t._v(" "),n("v-divider"),t._v(" "),n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("div",{staticClass:"py-3 px-8"},[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"ยอดขาย",color:"cusblue2",disabled:""},on:{keypress:function(e){return t.isNumber(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[t._v("฿")])]},proxy:!0}]),model:{value:t.sumPrice,callback:function(e){t.sumPrice=e},expression:"sumPrice"}})],1),t._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"ส่วนลดท้ายบิล",color:"cusblue2"},on:{keypress:function(e){return t.isNumber(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[t._v("฿")])]},proxy:!0}]),model:{value:t.endBill,callback:function(e){t.endBill=e},expression:"endBill"}})],1),t._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"ยอดชำระสุทธิ",color:"cusblue2",disabled:""},on:{keypress:function(e){return t.isNumber(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[t._v("฿")])]},proxy:!0}]),model:{value:t.payment,callback:function(e){t.payment=e},expression:"payment"}})],1)],1)],1),t._v(" "),n("v-divider",{staticClass:"dash-divider"}),t._v(" "),n("div",{staticClass:"py-3 px-8"},[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-card",{staticClass:"pt-3 text-center"},[n("h4",[t._v("วิธีการชำระเงิน")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("v-row",{attrs:{dense:""}},t._l(t.paymentType,(function(e){return n("v-col",{key:e.id,attrs:{cols:"12"}},[n("v-btn",{attrs:{color:"cusblue3",block:"",dark:"",depressed:"",outlined:t.payType!==e.id},on:{click:function(n){t.payType=e.id}}},[t._v("\n                        "+t._s(e.label)+"\n                      ")])],1)})),1)],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"8"}},[2===t.payType?n("v-row",{attrs:{dense:""}},[n("v-textarea",{attrs:{color:"cusblue",label:"Note","auto-grow":"","row-height":"24",rows:"1"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1):3===t.payType?n("v-row",[n("v-row",{attrs:{dense:""}},t._l(t.credit.type,(function(e){return n("v-col",{key:e.id,attrs:{cols:"12"}},[n("v-btn",{attrs:{color:"cusblue3",block:"",dark:"",depressed:"",outlined:t.credit.typeSelected!==e.id},on:{click:function(n){t.credit.typeSelected=e.id}}},[t._v("\n                      "+t._s(e.label)+"\n                    ")])],1)})),1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{hint:"ค่าธรรมเนียมบัตรเครดิต ฿"+t.calcFee,color:"cusblue2","persistent-hint":"",dense:""},on:{keypress:function(e){return t.isNumber(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[t._v("%")])]},proxy:!0}]),model:{value:t.credit.fee,callback:function(e){t.$set(t.credit,"fee",e)},expression:"credit.fee"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-select",{attrs:{items:t.credit.follow,label:"การติดตามค่าธรรมเนียม","item-text":"label","item-value":"id","item-color":"cusblue",dense:""},model:{value:t.credit.followSelected,callback:function(e){t.$set(t.credit,"followSelected",e)},expression:"credit.followSelected"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{color:"cusblue",label:"หมายเลขการโอน","auto-grow":"","row-height":"24",rows:"1"},model:{value:t.credit.number,callback:function(e){t.$set(t.credit,"number",e)},expression:"credit.number"}})],1)],1):n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:t.rules.receive,label:"เงินรับชำระ",color:"cusblue2",dense:""},on:{keypress:function(e){return t.isNumber(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[t._v("฿")])]},proxy:!0}]),model:{value:t.money.receive,callback:function(e){t.$set(t.money,"receive",e)},expression:"money.receive"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"เงินทอน",color:"cusblue2",disabled:"",dense:""},on:{keypress:function(e){return t.isNumber(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[t._v("฿")])]},proxy:!0}]),model:{value:t.changeMoney,callback:function(e){t.changeMoney=e},expression:"changeMoney"}})],1),t._v(" "),n("v-col",{attrs:{cols:"9"}},[n("v-row",{attrs:{dense:""}},t._l(t.money.numPad,(function(e){return n("v-col",{key:e,attrs:{cols:"4"}},[n("v-btn",{attrs:{color:"cusblue3",outlined:"",block:"",height:"50"},on:{click:function(n){return t.addNum(e)}}},[t._v("\n                        "+t._s(e)+"\n                      ")])],1)})),1)],1),t._v(" "),n("v-col",{attrs:{cols:"3"}},[n("v-row",{attrs:{dense:""}},t._l(t.money.bank,(function(e){return n("v-col",{key:e,attrs:{cols:"12"}},[n("v-btn",{attrs:{color:"cusblue3",outlined:"",block:"",height:"38.3"},on:{click:function(n){return t.plusNum(e)}}},[t._v("\n                        +"+t._s(e)+"฿\n                      ")])],1)})),1)],1)],1)],1)],1)],1)],1),t._v(" "),n("v-card-actions",{staticStyle:{"border-top":"1px solid rgb(202, 201, 201)"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:function(e){t.assignModal=!1}}},[t._v("\n          ยกเลิก\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",disabled:!t.valid,text:""},on:{click:function(e){return t.checkout(t.id)}}},[t._v("\n          ชำระเงิน\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null),E=R.exports;f()(R,{VBtn:O.a,VCard:V.a,VCardActions:j.a,VCardText:j.c,VCol:m.a,VDialog:T.a,VDivider:x.a,VForm:P.a,VRow:k.a,VSelect:D.a,VSpacer:F.a,VTextField:C.a,VTextarea:Y.a});var H=n(2),L=n(534),G=n.n(L),W={name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes","width=1000,height=600"],styles:[window.location.origin+"/receipt.css","https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css"]};H.a.use(G.a,W);var K={components:{checkListNav:S,drugDialog:N,confirmDialog:B.a,calcDialog:E},props:{visitData:{default:null,type:Object,required:!1},orderItem:{type:Array,required:!1,default:null},posData:{type:Object,required:!1,default:null}},data:function(){return{confirmDel:!1,headers:[{text:"รายการ",value:"itemLabel",align:"left",width:"180",sortable:!1},{text:"ประเภท",value:"typeLabel",align:"center",width:"",sortable:!1},{text:"จำนวน",value:"qty",align:"center",width:"",sortable:!1},{text:"หน่วย",value:"unit",align:"center",width:"",sortable:!1},{text:"ราคาต่อหน่วย",value:"price",align:"center",width:"",sortable:!1},{text:"Action",value:"action",align:"center",width:"",sortable:!1}],qty:"",rules:[function(t){return t&&/^[0-9]*\.?[0-9]{1,2}$/.test(t)||"กรุณากรอกตัวเลขเท่านั้น"}],showPrint:!1,receiptDetail:null}},computed:{sumPrice:function(){var t=0;return this.orderItem.map((function(e){return t+=e.price*e.qty})),t}},methods:{openDrugDialog:function(t){this.$refs.drugDialog.open(t)},finalDialog:function(t){this.$refs.calcDialog.open(t)},updateStatePOS:function(t){this.posData.state=t},updateState:function(t,e){var n=this;this.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่".concat("active"===e?"ยกเลิกพัก":"active"===e?"ลบ":"พัก","รายการนี้"),{width:290,color:"active"===e?"success":"cancel"===e?"red":"warning"}).then((function(r){var o={state:e};"cancel"===e?n.$axios.$delete("/api/pos/".concat(t),{progress:!1}).then((function(t){n.$router.push("/pos")})).catch((function(t){alert(t)})):n.$axios.$patch("/api/pos/".concat(t),o,{progress:!1}).then((function(t){"pending"===e?n.$router.push("/pos"):n.updateStatePOS("active")})).catch((function(t){alert(t)}))})).catch((function(){}))},addOrder:function(t){this.$emit("add",t)},isNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&t.preventDefault()},delOrder:function(t){var e=this;this.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่จะลบข้อมูลนี้",{width:290,color:"red"}).then((function(n){e.$axios.$delete("/api".concat(void 0!==e.$route.params.queue?"/visits/".concat(e.$route.params.queue):"","/orders/").concat(t),{progress:!1}).then((function(n){e.$emit("delete",t)})).catch((function(t){alert(t)}))})).catch((function(){}))},saveQTY:function(t,e){var n={qty:e};this.$axios.$patch("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders/").concat(t),n,{progress:!1}).catch((function(t){alert(t)}))},savePrice:function(t,e){var n={price:e};this.$axios.$patch("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders/").concat(t),n,{progress:!1}).catch((function(t){alert(t)}))},endCheck:function(t,e){var n=this;this.$refs.confirm.open("ยืนยันการรอผลตรวจ?","ต้องการยืนยันการรอผลตรวจใช่หรือไม่",{width:290,color:"primary"}).then((function(r){n.$axios.$patch("/api/visits/".concat(t),{visitStatusId:e},{progress:!1}).then((function(t){n.$router.push("/queue")})).catch((function(t){alert(t)}))})).catch((function(){}))},getReceipt:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.$get("/api/pos/".concat(t,"/receipts"),{progress:!1});case 2:r=n.sent,e.receiptDetail=r,e.print();case 5:case"end":return n.stop()}}),n)})))()},printReceipt:function(t){this.receiptDetail=t,this.posData.receiptNumber=t.receiptNumber,this.updateStatePOS("success"),this.print()},print:function(){var t=this;this.showPrint=!0,this.$nextTick((function(){t.$htmlToPaper("printMe",null,(function(){t.showPrint=!1}))}))}}},U=(n(555),n(637)),X=n(557),J=Object(d.a)(K,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{staticClass:"elevation-4 hidden-header",attrs:{headers:t.headers,items:t.orderItem,"disable-pagination":"","hide-default-footer":"",height:"calc(100vh - 210px)","fixed-header":""},scopedSlots:t._u([{key:"item.qty",fn:function(e){return["success"!==t.posData.state&&"cancel"!==t.posData.state?n("v-edit-dialog",{attrs:{"return-value":e.item.qty},on:{"update:returnValue":function(n){return t.$set(e.item,"qty",n)},"update:return-value":function(n){return t.$set(e.item,"qty",n)},save:function(n){return t.saveQTY(e.item.id,e.item.qty)}},scopedSlots:t._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{rules:t.rules,label:"Edit","single-line":"",counter:""},on:{keypress:function(e){return t.isNumber(e)}},model:{value:e.item.qty,callback:function(n){t.$set(e.item,"qty",n)},expression:"props.item.qty"}})]},proxy:!0}],null,!0)},[n("span",{staticClass:"cusblue--text"},[t._v("\n          "+t._s(e.item.qty)+"\n        ")])]):n("span",[t._v(t._s(e.item.qty))])]}},{key:"item.price",fn:function(e){return["success"!==t.posData.state&&"cancel"!==t.posData.state?n("v-edit-dialog",{attrs:{"return-value":e.item.price},on:{"update:returnValue":function(n){return t.$set(e.item,"price",n)},"update:return-value":function(n){return t.$set(e.item,"price",n)},save:function(n){return t.savePrice(e.item.id,e.item.price)}},scopedSlots:t._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{rules:t.rules,label:"Edit","single-line":"",counter:""},on:{keypress:function(e){return t.isNumber(e)}},model:{value:e.item.price,callback:function(n){t.$set(e.item,"price",n)},expression:"props.item.price"}})]},proxy:!0}],null,!0)},[n("span",{staticClass:"cusblue--text"},[t._v("\n          "+t._s(e.item.price)+"\n        ")])]):n("span",[t._v(t._s(e.item.price))])]}},{key:"item.action",fn:function(e){var r=e.item;return[1===r.typeId?n("v-btn",{attrs:{disabled:null!==t.posData&&"active"!==t.posData.state,icon:"","x-small":""},on:{click:function(e){return t.openDrugDialog(r.id)}}},[n("v-icon",[t._v("mdi-pencil")])],1):t._e(),t._v(" "),n("v-btn",{attrs:{icon:"","x-small":"",disabled:null!==t.posData&&"active"!==t.posData.state},on:{click:function(e){return t.delOrder(r.id)}}},[n("v-icon",[t._v("mdi-trash-can")])],1)]}},{key:"footer",fn:function(){return[void 0!==t.$route.params.posid?n("div",{staticClass:"pa-2",staticStyle:{"border-top":"1px solid #dadada"}},[n("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-between"}},["active"===t.posData.state?n("v-btn",{staticClass:"font-weight-regular text-capitalize",attrs:{color:"orange accent-2",depressed:"",dark:""},on:{click:function(e){return t.updateState(t.$route.params.posid,"pending")}}},[t._v("\n            พักรายการ\n          ")]):"pending"===t.posData.state?n("div",[n("v-btn",{staticClass:"font-weight-regular text-capitalize",attrs:{color:"green lighten-1",depressed:"",dark:""},on:{click:function(e){return t.updateState(t.$route.params.posid,"active")}}},[t._v("\n              ทำต่อ\n            ")]),t._v(" "),n("v-btn",{staticClass:"font-weight-regular text-capitalize",attrs:{color:"red accent-2",depressed:"",dark:""},on:{click:function(e){return t.updateState(t.$route.params.posid,"cancel")}}},[t._v("\n              ลบ\n            ")])],1):t._e(),t._v(" "),n("v-spacer"),t._v(" "),n("div",{staticClass:"font-weight-medium",staticStyle:{display:"inline-block"}},[n("span",[t._v("ราคารวม : "+t._s(t.sumPrice)+" บาท")]),t._v(" "),"active"===t.posData.state?n("v-btn",{staticClass:"font-weight-regular text-capitalize ml-2",attrs:{color:"cusblue3 white--text",disabled:0===t.orderItem.length,depressed:""},on:{click:function(e){return t.finalDialog(t.$route.params.posid)}}},[t._v("\n              สรุปยอด\n            ")]):"success"===t.posData.state?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize ml-2",attrs:{depressed:"",dark:""},on:{click:function(e){return t.getReceipt(t.$route.params.posid)}}},[t._v("\n              พิมพ์\n            ")]):t._e()],1)],1)],1):n("div",{staticClass:"pa-1 text-right",staticStyle:{"border-top":"1px solid #dadada"}},[n("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-between"}},[null!==t.visitData&&2===t.visitData.visitStatus.id?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",dark:""},on:{click:function(e){return t.endCheck(t.$route.params.queue,3)}}},[t._v("\n            รอผลตรวจ\n          ")]):n("v-spacer"),t._v(" "),n("div",{staticClass:"font-weight-medium",staticStyle:{display:"inline-block"}},[n("span",[t._v("ราคารวม : "+t._s(t.sumPrice)+" บาท")])])],1)],1)]},proxy:!0},{key:"top",fn:function(){return[n("checkListNav",{attrs:{disabled:null!==t.posData&&"active"!==t.posData.state,"order-item":t.orderItem},on:{add:t.addOrder}})]},proxy:!0}],null,!0)}),t._v(" "),n("drugDialog",{ref:"drugDialog"}),t._v(" "),n("confirmDialog",{ref:"confirm"}),t._v(" "),n("calcDialog",{ref:"calcDialog",on:{updateState:t.printReceipt}}),t._v(" "),t.showPrint?n("div",{attrs:{id:"printMe"}},[n("div",{staticClass:"bill"},[n("div",{staticClass:"top"},[n("span",[t._v("\n          "+t._s(t.$moment().format("DD/MM/YYYY"))+"\n        ")]),t._v(" "),n("span",[t._v("Vet Clinic")])]),t._v(" "),n("div",{staticClass:"head"},[n("b",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.receiptDetail.clinicName))]),t._v(" "),n("br"),t._v(" "),n("b",[t._v(" สาขา "+t._s(t.receiptDetail.branchName)+" ")]),t._v(" "),n("br"),t._v(" "),n("b",[t._v("ที่อยู่ "+t._s(t.receiptDetail.address))]),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Tel: "+t._s(t.receiptDetail.phone))]),t._v(" "),n("br")]),t._v(" "),n("div",{staticClass:"body"},[n("span",[t._v("หมายเลขใบเสร็จ "+t._s(t.receiptDetail.receiptNumber))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v("\n          "+t._s(t.$moment(t.receiptDetail.createAt).format("เมื่อวันที่ DD/MM/YYYY เวลา HH:mm:ss"))+"\n        ")]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"top"},[n("span",[t._v(t._s(t.receiptDetail.customer))]),t._v(" "),n("span",[t._v(t._s(t.receiptDetail.createBy))])]),t._v(" "),n("table",[t._m(0),t._v(" "),t._l(t.receiptDetail.details.groups,(function(e,i){return n("tr",{key:e.name},[n("td",[t._v(t._s(i+1))]),t._v(" "),n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(parseFloat(e.price).toFixed(2))+"\n            ")])])}))],2),t._v(" "),n("div",[n("hr"),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("span",{staticClass:"col-10",staticStyle:{"text-align":"right"}},[t._v("ส่วนลด")]),t._v(" "),n("span",{staticClass:"col-2",staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(parseFloat(t.receiptDetail.discount).toFixed(2))+"\n            ")])])],1),t._v(" "),n("div",[n("hr"),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("span",{staticClass:"col-10",staticStyle:{"text-align":"right"}},[t._v("ยอดชำระรวม")]),t._v(" "),n("span",{staticClass:"col-2",staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(parseFloat(t.receiptDetail.salesPrice).toFixed(2))+"\n            ")])]),t._v(" "),"เงินสด"===t.receiptDetail.paymentType?n("div",[n("v-row",{attrs:{"no-gutters":""}},[n("span",{staticClass:"col-10",staticStyle:{"text-align":"right"}},[t._v("เงินสด")]),t._v(" "),n("span",{staticClass:"col-2",staticStyle:{"text-align":"right"}},[t._v("\n                "+t._s(parseFloat(t.receiptDetail.cash).toFixed(2))+"\n              ")])]),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("span",{staticClass:"col-10",staticStyle:{"text-align":"right"}},[t._v("เงินทอน")]),t._v(" "),n("span",{staticClass:"col-2",staticStyle:{"text-align":"right"}},[t._v("\n                "+t._s(parseFloat(t.receiptDetail.change).toFixed(2))+"\n              ")])])],1):"เครดิตการ์ด"===t.receiptDetail.paymentType?n("div",[n("v-row",{attrs:{"no-gutters":""}},[n("span",{staticClass:"col-10",staticStyle:{"text-align":"right"}},[t._v("บัตรเครดิต")]),t._v(" "),n("span",{staticClass:"col-2",staticStyle:{"text-align":"right"}},[t._v("\n                "+t._s(parseFloat(t.receiptDetail.salesPrice).toFixed(2))+"\n              ")])]),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("span",{staticClass:"col-10",staticStyle:{"text-align":"right"}},[t._v("\n                ค่าธรรมเนียม\n              ")]),t._v(" "),n("span",{staticClass:"col-2",staticStyle:{"text-align":"right"}},[t._v("\n                "+t._s(parseFloat(t.receiptDetail.creditCardFees).toFixed(2))+"\n              ")])])],1):"โอนเงิน"===t.receiptDetail.paymentType?n("div",[n("v-row",{attrs:{"no-gutters":""}},[n("span",{staticClass:"col-10",staticStyle:{"text-align":"right"}},[t._v("ยอดโอน")]),t._v(" "),n("span",{staticClass:"col-2",staticStyle:{"text-align":"right"}},[t._v("\n                "+t._s(parseFloat(t.receiptDetail.salesPrice).toFixed(2))+"\n              ")])]),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("span",{staticClass:"col-10",staticStyle:{"text-align":"right"}},[t._v("\n                ค่าธรรมเนียม\n              ")]),t._v(" "),n("span",{staticClass:"col-2",staticStyle:{"text-align":"right"}},[t._v("\n                "+t._s(parseFloat(t.receiptDetail.creditCardFees).toFixed(2))+"\n              ")])])],1):t._e(),t._v(" "),n("hr")],1)])])]):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("รายการ")]),this._v(" "),e("th",{staticStyle:{"text-align":"right"}},[this._v("ราคา")])])}],!1,null,null,null);e.a=J.exports;f()(J,{VBtn:O.a,VDataTable:U.a,VEditDialog:X.a,VIcon:_.a,VRow:k.a,VSpacer:F.a,VTextField:C.a})},645:function(t,e,n){"use strict";n.r(e);n(122),n(40);var r=n(7),o=n(497),l=n(560),c={components:{OwnerPetCard:o.default,checklistCard:l.a},validate:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$axios,r=t.params,t.query,!(o=t.store).getters.loggedInUser.roles.some((function(t){return 2===t.id||3===t.id||4===t.id||5===t.id}))&&!o.getters.loggedInUser.isAdmin){e.next=12;break}return e.next=4,n.$get("/api/visits/".concat(r.queue),{progress:!1});case 4:if(2!==(l=e.sent).visitStatus.id&&3!==l.visitStatus.id&&4!==l.visitStatus.id&&9!==l.visitStatus.id){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:e.next=13;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})))()},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,r=t.params,e.prev=1,e.next=4,n.$get("/api/visits/".concat(r.queue),{progress:!1});case 4:return o=e.sent,e.next=7,n.$get("/api/members?code=".concat(o.pet.owner.code),{progress:!1});case 7:return l=e.sent,e.next=10,n.$get("/api/pets?code=".concat(o.pet.code),{progress:!1});case 10:return c=e.sent,e.next=13,n.$get("/api/visits/".concat(r.queue,"/orders"),{progress:!1});case 13:return d=e.sent,e.abrupt("return",{oneVisit:o,oneOwner:l.results[0],onePet:c.results[0],order:d.results});case 17:e.prev=17,e.t0=e.catch(1),alert(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))()},data:function(){return{}},methods:{addOrder:function(data){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/api/visits/".concat(t.$route.params.queue,"/orders"),{progress:!1});case 2:n=e.sent,t.order=n.results;case 4:case"end":return e.stop()}}),e)})))()},delOrder:function(t){var e=this.order.findIndex((function(e){return e.id===t}));this.order.splice(e,1)}}},d=n(39),v=n(50),f=n.n(v),h=n(471),m=n(473),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"custom-container"},[n("v-row",{attrs:{dense:""}},[this.$vuetify.breakpoint.smAndDown?t._e():n("v-col",{attrs:{cols:"12",md:"4",lg:"3"}},[n("OwnerPetCard",{attrs:{"show-vs-dx":!0,"visit-data":t.oneVisit,"owner-data":t.oneOwner,"pet-data":t.onePet}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"8",lg:"9"}},[n("checklistCard",{attrs:{"visit-data":t.oneVisit,"order-item":t.order},on:{add:t.addOrder,delete:t.delOrder}})],1)],1)],1)])}),[],!1,null,null,null);e.default=component.exports;f()(component,{OwnerPetCard:n(497).default}),f()(component,{VCol:h.a,VRow:m.a})}}]);