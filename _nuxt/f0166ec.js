(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{433:function(e,t,n){"use strict";n(4);var r={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},computed:{show:{get:function(){return this.dialog},set:function(e){this.dialog=e,!1===e&&this.cancel()}}},methods:{open:function(title,e,t){var n=this;return this.dialog=!0,this.title=title,this.message=e,this.options=Object.assign(this.options,t),new Promise((function(e,t){n.resolve=e,n.reject=t}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.reject(!0),this.dialog=!1}}},o=n(57),l=n(75),c=n.n(l),d=n(104),v=n(412),f=n(409),h=n(566),m=n(426),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{style:{zIndex:e.options.zIndex},attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-card",[n("h2",{staticClass:"pl-6 pt-3 pb-2"},[e._v(e._s(e.title))]),e._v(" "),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}]},[e._v(" "+e._s(e.message)+" ")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:e.options.color,text:""},nativeOn:{click:function(t){return e.agree(t)}}},[e._v(" ใช่ ")]),e._v(" "),n("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v(" ไม่ ")])],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VBtn:d.a,VCard:v.a,VCardActions:f.a,VCardText:f.c,VDialog:h.a,VSpacer:m.a})},444:function(e,t,n){var content=n(445);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("5c8fbe94",content,!0,{sourceMap:!1})},445:function(e,t,n){(t=n(14)(!1)).push([e.i,".v-textarea textarea{align-self:stretch;flex:1 1 auto;line-height:1.75rem;max-width:100%;min-height:32px;outline:none;padding:0;width:100%}.v-textarea .v-text-field__prefix,.v-textarea .v-text-field__suffix{padding-top:2px;align-self:start}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) textarea{margin-top:10px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-label{top:18px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense textarea{margin-top:6px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-outer{align-self:flex-start;margin-top:8px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:12px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{align-self:stretch}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-left:-12px}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-left:12px}",""]),e.exports=t},458:function(e,t,n){"use strict";n(12),n(8),n(9);var r=n(2),o=(n(58),n(6),n(4),n(140),n(27),n(29),n(7)),l=n(78),c=n(114);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(o.a)(l.a,Object(c.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var e=this,t=function(input){return input.$watch("hasError",(function(t){e.$set(e.errorBag,input._uid,t)}),{immediate:!0})},n={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",(function(r){r&&(e.errorBag.hasOwnProperty(input._uid)||(n.valid=t(input)))})):n.valid=t(input),n},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var e=this.inputs.find((function(i){return i._uid===input._uid}));if(e){var t=this.watchers.find((function(i){return i._uid===e._uid}));t&&(t.valid(),t.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==e._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:v({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},465:function(e,t,n){var content=n(475);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("50788f08",content,!0,{sourceMap:!1})},475:function(e,t,n){(t=n(14)(!1)).push([e.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete:not(.v-input--is-disabled).v-select.v-text-field input{pointer-events:inherit}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),e.exports=t},488:function(e,t,n){"use strict";n(12),n(8),n(6),n(4),n(9);var r=n(2),o=(n(20),n(444),n(450)),l=n(7);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var d=Object(l.a)(o.a);t.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var e=input.scrollHeight,t=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(t,e)+"px"}},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(e){o.a.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},490:function(e,t,n){var content=n(546);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("cfae1d9c",content,!0,{sourceMap:!1})},491:function(e,t,n){var content=n(548);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("66e637aa",content,!0,{sourceMap:!1})},492:function(e,t,n){var content=n(493);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("54170fb2",content,!0,{sourceMap:!1})},493:function(e,t,n){(t=n(14)(!1)).push([e.i,".theme--light.v-small-dialog__actions,.theme--light.v-small-dialog__menu-content{background:#fff}.theme--dark.v-small-dialog__actions,.theme--dark.v-small-dialog__menu-content{background:#1e1e1e}.v-small-dialog{display:block}.v-small-dialog__activator{cursor:pointer}.v-small-dialog__activator__content{display:inline-block}.v-small-dialog__content{padding:0 16px}.v-small-dialog__actions{padding:8px;text-align:right;white-space:pre}",""]),e.exports=t},506:function(e,t,n){"use strict";n(12),n(8),n(6),n(4),n(9),n(58);var r=n(2),o=(n(465),n(436)),l=n(450),c=n(48),d=n(0);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h=f(f({},o.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});t.a=o.a.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(e,t,n){return n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:o.a.options.props.menuProps.type,default:function(){return h}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return f(f({},o.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var e=this;return this.selectedItems.map((function(t){return e.getValue(t)}))},hasDisplayedItems:function(){var e=this;return this.hideSelected?this.filteredItems.some((function(t){return!e.hasItem(t)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var e=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(t){var n=Object(d.r)(t,e.itemText),text=null!=n?String(n):"";return e.filter(t,String(e.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(e){this.lazySearch=e,this.$emit("update:search-input",e)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var e=o.a.options.computed.$_menuProps.call(this);return e.contentClass="v-autocomplete__content ".concat(e.contentClass||"").trim(),f(f({},h),e)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var e=this;return this.multiple?null:this.selectedItems.find((function(i){return e.valueComparator(e.getValue(i),e.getValue(e.internalValue))}))},listData:function(){var data=o.a.options.computed.listData.call(this);return data.props=f(f({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(e){!e&&this.hasSlot&&(this.lazySearch=void 0)},items:function(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput:function(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(e,t){var n=this;e!==t&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===e.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(e){this.searchIsDirty||(this.multiple&&e===d.x.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===d.x.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==d.x.backspace&&e!==d.x.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var e=this.selectedIndex,t=this.selectedItems[e];if(this.isInteractive&&!this.getDisabled(t)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var r=e!==this.selectedItems.length-1?e:e-1;this.selectedItems[r]?this.selectItem(t):this.setValue(this.multiple?[]:void 0),this.selectedIndex=r}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=void 0,o.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.p)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.p)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=o.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?o.a.options.methods.genSelections.call(this):[]},onClick:function(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput:function(e){if(!(this.selectedIndex>-1)&&e.target){var t=e.target,n=t.value;t.value&&this.activateMenu(),this.internalSearch=n,this.badInput=t.validity&&t.validity.badInput}},onKeyDown:function(e){var t=e.keyCode;o.a.options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown:function(e){},onTabDown:function(e){o.a.options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown:function(e){e.preventDefault(),this.activateMenu()},selectItem:function(e){o.a.options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems:function(){o.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var e=this;this.$nextTick((function(){e.multiple&&e.internalSearch&&e.isMenuActive||(e.internalSearch=!e.selectedItems.length||e.multiple||e.hasSlot?null:e.getText(e.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy:function(e){if(-1!==this.selectedIndex){var t=this.selectedItems[this.selectedIndex],n=this.getText(t);e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",n),e.preventDefault()}}}})},528:function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t){t.forEach((function(t){var n=e.document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t),e.document.getElementsByTagName("head")[0].appendChild(n)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.prototype.$htmlToPaper=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},l=["fullscreen=yes","titlebar=yes","scrollbars=yes"],u=[],i=t.name,s=void 0===i?"_blank":i,c=t.specs,a=void 0===c?l:c,d=t.replace,p=void 0===d||d,v=t.styles,f=void 0===v?u:v;n&&(n.name&&(s=n.name),n.specs&&(a=n.specs),n.replace&&(p=n.replace),n.styles&&(f=n.styles)),console.warn(f),a=a.length?a.join(","):"";var h=document.getElementById(e);if(h){var m=window.open("",s,a,p);return m.document.write("\n        <html>\n          <head>\n            <title>"+document.title+"</title>\n          </head>\n          <body>\n            "+h.innerHTML+"\n          </body>\n        </html>\n      "),r(m,f),setTimeout((function(){m.document.close(),m.focus(),m.print(),m.close(),o()}),1e3),!0}alert("Element to print #"+e+" not found!")}}}}])},545:function(e,t,n){"use strict";var r=n(490);n.n(r).a},546:function(e,t,n){(t=n(14)(!1)).push([e.i,".short-textfilds.v-text-field.v-text-field--enclosed .v-input__slot{padding:0!important;width:60px;margin:0 auto;border:1px solid #b4b4b4}.short-textfilds.v-text-field.v-text-field--enclosed .v-input__slot input{text-align:center}.short-textfilds.v-text-field.v-text-field--enclosed .v-input__slot .long-little{width:60px}.v-autocomplete__content{border-radius:5px!important}.v-autocomplete__content::-webkit-scrollbar{width:5px}.v-autocomplete__content::-webkit-scrollbar-thumb{background-color:#a1a1a1;border-radius:10px}.v-autocomplete__content::-webkit-scrollbar-track{background:#fff;border-radius:10px}",""]),e.exports=t},547:function(e,t,n){"use strict";var r=n(491);n.n(r).a},548:function(e,t,n){(t=n(14)(!1)).push([e.i,".hidden-header .v-data-table-header-mobile{position:absolute;visibility:hidden}",""]),e.exports=t},549:function(e,t,n){"use strict";n(492);var r=n(186),o=n(16),l=n(0),c=n(112),d=n(410),v=n(7);t.a=Object(v.a)(r.a,o.a).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(e){e?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var input=this.$refs.content.querySelector("input");input&&input.focus()},genButton:function(e,text){return this.$createElement(c.a,{props:{text:!0,color:"primary",light:!0},on:{click:e}},text)},genActions:function(){var e=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){e.save(e.returnValue),e.$emit("save")}),this.saveText)])},genContent:function(){var e=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(t){t.keyCode===l.x.esc&&e.cancel(),t.keyCode===l.x.enter&&(e.save(e.returnValue),e.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(e){var t=this;return e(d.a,{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(e){return t.isActive=e}},scopedSlots:{activator:function(n){var r=n.on;return e("div",{staticClass:"v-small-dialog__activator",on:r},[e("span",{staticClass:"v-small-dialog__activator__content"},t.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},552:function(e,t,n){"use strict";n(38);var r=n(5),o=(n(12),n(8),n(6),n(4),n(9),n(2));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var c={props:{disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{type:this.$store.state.form.itemGroup,select:null,timeout:null,items:[],search:null,value:null,loading:!1,count:1}},watch:{search:function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){""!==e?t.querySelections(e):(t.items=[],t.loading=!1)}),500)}},mounted:function(){var e=this;0===this.$store.state.form.itemGroup.length&&this.$store.dispatch("form/addItemGroup").then((function(t){e.type=t}))},methods:{querySelections:function(e){var t=this;this.loading=!0,this.$axios.$get("/api/config/items?label=".concat(e).concat(null!==this.select?"&groupId=".concat(this.select):""),{progress:!1}).then((function(e){t.items=e.results,t.loading=!1})).catch((function(e){alert(e)}))},selectedItem:function(){var e=this,t=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.value),n=this.count,r={posId:void 0!==this.$route.params.queue?null:this.$route.params.posid,itemId:t.id,qty:n};this.$axios.$post("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders"),r,{progress:!1}).then((function(t){e.$emit("add",t),e.count=1})).catch((function(e){alert(e)}))},isNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&e.preventDefault()}}},d=(n(545),n(57)),v=n(75),f=n.n(v),h=n(506),m=n(421),x=n(511),_=n(171),y=n(105),w=n(113),k=n(423),O=n(436),I=n(450),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",{staticClass:"px-5",attrs:{align:"center",justify:"center",dense:""}},[n("v-col",{attrs:{md:"2",cols:"5"}},[n("v-select",{staticClass:"rounded-lg",attrs:{items:e.type,disabled:e.disabled,"item-text":"label","item-value":"id","item-color":"cusblue","menu-props":{closeOnContentClick:!0},label:"ประเภท",light:"",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":""},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[n("v-list-item",{style:null===e.select?"background-color: #e2f5fc":"",attrs:{ripple:""},on:{click:function(t){e.select=null}}},[n("v-list-item-content",[n("v-list-item-title",{class:null===e.select?"cusblue--text":""},[e._v("\n                ทั้งหมด\n              ")])],1)],1),e._v(" "),n("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1),e._v(" "),n("v-col",{attrs:{md:"10",cols:"7"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"8",md:"10"}},[n("v-autocomplete",{staticClass:"rounded-lg",attrs:{items:e.items,disabled:e.disabled,"item-text":"label","item-value":"id","item-color":"cusblue2","search-input":e.search,loading:e.loading,"return-object":"",light:"",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},change:e.selectedItem,focus:function(t){e.value=null}},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-icon",[e._v("mdi-magnify")])]},proxy:!0},{key:"selection",fn:function(data){return[n("span",[e._v(e._s(data.item.name))])]}},{key:"item",fn:function(data){return[[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(data.item.label)}})],1)]]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4",md:"2"}},[n("v-text-field",{staticClass:"ml-2 rounded-lg text-nav",attrs:{disabled:e.disabled,"prepend-icon":"mdi-close",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.count,callback:function(t){e.count=t},expression:"count"}})],1)],1)],1)],1),e._v(" "),n("v-divider")],1)}),[],!1,null,null,null),$=component.exports;f()(component,{VAutocomplete:h.a,VCol:m.a,VDivider:x.a,VIcon:_.a,VListItem:y.a,VListItemContent:w.a,VListItemTitle:w.b,VRow:k.a,VSelect:O.a,VTextField:I.a});function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var S={data:function(){return{assignModal:!1,loading:!1,valid:!1,addData:{orderId:"",instr:"",dose:"",freq:"",caution:""},rules:{instr:[function(e){return!!e||"กรุณากรอกคำแนะนำ"},function(e){return e&&e.length<=100||"ไม่ควรกรอกคำแนะนำเกิน 100 ตัวอักษร"}],dose:[function(e){return e&&/^[0-9]*$/.test(e)||"กรุณากรอกตัวเลขเท่านั้น"}],freq:[function(e){return!!e||"กรุณากรอกความถี่"},function(e){return e&&e.length<=100||"ไม่ควรกรอกความถี่เกิน 100 ตัวอักษร"}],caution:[function(e){return!!e||"กรุณากรอกข้อควรระวัง"},function(e){return e&&e.length<=100||"ไม่ควรกรอกความถี่เกิน 100 ตัวอักษร"}]}}},watch:{assignModal:function(e){!1===e&&(this.addData={orderId:"",instr:"",dose:"",freq:"",caution:""})}},methods:{open:function(e){this.assignModal=!0,this.getDrug(e)},getDrug:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$axios.$get("/api/orders/".concat(e,"/drug"),{progress:!1});case 3:r=n.sent,t.addData={orderId:e,instr:r.instruction,dose:r.dose,freq:r.frequency,caution:r.caution},n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},updateItem:function(){var e=this;if(this.$refs.form.validate()){this.loading=!0;var t=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.addData),n={instr:t.instruction,dose:t.dose,freq:t.frequency,caution:t.caution};this.$axios.$patch("/api/orders/".concat(t.orderId,"/drug"),n,{progress:!1}).then((function(t){setTimeout((function(){e.loading=!1,e.assignModal=!1}),500)})).catch((function(t){e.loading=!1,alert(t)}))}}}},C=n(104),j=n(412),P=n(409),V=n(566),T=n(458),F=n(170),M=n(426),B=Object(d.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"600",scrollable:""},model:{value:e.assignModal,callback:function(t){e.assignModal=t},expression:"assignModal"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[e._v("แก้ไขรายการ")]),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",{staticClass:"px-8"},[n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:e.rules.instr,disabled:e.loading,label:"Instruction",color:"cusblue2"},model:{value:e.addData.instr,callback:function(t){e.$set(e.addData,"instr",t)},expression:"addData.instr"}})],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:e.rules.dose,disabled:e.loading,label:"Dose",color:"cusblue2"},model:{value:e.addData.dose,callback:function(t){e.$set(e.addData,"dose",t)},expression:"addData.dose"}})],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:e.rules.freq,disabled:e.loading,label:"Frequency",color:"cusblue2"},model:{value:e.addData.freq,callback:function(t){e.$set(e.addData,"freq",t)},expression:"addData.freq"}})],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{rules:e.rules.caution,disabled:e.loading,label:"Caution",color:"cusblue2"},model:{value:e.addData.caution,callback:function(t){e.$set(e.addData,"caution",t)},expression:"addData.caution"}})],1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{disabled:e.loading,color:"cusblue2",text:""},on:{click:function(t){e.assignModal=!1}}},[e._v("\n        ยกเลิก\n      ")]),e._v(" "),n("v-btn",{attrs:{disabled:!e.valid||e.loading,color:"cusblue2",text:""},on:{click:e.updateItem}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),e._v("\n        บันทึก\n      ")],1)],1)],1)],1)}),[],!1,null,null,null),N=B.exports;f()(B,{VBtn:C.a,VCard:j.a,VCardActions:P.a,VCardText:P.c,VCol:m.a,VDialog:V.a,VDivider:x.a,VForm:T.a,VProgressCircular:F.a,VRow:k.a,VSpacer:M.a,VTextField:I.a});var E=n(433),z=(n(21),n(22),{data:function(){return{assignModal:!1,id:"",order:[],endBill:"",payType:1,paymentType:this.$store.state.form.paymentType,money:{receive:"",numPad:[1,2,3,4,5,6,7,8,9,".",0,"ลบ"],bank:[1e3,500,100,50,20]},credit:{typeSelected:1,type:this.$store.state.form.creditCard,fee:"",followSelected:2,follow:this.$store.state.form.creditFee,number:""},note:"",valid:!1,rules:{note:[function(e){return!!e||"กรุณากรอกโน้ต"},function(e){return e&&e.length<=1e3||"ไม่ควรกรอกโน้ตเกิน 1000 ตัวอักษร"}],number:[function(e){return!!e||"กรุณากรอกหมายเลขการโอน"},function(e){return e&&e.length<=1e3||"ไม่ควรกรอกหมายเลขการโอนเกิน 1000 ตัวอักษร"}]}}},computed:{sumPrice:function(){var e=0;return this.order.map((function(t){return e+=t.price*t.qty})),e},lessPrice:function(){return(parseFloat(this.sumPrice||0)-parseFloat(this.endBill||0)).toFixed(0).toString()},payment:function(){if(3===this.payType&&1===this.credit.followSelected){var e=parseFloat(this.lessPrice||0)+parseFloat(this.calcFee||0);return e>=0?(this.setValid(!0),e.toFixed(1).toString()):(this.setValid(!1),"ไม่สามารถชำระเงิน")}var t=parseFloat(this.lessPrice||0);return t>=0?(this.setValid(!0),t.toFixed(0).toString()):(this.setValid(!1),"ไม่สามารถชำระเงิน")},changeMoney:function(){var e=parseFloat(this.money.receive||0)-parseFloat(this.payment||0);return e>=0?e.toFixed(2).toString():"ไม่สามารถทอนเงิน"},calcFee:function(){return(parseFloat(this.lessPrice||0)/100*parseFloat(this.credit.fee||0)).toFixed(2).toString()}},created:function(){var e=this;0===this.$store.state.form.paymentType.length&&this.$store.dispatch("form/addpaymentType").then((function(t){e.paymentType=t})),0===this.$store.state.form.creditCard.length&&this.$store.dispatch("form/addcreditCard").then((function(t){e.credit.type=t})),0===this.$store.state.form.creditFee.length&&this.$store.dispatch("form/addcreditFee").then((function(t){e.credit.follow=t}))},methods:{open:function(e){var t=this;this.$axios.$get("/api/orders?posId=".concat(e),{progress:!1}).then((function(n){t.id=e,t.order=n.results})).catch((function(e){alert(e)})),this.assignModal=!0},isNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&46!==t&&e.preventDefault()},addNum:function(e){if(/[^0-9.]/.test(e)){var t=this.money.receive;t=t.slice(0,-1),this.money.receive=t}else this.money.receive+=e},plusNum:function(e){var t=parseFloat(this.money.receive||0)+e;this.money.receive=t.toString()},setValid:function(e){this.valid=e},checkout:function(e){var t=this;if(this.valid&&this.$refs.form.validate()){var n=2===this.payType?{qty:this.order.length,salesPrice:this.sumPrice,discount:parseFloat(this.endBill||0),netPrice:parseFloat(this.payment||0),paymentTypeId:this.payType,note:this.note}:3===this.payType?{qty:this.order.length,salesPrice:this.sumPrice,discount:parseFloat(this.endBill||0),netPrice:parseFloat(this.payment||0),paymentTypeId:this.payType,creditCardIssuerId:this.credit.typeSelected,creditCardFeesMethodId:this.credit.followSelected,creditCardFees:parseFloat(this.calcFee||0),note:this.credit.number}:{qty:this.order.length,salesPrice:this.sumPrice,discount:parseFloat(this.endBill||0),netPrice:parseFloat(this.payment||0),paymentTypeId:this.payType};console.log(n),this.$axios.$post("/api/pos/".concat(e,"/receipts"),n,{progress:!1}).then((function(e){t.assignModal=!1,t.$emit("updateState",e)})).catch((function(e){alert(e)}))}}}}),A=n(488),R=Object(d.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"900",scrollable:""},model:{value:e.assignModal,callback:function(t){e.assignModal=t},expression:"assignModal"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[e._v("สรุปยอด")]),e._v(" "),n("v-divider"),e._v(" "),n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"py-3 px-8"},[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"ยอดขาย",color:"cusblue2",disabled:""},on:{keypress:function(t){return e.isNumber(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[e._v("฿")])]},proxy:!0}]),model:{value:e.sumPrice,callback:function(t){e.sumPrice=t},expression:"sumPrice"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"ส่วนลดท้ายบิล",color:"cusblue2"},on:{keypress:function(t){return e.isNumber(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[e._v("฿")])]},proxy:!0}]),model:{value:e.endBill,callback:function(t){e.endBill=t},expression:"endBill"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"ยอดชำระสุทธิ",color:"cusblue2",disabled:""},on:{keypress:function(t){return e.isNumber(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[e._v("฿")])]},proxy:!0}]),model:{value:e.payment,callback:function(t){e.payment=t},expression:"payment"}})],1)],1)],1),e._v(" "),n("v-divider",{staticClass:"dash-divider"}),e._v(" "),n("div",{staticClass:"py-3 px-8"},[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-card",{staticClass:"pt-3 text-center"},[n("h4",[e._v("วิธีการชำระเงิน")]),e._v(" "),n("v-divider"),e._v(" "),n("v-card-text",[n("v-row",{attrs:{dense:""}},e._l(e.paymentType,(function(t){return n("v-col",{key:t.id,attrs:{cols:"12"}},[n("v-btn",{attrs:{color:"cusblue3",block:"",dark:"",depressed:"",outlined:e.payType!==t.id},on:{click:function(n){e.payType=t.id}}},[e._v("\n                        "+e._s(t.label)+"\n                      ")])],1)})),1)],1)],1)],1),e._v(" "),n("v-col",{attrs:{cols:"8"}},[2===e.payType?n("v-row",{attrs:{dense:""}},[n("v-textarea",{attrs:{rules:e.rules.note,color:"cusblue",label:"Note","auto-grow":"","row-height":"24",rows:"1"},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}})],1):3===e.payType?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-select",{attrs:{items:e.credit.type,"item-text":"label","item-value":"id","item-color":"cusblue",label:"ประเภทบัตร",dense:"",outlined:""},model:{value:e.credit.typeSelected,callback:function(t){e.$set(e.credit,"typeSelected",t)},expression:"credit.typeSelected"}})],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{hint:"ค่าธรรมเนียมบัตรเครดิต ฿"+e.calcFee,color:"cusblue2","persistent-hint":"",dense:""},on:{keypress:function(t){return e.isNumber(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[e._v("%")])]},proxy:!0}]),model:{value:e.credit.fee,callback:function(t){e.$set(e.credit,"fee",t)},expression:"credit.fee"}})],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-select",{attrs:{items:e.credit.follow,label:"การติดตามค่าธรรมเนียม","item-text":"label","item-value":"id","item-color":"cusblue",dense:""},model:{value:e.credit.followSelected,callback:function(t){e.$set(e.credit,"followSelected",t)},expression:"credit.followSelected"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{rules:e.rules.number,color:"cusblue",label:"หมายเลขการโอน","auto-grow":"","row-height":"24",rows:"1"},model:{value:e.credit.number,callback:function(t){e.$set(e.credit,"number",t)},expression:"credit.number"}})],1)],1):n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"เงินรับชำระ",color:"cusblue2",dense:""},on:{keypress:function(t){return e.isNumber(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[e._v("฿")])]},proxy:!0}]),model:{value:e.money.receive,callback:function(t){e.$set(e.money,"receive",t)},expression:"money.receive"}})],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"เงินทอน",color:"cusblue2",disabled:"",dense:""},on:{keypress:function(t){return e.isNumber(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("span",{staticClass:"mt-1"},[e._v("฿")])]},proxy:!0}]),model:{value:e.changeMoney,callback:function(t){e.changeMoney=t},expression:"changeMoney"}})],1),e._v(" "),n("v-col",{attrs:{cols:"9"}},[n("v-row",{attrs:{dense:""}},e._l(e.money.numPad,(function(t){return n("v-col",{key:t,attrs:{cols:"4"}},[n("v-btn",{attrs:{color:"cusblue3",outlined:"",block:"",height:"50"},on:{click:function(n){return e.addNum(t)}}},[e._v("\n                        "+e._s(t)+"\n                      ")])],1)})),1)],1),e._v(" "),n("v-col",{attrs:{cols:"3"}},[n("v-row",{attrs:{dense:""}},e._l(e.money.bank,(function(t){return n("v-col",{key:t,attrs:{cols:"12"}},[n("v-btn",{attrs:{color:"cusblue3",outlined:"",block:"",height:"38.3"},on:{click:function(n){return e.plusNum(t)}}},[e._v("\n                        +"+e._s(t)+"฿\n                      ")])],1)})),1)],1)],1)],1)],1)],1)],1),e._v(" "),n("v-card-actions",{staticStyle:{"border-top":"1px solid rgb(202, 201, 201)"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:function(t){e.assignModal=!1}}},[e._v("\n          ยกเลิก\n        ")]),e._v(" "),n("v-btn",{attrs:{color:"cusblue2",disabled:!e.valid,text:""},on:{click:function(t){return e.checkout(e.id)}}},[e._v("\n          ชำระเงิน\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null),L=R.exports;f()(R,{VBtn:C.a,VCard:j.a,VCardActions:P.a,VCardText:P.c,VCol:m.a,VDialog:V.a,VDivider:x.a,VForm:T.a,VRow:k.a,VSelect:O.a,VSpacer:M.a,VTextField:I.a,VTextarea:A.a});var H=n(1),G=n(528),K=n.n(G);H.a.use(K.a,{name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes","width=1000,height=600"],styles:["/receipt.css","https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css","https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css"]});var Y={components:{checkListNav:$,drugDialog:N,confirmDialog:E.a,calcDialog:L},props:{visitData:{default:null,type:Object,required:!1},orderItem:{type:Array,required:!1,default:null},posData:{type:Object,required:!1,default:null}},data:function(){return{confirmDel:!1,headers:[{text:"รายการ",value:"itemLabel",align:"left",width:"180",sortable:!1},{text:"ประเภท",value:"typeLabel",align:"center",width:"",sortable:!1},{text:"จำนวน",value:"qty",align:"center",width:"",sortable:!1},{text:"หน่วย",value:"unit",align:"center",width:"",sortable:!1},{text:"ราคาต่อหน่วย",value:"price",align:"center",width:"",sortable:!1},{text:"Action",value:"action",align:"center",width:"",sortable:!1}],qty:"",rules:[function(e){return e&&/^[0-9]*$/.test(e)||"กรุณากรอกตัวเลขเท่านั้น"}],showPrint:!1,receiptDetail:null}},computed:{sumPrice:function(){var e=0;return this.orderItem.map((function(t){return e+=t.price*t.qty})),e}},methods:{openDrugDialog:function(e){this.$refs.drugDialog.open(e)},finalDialog:function(e){this.$refs.calcDialog.open(e)},updateStatePOS:function(e){this.posData.state=e},updateState:function(e,t){var n=this;this.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่".concat("pending"===t?"พัก":"ยกเลิกพัก","รายการนี้"),{width:290,color:"warning"}).then((function(r){var o={state:t};n.$axios.$patch("/api/pos/".concat(e),o,{progress:!1}).then((function(e){"pending"===t?n.$router.push("/pos"):n.updateStatePOS("active")})).catch((function(e){alert(e)}))})).catch((function(){}))},addOrder:function(e){this.$emit("add",e)},isNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&e.preventDefault()},delOrder:function(e){var t=this;this.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่จะลบข้อมูลนี้",{width:290,color:"red"}).then((function(n){t.$axios.$delete("/api".concat(void 0!==t.$route.params.queue?"/visits/".concat(t.$route.params.queue):"","/orders/").concat(e),{progress:!1}).then((function(n){t.$emit("delete",e)})).catch((function(e){alert(e)}))})).catch((function(){}))},saveQTY:function(e,t){var n={qty:t};this.$axios.$patch("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders/").concat(e),n,{progress:!1}).catch((function(e){alert(e)}))},savePrice:function(e,t){var n={price:t};this.$axios.$patch("/api".concat(void 0!==this.$route.params.queue?"/visits/".concat(this.$route.params.queue):"","/orders/").concat(e),n,{progress:!1}).catch((function(e){alert(e)}))},endCheck:function(e,t){var n=this;this.$refs.confirm.open("ยืนยันการรอผลตรวจ?","ต้องการยืนยันการรอผลตรวจใช่หรือไม่",{width:290,color:"primary"}).then((function(r){n.$axios.$patch("/api/visits/".concat(e),{visitStatusId:t},{progress:!1}).then((function(e){n.$router.push("/queue")})).catch((function(e){alert(e)}))})).catch((function(){}))},getReceipt:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.$get("/api/pos/".concat(t.$route.params.posid,"/receipts?receiptNumber=").concat(e),{progress:!1});case 2:r=n.sent,t.receiptDetail=r,t.print();case 5:case"end":return n.stop()}}),n)})))()},printReceipt:function(e){this.receiptDetail=e,this.posData.receiptNumber=e.receiptNumber,this.updateStatePOS("success"),this.print()},print:function(){var e=this;this.showPrint=!0,this.$nextTick((function(){e.$htmlToPaper("printMe",null,(function(){e.showPrint=!1}))}))}}},J=(n(547),n(508)),Q=n(549),U=Object(d.a)(Y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-data-table",{staticClass:"elevation-4 hidden-header",attrs:{headers:e.headers,items:e.orderItem,"disable-pagination":"","hide-default-footer":"",height:"calc(100vh - 210px)","fixed-header":""},scopedSlots:e._u([{key:"item.qty",fn:function(t){return[n("v-edit-dialog",{attrs:{"return-value":t.item.qty},on:{"update:returnValue":function(n){return e.$set(t.item,"qty",n)},"update:return-value":function(n){return e.$set(t.item,"qty",n)},save:function(n){return e.saveQTY(t.item.id,t.item.qty)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{rules:e.rules,label:"Edit","single-line":"",counter:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.item.qty,callback:function(n){e.$set(t.item,"qty",n)},expression:"props.item.qty"}})]},proxy:!0}],null,!0)},[n("span",{staticClass:"cusblue--text"},[e._v("\n          "+e._s(t.item.qty)+"\n        ")])])]}},{key:"item.price",fn:function(t){return[n("v-edit-dialog",{attrs:{"return-value":t.item.price},on:{"update:returnValue":function(n){return e.$set(t.item,"price",n)},"update:return-value":function(n){return e.$set(t.item,"price",n)},save:function(n){return e.savePrice(t.item.id,t.item.price)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{rules:e.rules,label:"Edit","single-line":"",counter:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.item.price,callback:function(n){e.$set(t.item,"price",n)},expression:"props.item.price"}})]},proxy:!0}],null,!0)},[n("span",{staticClass:"cusblue--text"},[e._v("\n          "+e._s(t.item.price)+"\n        ")])])]}},{key:"item.action",fn:function(t){var r=t.item;return[1===r.typeId?n("v-btn",{attrs:{disabled:null!==e.posData&&"active"!==e.posData.state,icon:"","x-small":""},on:{click:function(t){return e.openDrugDialog(r.id)}}},[n("v-icon",[e._v("mdi-pencil")])],1):e._e(),e._v(" "),n("v-btn",{attrs:{icon:"","x-small":"",disabled:null!==e.posData&&"active"!==e.posData.state},on:{click:function(t){return e.delOrder(r.id)}}},[n("v-icon",[e._v("mdi-trash-can")])],1)]}},{key:"footer",fn:function(){return[void 0!==e.$route.params.posid?n("div",{staticClass:"pa-2",staticStyle:{"border-top":"1px solid #dadada"}},[n("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-between"}},["active"===e.posData.state?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",dark:""},on:{click:function(t){return e.updateState(e.$route.params.posid,"pending")}}},[e._v("\n            พักรายการ\n          ")]):"pending"===e.posData.state?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",dark:""},on:{click:function(t){return e.updateState(e.$route.params.posid,"active")}}},[e._v("\n            ยกเลิกพักรายการ\n          ")]):e._e(),e._v(" "),n("v-spacer"),e._v(" "),n("div",{staticClass:"font-weight-medium",staticStyle:{display:"inline-block"}},[n("span",[e._v("ราคารวม : "+e._s(e.sumPrice)+" บาท")]),e._v(" "),"active"===e.posData.state?n("v-btn",{staticClass:"font-weight-regular text-capitalize ml-2",attrs:{color:"cusblue3 white--text",disabled:0===e.orderItem.length,depressed:""},on:{click:function(t){return e.finalDialog(e.$route.params.posid)}}},[e._v("\n              สรุปยอด\n            ")]):"success"===e.posData.state?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize ml-2",attrs:{depressed:"",dark:""},on:{click:function(t){return e.getReceipt(e.posData.receiptNumber)}}},[e._v("\n              พิมพ์\n            ")]):e._e()],1)],1)],1):n("div",{staticClass:"pa-1 text-right",staticStyle:{"border-top":"1px solid #dadada"}},[n("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-between"}},[null!==e.visitData&&2===e.visitData.visitStatus.id?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",dark:""},on:{click:function(t){return e.endCheck(e.$route.params.queue,3)}}},[e._v("\n            รอผลตรวจ\n          ")]):e._e(),e._v(" "),n("div",{staticClass:"font-weight-medium",staticStyle:{display:"inline-block"}},[n("span",[e._v("ราคารวม : "+e._s(e.sumPrice)+" บาท")])])],1)],1)]},proxy:!0},{key:"top",fn:function(){return[n("checkListNav",{attrs:{disabled:null===e.posData||"active"!==e.posData.state},on:{add:e.addOrder}})]},proxy:!0}],null,!0)}),e._v(" "),n("drugDialog",{ref:"drugDialog"}),e._v(" "),n("confirmDialog",{ref:"confirm"}),e._v(" "),n("calcDialog",{ref:"calcDialog",on:{updateState:e.printReceipt}}),e._v(" "),e.showPrint?n("div",{staticClass:"text-center",attrs:{id:"printMe"}},[n("div",{staticClass:"bill"},[n("span",[e._v("ใบเสร็จ")]),e._v(" "),n("br"),e._v(" "),n("span",[e._v(e._s(e.receiptDetail.clinicName))]),e._v(" "),n("br"),e._v(" "),n("span",[e._v("\n        "+e._s(e.receiptDetail.branchName+" "+e.receiptDetail.branchNo)+"\n      ")]),e._v(" "),n("br"),e._v(" "),n("span",[e._v(e._s(e.receiptDetail.address))]),e._v(" "),n("br"),e._v(" "),n("span",[e._v(e._s(e.receiptDetail.phone))]),e._v(" "),n("br"),e._v(" "),n("span",[e._v(e._s(e.receiptDetail.receiptNumber))]),e._v(" "),n("br"),e._v(" "),e._l(e.orderItem,(function(t){return n("v-row",{key:t.name,attrs:{align:"center",justify:"space-between",dense:""}},[n("v-col",{attrs:{cols:"6"}},[e._v(e._s(t.itemLabel+" ( x"+t.qty+" )"))]),e._v(" "),n("v-col",{attrs:{cols:"6"}},[e._v(e._s(t.price)+" บาท")])],1)})),e._v(" "),n("span",[e._v("\n        "+e._s("จำนวนรายการ "+e.receiptDetail.qty+" รายการ")+"\n      ")]),e._v(" "),n("br"),e._v(" "),n("span",[e._v(" "+e._s("ราคา "+e.receiptDetail.salesPrice+" บาท")+" ")]),e._v(" "),n("span",[n("br"),e._v("\n        "+e._s("ส่วนลด "+e.receiptDetail.discount+" บาท")+"\n      ")]),e._v(" "),n("br"),e._v(" "),n("span",[e._v("\n        "+e._s("รวม "+e.receiptDetail.netPrice+" บาท")+"\n      ")]),e._v(" "),n("br")],2)]):e._e()],1)}),[],!1,null,null,null);t.a=U.exports;f()(U,{VBtn:C.a,VCol:m.a,VDataTable:J.a,VEditDialog:Q.a,VIcon:_.a,VRow:k.a,VSpacer:M.a,VTextField:I.a})},644:function(e,t,n){"use strict";n.r(t);n(139),n(38);var r=n(5),o={components:{checklistCard:n(552).a},asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,r=e.params,t.next=3,n.$get("/api/orders?posId=".concat(r.posid),{progress:!1});case 3:return o=t.sent,t.next=6,n.$get("/api/pos/".concat(r.posid),{progress:!1});case 6:return l=t.sent,t.abrupt("return",{order:o.results,pos:l});case 8:case"end":return t.stop()}}),t)})))()},methods:{addOrder:function(data){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/api/orders?posId=".concat(e.$route.params.posid),{progress:!1});case 2:n=t.sent,e.order=n.results;case 4:case"end":return t.stop()}}),t)})))()},delOrder:function(e){var t=this.order.findIndex((function(t){return t.id===e}));this.order.splice(t,1)}}},l=n(57),component=Object(l.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"custom-container"},[t("checklistCard",{attrs:{"order-item":this.order,"pos-data":this.pos},on:{add:this.addOrder,delete:this.delOrder}})],1)])}),[],!1,null,null,null);t.default=component.exports}}]);