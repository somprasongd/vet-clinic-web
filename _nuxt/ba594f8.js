(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{375:function(t,e,n){"use strict";n(4);var r={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},computed:{show:{get:function(){return this.dialog},set:function(t){this.dialog=t,!1===t&&this.cancel()}}},methods:{open:function(title,t,e){var n=this;return this.dialog=!0,this.title=title,this.message=t,this.options=Object.assign(this.options,e),new Promise((function(t,e){n.resolve=t,n.reject=e}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.reject(!0),this.dialog=!1}}},l=n(55),o=n(74),c=n.n(o),d=n(155),v=n(354),h=n(351),f=n(490),m=n(368),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[n("h2",{staticClass:"pl-6 pt-3 pb-2"},[t._v(t._s(t.title))]),t._v(" "),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}]},[t._v(" "+t._s(t.message)+" ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:t.options.color,text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t._v(" ใช่ ")]),t._v(" "),n("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v(" ไม่ ")])],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;c()(component,{VBtn:d.a,VCard:v.a,VCardActions:h.a,VCardText:h.c,VDialog:f.a,VSpacer:m.a})},419:function(t,e,n){"use strict";var r={data:function(){return{tab:null,lists:[{title:"ระบบ",list:[{name:"สถานพยาบาล",link:"/setting/hospital"},{name:"ผู้ใช้งาน",link:"/setting/users"}]},{title:"ตัวช่วย",list:[{name:"Chief Complaint",link:"/setting/Chief-Complaint"},{name:"Differencial Diagnosis",link:"/setting/Differential-Diagnosis"},{name:"History Ranking",link:"/setting/History-Ranking"},{name:"Physical Examination",link:"/setting/Physical-Examination"}]},{title:"รายการตรวจ",list:[{name:"รายการตรวจ",link:"/setting/check"}]}]}},created:function(){var path=this.$nuxt.$route.path;this.tab="/setting/Chief-Complaint"===path||"/setting/Differential-Diagnosis"===path||"/setting/History-Ranking"===path||"/setting/Physical-Examination"===path?1:"/setting/check"===path?2:0}},l=n(55),o=n(74),c=n.n(o),d=n(354),v=n(351),h=n(424),f=n(158),m=n(159),_=n(99),x=n(108),C=n(369),k=n(454),y=n(370),V=n(217),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[this.$vuetify.breakpoint.smAndUp?n("div",t._l(t.lists,(function(e){return n("v-card",{key:e.index,staticClass:"mb-3 elevation-4"},[n("v-card-title",{staticClass:"pa-0 pl-5 pt-3"},[t._v(t._s(e.title))]),t._v(" "),n("v-divider"),t._v(" "),n("v-list",{staticClass:"pa-0",attrs:{dense:""}},t._l(e.list,(function(e){return n("v-list-item",{key:e.index,attrs:{link:"",to:e.link}},[n("v-icon",{staticClass:"mr-3",attrs:{color:"cusblue3","x-small":""}},[t._v("mdi-record")]),t._v(" "),n("v-list-item-content",[t._v("\n            "+t._s(e.name)+"\n          ")])],1)})),1)],1)})),1):n("div",[n("v-card",{staticClass:"mb-3 elevation-4"},[n("v-tabs",{attrs:{color:"cusblue3"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.lists,(function(e){return n("v-tab",{key:e.title},[t._v("\n          "+t._s(e.title)+"\n        ")])})),1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.lists,(function(e){return n("v-tab-item",{key:e.title},[n("v-card",{attrs:{flat:""}},[n("v-list",{staticClass:"pa-0",attrs:{dense:""}},t._l(e.list,(function(e){return n("v-list-item",{key:e.index,attrs:{link:"",to:e.link}},[n("v-icon",{staticClass:"mr-3",attrs:{color:"cusblue3","x-small":""}},[t._v("mdi-record")]),t._v(" "),n("v-list-item-content",[t._v("\n                  "+t._s(e.name)+"\n                ")])],1)})),1)],1)],1)})),1)],1)],1)])}),[],!1,null,null,null);e.a=component.exports;c()(component,{VCard:d.a,VCardTitle:v.d,VDivider:h.a,VIcon:f.a,VList:m.a,VListItem:_.a,VListItemContent:x.a,VTab:C.a,VTabItem:k.a,VTabs:y.a,VTabsItems:V.a})},422:function(t,e,n){"use strict";var r=n(55),l=n(74),o=n.n(l),c=n(364),d=n(366),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("v-row",{staticClass:"cusblue1 px-10",attrs:{align:"center",justify:"center",dense:""}},[e("v-col",{attrs:{cols:"12"}},[e("h1",{staticClass:"font-weight-medium"},[this._v("ตั้งค่า")])])],1)}),[],!1,null,null,null);e.a=component.exports;o()(component,{VCol:c.a,VRow:d.a})},577:function(t,e,n){"use strict";n.r(e);n(132),n(43);var r=n(10),l=n(422),o=n(419),c=(n(224),n(28),n(30),{components:{confirmDialog:n(375).a},props:{title:{type:String,required:!0},helper:{default:null,type:Array,required:!1}},data:function(){return{search:""}},computed:{filterHelper:function(){var t=this;return this.helper.filter((function(e){return e.label.toLowerCase().includes(t.search.toLowerCase())||e.code.toLowerCase().includes(t.search.toLowerCase())}))}},methods:{editHelper:function(t){this.$emit("editHelper",t)},delHelper:function(t){var e=this;this.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่จะลบข้อมูลนี้",{width:290,color:"red"}).then((function(n){e.$emit("delete",t)})).catch((function(){}))}}}),d=n(55),v=n(74),h=n.n(v),f=n(155),m=n(354),_=n(351),x=n(364),C=n(424),k=n(158),y=n(99),V=n(160),w=n(108),$=n(366),D=n(421),H=n(497),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"pl-5 pt-3 font-weight-medium"},[t._v(t._s(t.title))]),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-row",{staticClass:"pt-3",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"elevation-4",attrs:{height:"540"}},[n("div",{staticClass:"px-7 py-5"},[n("v-text-field",{staticClass:"rounded-lg",attrs:{color:"cusblue",label:"ค้นหา","append-icon":"mdi-magnify",outlined:"","single-line":"",dense:"",flat:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),n("div",{staticClass:"px-7 py-5"},[n("v-card-title",{staticClass:"pa-0 px-3 py-1"},[t._v(" List ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-virtual-scroll",{attrs:{items:t.filterHelper,"item-height":50,height:"400  "},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("\n                    "+t._s(r.label)+"\n                    "),n("span",{staticClass:"text--secondary"},[t._v("("+t._s(r.code)+")")])])],1),t._v(" "),n("v-list-item-action",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"6"}},[n("v-btn",{staticClass:"mr-1",attrs:{icon:"","x-small":""},on:{click:function(e){return e.stopPropagation(),t.editHelper(r.id)}}},[n("v-icon",{attrs:{color:"black"}},[t._v("mdi-pencil")])],1)],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-btn",{staticClass:"ml-1",attrs:{icon:"","x-small":""},on:{click:function(e){return e.stopPropagation(),t.delHelper(r.id)}}},[n("v-icon",{attrs:{color:"black"}},[t._v("mdi-trash-can")])],1)],1)],1)],1)],1)]}}])})],1)])],1)],1),t._v(" "),n("confirmDialog",{ref:"confirm"})],1)}),[],!1,null,null,null),O=component.exports;h()(component,{VBtn:f.a,VCard:m.a,VCardTitle:_.d,VCol:x.a,VDivider:C.a,VIcon:k.a,VListItem:y.a,VListItemAction:V.a,VListItemContent:w.a,VListItemTitle:w.b,VRow:$.a,VTextField:D.a,VVirtualScroll:H.a});n(11),n(7),n(6),n(4),n(8);var j=n(2);function E(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function P(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(e){Object(j.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var I={props:{allHelper:{type:Array,required:!1,default:null}},data:function(){var t=this;return{assignModal:!1,valid:!1,loading:!1,alert:!1,error:"",helper:{id:"",code:"",label:""},rules:{code:[function(t){return!!t||"กรุณากรอกโค้ด"},function(t){return t&&t.length<=50||"ไม่ควรกรอกชื่อเกิน 50 ตัวอักษร"},function(e){return e&&t.checkDuplicate(e)||"โค้ดถูกใช้งานแล้ว"}],label:[function(t){return!!t||"กรุณากรอกข้อความ"},function(t){return t&&t.length<=50||"ไม่ควรกรอกข้อความเกิน 50 ตัวอักษร"}]}}},computed:{getTitle:function(){return""!==this.helper.id?"แก้ไข":"เพิ่ม"}},watch:{assignModal:function(t){!1===t&&(this.helper={id:"",code:"",label:""})}},methods:{open:function(data){null!==data?(this.helper={id:data.id,code:data.code,label:data.label},this.assignModal=!0):this.assignModal=!0},checkDuplicate:function(t){var e=this;return""===this.helper.id?!this.allHelper.some((function(e){return e.code===t})):!this.allHelper.some((function(n){return n.code===t&&n.code!==e.helper.code}))},addHelper:function(){var t=this;if(this.$refs.form.validate()){this.loading=!0;var e=P({},this.helper),n={code:e.code,label:e.label};this.$axios.$post("/api/config/".concat("Chief-Complaint"===this.$route.params.tab?"cc":"Differential-Diagnosis"===this.$route.params.tab?"dx":"History-Ranking"===this.$route.params.tab?"ht":"pe"),n,{progress:!1}).then((function(e){t.successSubmit(e)})).catch((function(e){t.sendError(e)}))}},updateHelper:function(){var t=this;if(this.$refs.form.validate()){this.loading=!0;var e=P({},this.helper),n={code:e.code,label:e.label};this.$axios.$put("/api/config/".concat("Chief-Complaint"===this.$route.params.tab?"cc":"Differential-Diagnosis"===this.$route.params.tab?"dx":"History-Ranking"===this.$route.params.tab?"ht":"pe","/").concat(e.id),n,{progress:!1}).then((function(e){t.successUpdate(e)})).catch((function(e){t.sendError(e)}))}},successSubmit:function(t){var e=this;setTimeout((function(){e.loading=!1,e.assignModal=!1,e.$emit("add",t)}),500)},successUpdate:function(t){var e=this;setTimeout((function(){e.loading=!1,e.assignModal=!1,e.$emit("update",t)}),500)},sendError:function(t){this.alert=!0,this.error=t.response.data.error.message,this.loading=!1}}},T=n(451),R=n(490),L=n(406),A=n(156),M=n(368),S=Object(d.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{"max-width":"700",scrollable:""},model:{value:t.assignModal,callback:function(e){t.assignModal=e},expression:"assignModal"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v(t._s(t.getTitle))]),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.code,label:"รหัส"},model:{value:t.helper.code,callback:function(e){t.$set(t.helper,"code",e)},expression:"helper.code"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.label,label:"ข้อความ"},model:{value:t.helper.label,callback:function(e){t.$set(t.helper,"label",e)},expression:"helper.label"}})],1)],1),t._v(" "),n("v-alert",{attrs:{dense:"",text:"",color:"red",transition:"scroll-y-transition",dismissible:""},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n            "+t._s(t.error)+"\n          ")])],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"cusblue2--text text-none",attrs:{text:""}},[t._v("Cancel")]),t._v(" "),n("v-btn",{staticClass:"cusblue2--text text-none",attrs:{disabled:!t.valid||t.loading,text:""},on:{click:function(e){""!==t.helper.id?t.updateHelper():t.addHelper()}}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),t._v("\n          "+t._s(""!==t.helper.id?"Update":"Add")+"\n        ")],1)],1)],1)],1)],1)}),[],!1,null,null,null),N=S.exports;h()(S,{VAlert:T.a,VBtn:f.a,VCard:m.a,VCardActions:_.a,VCardText:_.c,VCol:x.a,VDialog:R.a,VDivider:C.a,VForm:L.a,VProgressCircular:A.a,VRow:$.a,VSpacer:M.a,VTextField:D.a});var U={components:{settingNav:l.a,settingTab:o.a,help:O,helpDialog:N},validate:function(t){var e=t.params;return"Chief-Complaint"===e.tab||"Differential-Diagnosis"===e.tab||"History-Ranking"===e.tab||"Physical-Examination"===e.tab},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,r=t.params,e.next=3,n.$get("/api/config/".concat("Chief-Complaint"===r.tab?"cc":"Differential-Diagnosis"===r.tab?"dx":"History-Ranking"===r.tab?"ht":"pe"),{progress:!1});case 3:return l=e.sent,e.abrupt("return",{helper:l.results});case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{}},computed:{titleName:function(){return"Chief-Complaint"===this.$route.params.tab?"Chief Complaint":"Differential-Diagnosis"===this.$route.params.tab?"Differential Diagnosis":"History-Ranking"===this.$route.params.tab?"History Ranking":"Physical Examination"}},methods:{addHelp:function(){this.$refs.helpDialog.open(null)},editHelper:function(t){var e=this.helper.findIndex((function(e){return e.id===t}));this.$refs.helpDialog.open(this.helper[e])},addHelper:function(t){this.helper.push(t)},updateHelper:function(t){var e=this.helper.findIndex((function(e){return e.id===t.id}));this.helper.splice(e,1,t)},delHelper:function(t){var e=this;this.$axios.$delete("/api/config/".concat("Chief-Complaint"===this.$route.params.tab?"cc":"Differential-Diagnosis"===this.$route.params.tab?"dx":"History-Ranking"===this.$route.params.tab?"ht":"pe","/").concat(t)).then((function(n){var r=e.helper.findIndex((function(e){return e.id===t}));e.helper.splice(r,1)})).catch((function(t){console.log(t)}))}}},z=Object(d.a)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("settingNav"),t._v(" "),n("div",{staticClass:"custom-container"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{class:this.$vuetify.breakpoint.smAndUp?"px-2":"",attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[n("settingTab")],1),t._v(" "),n("v-col",{class:this.$vuetify.breakpoint.smAndUp?"px-2":"",attrs:{cols:"12",sm:"8",md:"9",lg:"10"}},[n("help",{attrs:{title:t.titleName,helper:t.helper},on:{editHelper:t.editHelper,delete:t.delHelper}})],1)],1)],1),t._v(" "),n("v-btn",{key:t.$nuxt.$route.path,attrs:{color:"cusblue2",fixed:"",fab:"",large:"",dark:"",bottom:"",right:""},on:{click:function(e){return e.stopPropagation(),t.addHelp(e)}}},[n("v-icon",[t._v("mdi-plus")])],1),t._v(" "),n("helpDialog",{ref:"helpDialog",attrs:{"all-helper":t.helper},on:{add:t.addHelper,update:t.updateHelper}})],1)}),[],!1,null,null,null);e.default=z.exports;h()(z,{VBtn:f.a,VCol:x.a,VIcon:k.a,VRow:$.a})}}]);