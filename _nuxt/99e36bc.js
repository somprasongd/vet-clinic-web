(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{487:function(t,e,n){"use strict";n(4);var r={data:function(){return{isShowDialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},methods:{open:function(title,t,e){var n=this;return this.isShowDialog=!0,this.$nextTick((function(){return n.$refs.cancelDialog.$el.focus()})),this.title=title,this.message=t,this.options=Object.assign(this.options,e),new Promise((function(t,e){n.resolve=t,n.reject=e}))},agree:function(){this.isShowDialog=!1,this.resolve(!0),this.$emit("onOk")},cancel:function(){this.isShowDialog=!1,this.resolve(!1),this.$emit("onCancel")}}},o=n(41),l=n(50),c=n.n(l),d=n(110),h=n(183),v=n(62),m=n(463),f=n(480),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.isShowDialog,callback:function(e){t.isShowDialog=e},expression:"isShowDialog"}},[n("v-card",[n("h2",{staticClass:"pl-6 pt-3 pb-2"},[t._v(t._s(t.title))]),t._v(" "),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}]},[t._v(" "+t._s(t.message)+" ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{ref:"btnOk",attrs:{color:t.options.color,text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t._v("\n        ใช่\n      ")]),t._v(" "),n("v-btn",{ref:"cancelDialog",attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("\n        ไม่\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;c()(component,{VBtn:d.a,VCard:h.a,VCardActions:v.a,VCardText:v.c,VDialog:m.a,VSpacer:f.a})},493:function(t,e,n){"use strict";var r=n(124),o=n(59),l=n(123),c=n(0),d=n(3),h=Object(d.a)(r.a,Object(o.a)("windowGroup","v-window-item","v-window"));e.a=h.extend().extend().extend({name:"v-window-item",directives:{Touch:l.a},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?void 0!==this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:void 0!==this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(c.g)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(t){var e=this;this.inTransition&&this.$nextTick((function(){e.computedTransition&&e.inTransition&&(e.windowGroup.transitionHeight=Object(c.g)(t.clientHeight))}))}},render:function(t){var e=this;return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[e.genWindowItem()]})))}})},517:function(t,e,n){"use strict";var r={data:function(){return{tab:null,lists:[{title:"ระบบ",list:[{name:"สถานพยาบาล",link:"/setting/"},{name:"ผู้ใช้งาน",link:"/setting/users"}]},{title:"ตัวช่วย",list:[{name:"Chief Complaint",link:"/setting/Chief-Complaint"},{name:"Differencial Diagnosis",link:"/setting/Differential-Diagnosis"},{name:"History Ranking",link:"/setting/History-Ranking"},{name:"Physical Examination",link:"/setting/Physical-Examination"}]},{title:"รายการตรวจ",list:[{name:"รายการตรวจ",link:"/setting/check"}]}]}},created:function(){var path=this.$nuxt.$route.path;this.tab="/setting/Chief-Complaint"===path||"/setting/Differential-Diagnosis"===path||"/setting/History-Ranking"===path||"/setting/Physical-Examination"===path?1:"/setting/check"===path?2:0}},o=n(41),l=n(50),c=n.n(l),d=n(183),h=n(62),v=n(465),m=n(184),f=n(186),_=n(112),w=n(120),C=n(483),x=n(535),k=n(484),T=n(258),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[this.$vuetify.breakpoint.smAndUp?n("div",t._l(t.lists,(function(e){return n("v-card",{key:e.index,staticClass:"mb-3 elevation-4"},[n("v-card-title",{staticClass:"pa-0 pl-5 pt-3"},[t._v(t._s(e.title))]),t._v(" "),n("v-divider"),t._v(" "),n("v-list",{staticClass:"pa-0",attrs:{dense:""}},t._l(e.list,(function(e){return n("v-list-item",{key:e.index,attrs:{link:"",to:e.link,exact:""}},[n("v-icon",{staticClass:"mr-3",attrs:{color:"cusblue3","x-small":""}},[t._v("mdi-record")]),t._v(" "),n("v-list-item-content",[t._v("\n            "+t._s(e.name)+"\n          ")])],1)})),1)],1)})),1):n("div",[n("v-card",{staticClass:"mb-3 elevation-4"},[n("v-tabs",{attrs:{color:"cusblue3"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.lists,(function(e){return n("v-tab",{key:e.title},[t._v("\n          "+t._s(e.title)+"\n        ")])})),1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.lists,(function(e){return n("v-tab-item",{key:e.title},[n("v-card",{attrs:{flat:""}},[n("v-list",{staticClass:"pa-0",attrs:{dense:""}},t._l(e.list,(function(e){return n("v-list-item",{key:e.index,attrs:{link:"",to:e.link,exact:""}},[n("v-icon",{staticClass:"mr-3",attrs:{color:"cusblue3","x-small":""}},[t._v("\n                  mdi-record\n                ")]),t._v(" "),n("v-list-item-content",[t._v("\n                  "+t._s(e.name)+"\n                ")])],1)})),1)],1)],1)})),1)],1)],1)])}),[],!1,null,null,null);e.a=component.exports;c()(component,{VCard:d.a,VCardTitle:h.d,VDivider:v.a,VIcon:m.a,VList:f.a,VListItem:_.a,VListItemContent:w.a,VTab:C.a,VTabItem:x.a,VTabs:k.a,VTabsItems:T.a})},519:function(t,e,n){"use strict";var r=n(41),o=n(50),l=n.n(o),c=n(473),d=n(475),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("v-row",{staticClass:"cusblue1 second-nav1",attrs:{align:"center",justify:"center",dense:""}},[e("v-col",{attrs:{cols:"12"}},[e("h1",{staticClass:"font-weight-medium"},[this._v("ตั้งค่า")])])],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VCol:c.a,VRow:d.a})},530:function(t,e,n){var content=n(531);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("5e1554dc",content,!0,{sourceMap:!1})},531:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-virtual-scroll{display:block;flex:1 1 auto;height:100%;max-width:100%;overflow:auto;position:relative}.v-virtual-scroll__container{display:block}.v-virtual-scroll__item{left:0;position:absolute;right:0}",""]),t.exports=e},535:function(t,e,n){"use strict";var r=n(493);e.a=r.a.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var t=r.a.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},571:function(t,e,n){"use strict";n(17),n(530);var r=n(90),o=n(199),l=n(0);e.a=r.a.extend({name:"v-virtual-scroll",directives:{Scroll:o.b},props:{bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:function(){return[]}}},data:function(){return{first:0,last:0,scrollTop:0}},computed:{__bench:function(){return parseInt(this.bench,10)},__itemHeight:function(){return parseInt(this.itemHeight,10)},firstToRender:function(){return Math.max(0,this.first-this.__bench)},lastToRender:function(){return Math.min(this.items.length,this.last+this.__bench)}},watch:{height:"onScroll",itemHeight:"onScroll"},mounted:function(){this.last=this.getLast(0)},methods:{getChildren:function(){return this.items.slice(this.firstToRender,this.lastToRender).map(this.genChild)},genChild:function(t,e){e+=this.firstToRender;var n=Object(l.g)(e*this.__itemHeight);return this.$createElement("div",{staticClass:"v-virtual-scroll__item",style:{top:n},key:e},Object(l.s)(this,"default",{index:e,item:t}))},getFirst:function(){return Math.floor(this.scrollTop/this.__itemHeight)},getLast:function(t){var e=parseInt(this.height||0,10)||this.$el.clientHeight;return t+Math.ceil(e/this.__itemHeight)},onScroll:function(){this.scrollTop=this.$el.scrollTop,this.first=this.getFirst(),this.last=this.getLast(this.first)}},render:function(t){var content=t("div",{staticClass:"v-virtual-scroll__container",style:{height:Object(l.g)(this.items.length*this.__itemHeight)}},this.getChildren());return t("div",{staticClass:"v-virtual-scroll",style:this.measurableStyles,directives:[{name:"scroll",modifiers:{self:!0},value:this.onScroll}],on:this.$listeners},[content])}})},641:function(t,e,n){"use strict";n.r(e);n(122);var r=n(519),o=n(517),l=(n(42),n(7)),c=(n(269),n(23),n(26),{components:{confirmDialog:n(487).a},props:{alluser:{default:null,type:Array,required:!1}},data:function(){return{search:""}},computed:{filterUser:function(){var t=this;return this.alluser.filter((function(e){return e.username.toLowerCase().includes(t.search.toLowerCase())}))}},methods:{deleteUser:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่จะลบข้อมูลนี้",{width:290,color:"red"});case 2:if(n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.prev=5,n.next=8,e.$axios.$delete("/api/users/".concat(t),{progress:!1});case 8:e.$emit("removed",t),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(5),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[5,11]])})))()}}}),d=n(41),h=n(50),v=n.n(h),m=n(110),f=n(183),_=n(62),w=n(473),C=n(465),x=n(184),k=n(112),T=n(187),y=n(120),V=n(475),$=n(461),D=n(571),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"pl-5 pt-3 font-weight-medium"},[t._v("ผู้ใช้งาน")]),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-row",{staticClass:"pt-3",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"elevation-4",attrs:{height:"540"}},[n("div",{staticClass:"px-7 py-5"},[n("v-text-field",{staticClass:"rounded-lg",attrs:{color:"cusblue",label:"ค้นหา","append-icon":"mdi-magnify",outlined:"","single-line":"",dense:"",flat:"","hide-details":"",autocomplete:"off"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),n("div",{staticClass:"px-7 py-5"},[n("v-card-title",{staticClass:"pa-0 px-3 py-1"},[t._v(" User List ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-virtual-scroll",{attrs:{items:t.filterUser,"item-height":50,height:"400  "},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("v-list-item",{staticClass:"pa-0 px-5"},[n("v-list-item-content",[n("v-list-item-title",[t._v("\n                    "+t._s(r.username)+"\n                  ")])],1),t._v(" "),n("v-list-item-action",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"6"}},[n("v-btn",{staticClass:"mr-1",attrs:{icon:"","x-small":""},on:{click:function(e){return t.$emit("edituser",r.id)}}},[n("v-icon",{attrs:{color:"black"}},[t._v("mdi-pencil")])],1)],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-btn",{staticClass:"ml-1",attrs:{disabled:1===r.id,icon:"","x-small":""},on:{click:function(e){return t.deleteUser(r.id)}}},[n("v-icon",{attrs:{color:"black"}},[t._v("mdi-trash-can")])],1)],1)],1)],1)],1)]}}])})],1)])],1)],1),t._v(" "),n("confirmDialog",{ref:"confirm"})],1)}),[],!1,null,null,null),I=component.exports;v()(component,{VBtn:m.a,VCard:f.a,VCardTitle:_.d,VCol:w.a,VDivider:C.a,VIcon:x.a,VListItem:k.a,VListItemAction:T.a,VListItemContent:y.a,VListItemTitle:y.b,VRow:V.a,VTextField:$.a,VVirtualScroll:D.a});var S=n(254),U={components:{settingNav:r.a,settingTab:o.a,userForm:I,userDialog:S.a},validate:function(t){return t.store.getters.loggedInUser.isAdmin},data:function(){return{allUser:[]}},mounted:function(){var t=this;this.$axios.get("/api/users",{progress:!1}).then((function(e){t.allUser=e.data.results}))},methods:{openUserDialog:function(t){this.$refs.userDialog.open(t)},addRespone:function(t){this.allUser.push(t)},updateRespone:function(t){var e=this.allUser.findIndex((function(e){return e.id===t.id}));this.allUser.splice(e,1,t)},removeUser:function(t){var e=this.allUser.findIndex((function(e){return e.id===t}));this.allUser.splice(e,1)}}},O=Object(d.a)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("settingNav"),t._v(" "),n("div",{staticClass:"custom-container"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{class:this.$vuetify.breakpoint.smAndUp?"px-2":"",attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[n("settingTab")],1),t._v(" "),n("v-col",{class:this.$vuetify.breakpoint.smAndUp?"px-2":"",attrs:{cols:"12",sm:"8",md:"9",lg:"10"}},[n("userForm",{attrs:{alluser:t.allUser},on:{removed:t.removeUser,edituser:t.openUserDialog}})],1)],1)],1),t._v(" "),n("userDialog",{ref:"userDialog",attrs:{alluser:t.allUser},on:{response:t.addRespone,update:t.updateRespone}}),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",fixed:"",fab:"",small:this.$vuetify.breakpoint.mobile,large:!this.$vuetify.breakpoint.mobile,dark:"",bottom:"",right:""},on:{click:function(e){return e.stopPropagation(),t.openUserDialog(e)}}},[n("v-icon",[t._v("mdi-plus")])],1)],1)}),[],!1,null,null,null);e.default=O.exports;v()(O,{VBtn:m.a,VCol:w.a,VIcon:x.a,VRow:V.a})}}]);