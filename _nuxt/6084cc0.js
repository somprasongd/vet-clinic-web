(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{532:function(t,e,n){"use strict";n.r(e);var o={props:{typeDefault:{type:String,required:!0},typeCheck:{type:Array,required:!0}},data:function(){return{type:this.typeDefault,doct:["คนแรก","คนสอง","คนสาม","คนสี่"],queueCount:"5"}},watch:{type:function(){this.$emit("selectType",this.type)}}},c=n(55),r=n(75),l=n.n(r),d=n(349),v=n(361),f=n(399),_=n(444),h=n(405),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"grey lighten-4",flat:"",tile:""}},[n("v-row",{staticClass:"second-nav cusblue1",attrs:{height:"55",align:"center",justify:"center",dense:"",flat:""}},[n("h1",{staticClass:"font-weight-medium col-sm-2 col-12"},[t._v("คิว ("+t._s(t.queueCount)+")")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-subheader",{directives:[{name:"show",rawName:"v-show",value:!this.$vuetify.breakpoint.smAndDown,expression:"!this.$vuetify.breakpoint.smAndDown"}],staticClass:"cus-subhead"},[t._v("ประเภทการตรวจ :\n    ")]),t._v(" "),n("v-select",{staticClass:"rounded-lg cus-input mr-3",attrs:{"background-color":"cusblue3",items:t.typeCheck,dark:"",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),t._v(" "),n("v-subheader",{directives:[{name:"show",rawName:"v-show",value:!this.$vuetify.breakpoint.smAndDown,expression:"!this.$vuetify.breakpoint.smAndDown"}],staticClass:"cus-subhead"},[t._v("แพทย์ผู้ตรวจ :\n    ")]),t._v(" "),n("v-select",{staticClass:"rounded-lg cus-input",attrs:{"background-color":"cusblue3",items:t.doct,label:"ทั้งหมด",dark:"",filled:"",rounded:"","single-line":"",dense:"",flat:"","hide-details":""}})],1)],1)}),[],!1,null,null,null),m=component.exports;l()(component,{VCard:d.a,VRow:v.a,VSelect:f.a,VSpacer:_.a,VSubheader:h.a});var x={props:{selectedType:{type:String,required:!0},dessert:{default:null,type:Array,required:!1}},data:function(){return{offset:!1,dialog:!1,headers:[{text:"ลำดับ",align:"center",sortable:!1,value:"id",class:"font-weight-bold"},{text:"เจ้าของ",value:"name"},{text:"สัตว์เลี้ยง",value:"pet"},{text:"ระยะเวลา",value:"time"},{text:"ความสำคัญ",value:"important"},{text:"แพทย์",value:"doctor"},{text:"สถานะ",value:"status",align:"left"},{text:"Action",value:"action",align:"center",sortable:!1}],actionBtn:{none:[{text:"None",action:1,disable:!0}],OPD_Wait:[{text:"เข้ารับการตรวจ",action:1},{text:"ยกเลิกการรักษา",action:0}],OPD_Check:[{text:"จบการรักษา",action:1},{text:"ยกเลิกการรักษา",action:0}],OPD_result:[{text:"เข้ารับการตรวจ",action:1},{text:"จบการรักษา",action:0}],IPD_admit:[{text:"จบการรักษา",action:1},{text:"ยกเลิกการรักษา",action:0}],deposit:[{text:"รับกลับบ้าน",action:1},{text:"ยกเลิกฝากเลี้ยง",action:0}]}}},computed:{dataTable:function(){var t=[];for(var data in this.dessert)this.dessert[data].status.type===this.selectedType&&t.push(this.dessert[data]);return t}},methods:{getColor:function(t){return"กำลังตรวจ"===t?"rgb(255, 191, 72)":"รอผลตรวจ"===t?"rgb(79, 155, 255)":"รอชำระเงิน"===t?"rgb(87, 243, 87)":"rgb(255, 98, 98)"},clickAction:function(t,e,n){switch(this.selectedType){case"OPD":switch(e){case"รอตรวจ":switch(n){case 1:this.$router.push("/queue/"+t+"/check");break;default:alert("noooo")}break;case"กำลังตรวจ":case"รอผลตรวจ":switch(n){case 1:alert("success");break;default:alert("noooo")}break;default:switch(n){case 1:alert("success");break;default:alert("noooo")}}break;case"IPD":if("Admit"===e)switch(n){case 1:alert("success");break;default:alert("noooo")}break;case"ฝากเลี้ยง":if("ฝากเลี้ยง"===e)switch(n){case 1:alert("success");break;default:alert("noooo")}}},changeAction:function(t){switch(this.selectedType){case"OPD":switch(t){case"รอตรวจ":return this.actionBtn.OPD_Wait;case"กำลังตรวจ":return this.actionBtn.OPD_Check;case"รอผลตรวจ":return this.actionBtn.OPD_result;default:return this.actionBtn.none}case"IPD":switch(t){case"Admit":return this.actionBtn.IPD_admit;default:return this.actionBtn.none}case"ฝากเลี้ยง":switch(t){case"ฝากเลี้ยง":return this.actionBtn.deposit;default:return this.actionBtn.none}}}}},k=n(158),y=n(443),w=n(540),C=n(396),D=n(153),V=n(154),T=n(99),P=n(351),A=Object(c.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{staticClass:"elevation-4 overflow-y-auto",attrs:{headers:t.headers,items:t.dataTable,"disable-pagination":"","hide-default-footer":"","fixed-header":"",height:"calc(100vh - 160px)"},scopedSlots:t._u([{key:"item",fn:function(e){return[n("tr",[n("td",{staticClass:"text-center"},[t._v(t._s(e.index+1))]),t._v(" "),n("td",[t._v(t._s(e.item.name))]),t._v(" "),n("td",[t._v(t._s(e.item.pet.name+" ("+e.item.pet.type+")"))]),t._v(" "),n("td",[t._v(t._s(t.$moment(e.item.status.time).fromNow()))]),t._v(" "),n("td",[t._v(t._s(e.item.status.important))]),t._v(" "),n("td",[t._v(t._s(e.item.status.doctor))]),t._v(" "),n("td",[n("v-chip",{attrs:{color:t.getColor(e.item.status.status),dark:"",small:"",label:""}},[t._v("\n            "+t._s(e.item.status.status)+"\n          ")])],1),t._v(" "),n("td",[n("v-menu",{attrs:{"offset-x":t.offset,"nudge-left":"200"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,c=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"cusblue2",dark:"",icon:"",depressed:""}},"v-btn",c,!1),o),[n("v-icon",[t._v("mdi-dots-horizontal-circle")])],1)]}}],null,!0)},[t._v(" "),n("v-list",{attrs:{width:"200"}},[n("v-list-item",[n("h4",[t._v("Action")])]),t._v(" "),n("v-divider"),t._v(" "),t._l(t.changeAction(e.item.status.status),(function(o){return n("v-btn",{key:o.text,staticClass:"cusblue2--text",attrs:{disabled:o.disable,block:"",text:"",tile:""},on:{click:function(n){return t.clickAction(e.item.id,e.item.status.status,o.action)}}},[t._v(t._s(o.text))])}))],2)],1)],1)])]}}])})],1)}),[],!1,null,null,null),$=A.exports;l()(A,{VBtn:k.a,VChip:y.a,VDataTable:w.a,VDivider:C.a,VIcon:D.a,VList:V.a,VListItem:T.a,VMenu:P.a});var O={data:function(){return{assignModal:!1,date:null,menuDate:!1,offset:!0,assignList:[{owner:"คนแรก",pet:"สัตว์หนึ่ง (หมา)",for:"ฉัดวัคซีน",time:"15.30 น."},{owner:"คนสอง",pet:"สัตว์หนึ่ง (หมา)",for:"ฉัดวัคซีน",time:"15.30 น."},{owner:"คนสาม",pet:"สัตว์หนึ่ง (หมา)",for:"ฉัดวัคซีน",time:"15.30 น."},{owner:"คนสี่",pet:"สัตว์หนึ่ง (หมา)",for:"ฉัดวัคซีน",time:"15.30 น."},{owner:"คนห้า",pet:"สัตว์หนึ่ง (หมา)",for:"ฉัดวัคซีน",time:"15.30 น."},{owner:"คนหก",pet:"สัตว์หนึ่ง (หมา)",for:"ฉัดวัคซีน",time:"15.30 น."}]}}},S=n(346),B=n(359),I=n(538),M=n(448),j=n(438),L=Object(c.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{key:t.$nuxt.$route.path,attrs:{color:"cusblue2",fixed:"",fab:"",large:"",dark:"",bottom:"",right:""},on:{click:function(e){e.stopPropagation(),t.assignModal=!0}}},[n("v-icon",[t._v("mdi-calendar-month")])],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"450",scrollable:"",fullscreen:this.$vuetify.breakpoint.smAndDown},model:{value:t.assignModal,callback:function(e){t.assignModal=e},expression:"assignModal"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v("ตารางนัดหมาย")]),t._v(" "),n("v-btn",{staticClass:"mt-4",attrs:{icon:"",absolute:"",right:""},on:{click:function(e){t.assignModal=!1}}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("v-divider"),t._v(" "),n("div",{staticClass:"px-10 pb-10"},[n("v-row",{attrs:{align:"center",justify:"center",dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,c=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{color:"cusblue","append-icon":"mdi-calendar-month","background-color":"white",label:"วันที่นัดหมาย",readonly:"","hide-details":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",c,!1),o))]}}]),model:{value:t.menuDate,callback:function(e){t.menuDate=e},expression:"menuDate"}},[t._v(" "),n("v-date-picker",{ref:"picker",attrs:{color:"cusblue",max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{color:"cusblue","background-color":"white",label:"ชื่อ","hide-details":""}})],1)],1)],1),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-card-text",{staticClass:"pa-0",staticStyle:{height:"350px"}},t._l(t.assignList,(function(e){return n("v-menu",{key:e.owner,attrs:{"offset-x":t.offset,"max-width":"200"},scopedSlots:t._u([{key:"activator",fn:function(o){var c=o.on,r=o.attrs;return[n("v-list-item",t._g(t._b({staticClass:"py-5 px-10",staticStyle:{"border-bottom":"1px solid rgb(204, 204, 204)"},attrs:{link:""}},"v-list-item",r,!1),c),[n("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[n("v-col",{staticClass:"font-weight-medium",attrs:{cols:"3"}},[t._v("เจ้าของ")]),t._v(" "),n("v-col",{staticClass:"font-weight-medium text-center",attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{staticClass:"font-weight-medium",attrs:{cols:"8"}},[t._v(t._s(e.owner))]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[t._v("สัตว์เลี้ยง")]),t._v(" "),n("v-col",{staticClass:"text-center",attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"8"}},[t._v(t._s(e.pet))]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[t._v("นัดเพื่อ")]),t._v(" "),n("v-col",{staticClass:"text-center",attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"8"}},[t._v(t._s(e.for))]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[t._v("เวลา")]),t._v(" "),n("v-col",{staticClass:"text-center",attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"8"}},[t._v(t._s(e.time))])],1)],1)]}}],null,!0)},[t._v(" "),n("v-list",{staticClass:"pa-0"},[n("div",{staticClass:"px-2 pt-3"},[n("h3",[t._v("ยืนยันเข้ารับบริการ?")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",{staticClass:"pa-0 pt-2"},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("ยกเลิก")]),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("ตกลง")])],1)],1)])],1)})),1)],1)],1)],1)}),[],!1,null,null,null),N=L.exports;l()(L,{VBtn:k.a,VCard:d.a,VCardActions:S.a,VCardText:S.c,VCol:B.a,VDatePicker:I.a,VDialog:M.a,VDivider:C.a,VIcon:D.a,VList:V.a,VListItem:T.a,VMenu:P.a,VRow:v.a,VSpacer:_.a,VTextField:j.a});var E={components:{queueNav:m,queueTable:$,queueDialog:N},data:function(){return{defaultType:"OPD",checkType:["OPD","IPD","ฝากเลี้ยง"]}},computed:{customer:function(){return this.$store.state.queue.customerQueue}},methods:{Type:function(select){this.defaultType=select}}},J=Object(c.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("queueNav",{attrs:{"type-default":t.defaultType,"type-check":t.checkType},on:{selectType:t.Type}}),t._v(" "),n("div",{staticClass:"custom-container"},[n("queueTable",{attrs:{dessert:t.customer,"selected-type":t.defaultType}})],1),t._v("\n  "+t._s(this.$auth.user)+"\n  "),n("queueDialog")],1)}),[],!1,null,null,null);e.default=J.exports}}]);