(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{489:function(t,e,n){"use strict";var r=n(124),o=n(59),l=n(123),c=n(0),d=n(3),v=Object(d.a)(r.a,Object(o.a)("windowGroup","v-window-item","v-window"));e.a=v.extend().extend().extend({name:"v-window-item",directives:{Touch:l.a},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?void 0!==this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:void 0!==this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(c.g)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(t){var e=this;this.inTransition&&this.$nextTick((function(){e.computedTransition&&e.inTransition&&(e.windowGroup.transitionHeight=Object(c.g)(t.clientHeight))}))}},render:function(t){var e=this;return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[e.genWindowItem()]})))}})},519:function(t,e,n){"use strict";var r={data:function(){return{tab:null,lists:[{title:"ระบบ",list:[{name:"สถานพยาบาล",link:"/setting/"},{name:"ผู้ใช้งาน",link:"/setting/users"}]},{title:"ตัวช่วย",list:[{name:"Chief Complaint",link:"/setting/Chief-Complaint"},{name:"Differencial Diagnosis",link:"/setting/Differential-Diagnosis"},{name:"History Ranking",link:"/setting/History-Ranking"},{name:"Physical Examination",link:"/setting/Physical-Examination"}]},{title:"รายการตรวจ",list:[{name:"รายการตรวจ",link:"/setting/check"}]}]}},created:function(){var path=this.$nuxt.$route.path;this.tab="/setting/Chief-Complaint"===path||"/setting/Differential-Diagnosis"===path||"/setting/History-Ranking"===path||"/setting/Physical-Examination"===path?1:"/setting/check"===path?2:0}},o=n(41),l=n(50),c=n.n(l),d=n(183),v=n(62),h=n(465),f=n(184),m=n(186),w=n(112),x=n(120),C=n(483),_=n(523),k=n(484),T=n(258),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[this.$vuetify.breakpoint.smAndUp?n("div",t._l(t.lists,(function(e){return n("v-card",{key:e.index,staticClass:"mb-3 elevation-4"},[n("v-card-title",{staticClass:"pa-0 pl-5 pt-3"},[t._v(t._s(e.title))]),t._v(" "),n("v-divider"),t._v(" "),n("v-list",{staticClass:"pa-0",attrs:{dense:""}},t._l(e.list,(function(e){return n("v-list-item",{key:e.index,attrs:{link:"",to:e.link,exact:""}},[n("v-icon",{staticClass:"mr-3",attrs:{color:"cusblue3","x-small":""}},[t._v("mdi-record")]),t._v(" "),n("v-list-item-content",[t._v("\n            "+t._s(e.name)+"\n          ")])],1)})),1)],1)})),1):n("div",[n("v-card",{staticClass:"mb-3 elevation-4"},[n("v-tabs",{attrs:{color:"cusblue3"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.lists,(function(e){return n("v-tab",{key:e.title},[t._v("\n          "+t._s(e.title)+"\n        ")])})),1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.lists,(function(e){return n("v-tab-item",{key:e.title},[n("v-card",{attrs:{flat:""}},[n("v-list",{staticClass:"pa-0",attrs:{dense:""}},t._l(e.list,(function(e){return n("v-list-item",{key:e.index,attrs:{link:"",to:e.link,exact:""}},[n("v-icon",{staticClass:"mr-3",attrs:{color:"cusblue3","x-small":""}},[t._v("\n                  mdi-record\n                ")]),t._v(" "),n("v-list-item-content",[t._v("\n                  "+t._s(e.name)+"\n                ")])],1)})),1)],1)],1)})),1)],1)],1)])}),[],!1,null,null,null);e.a=component.exports;c()(component,{VCard:d.a,VCardTitle:v.d,VDivider:h.a,VIcon:f.a,VList:m.a,VListItem:w.a,VListItemContent:x.a,VTab:C.a,VTabItem:_.a,VTabs:k.a,VTabsItems:T.a})},521:function(t,e,n){"use strict";var r=n(41),o=n(50),l=n.n(o),c=n(473),d=n(475),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("v-row",{staticClass:"cusblue1 second-nav1",attrs:{align:"center",justify:"center",dense:""}},[e("v-col",{attrs:{cols:"12"}},[e("h1",{staticClass:"font-weight-medium"},[this._v("ตั้งค่า")])])],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VCol:c.a,VRow:d.a})},523:function(t,e,n){"use strict";var r=n(489);e.a=r.a.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var t=r.a.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},640:function(t,e,n){"use strict";n.r(e);n(42);var r=n(7),o=n(521),l=n(519),c=(n(11),n(9),n(6),n(4),n(10),n(21),n(1));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var v={components:{userAvatar:n(200).a},props:{hospital:{type:Object,required:!1,default:null}},data:function(){return{valid:!1,loading:!1,alert:!1,error:"",rules:{name:[function(t){return!!t||"กรุณากรอกชื่อสถานพยาบาล"},function(t){return t&&t.length<=100||"ไม่ควรกรอกชื่อสถานพยาบาลเกิน 100 ตัวอักษร"}],phone:[function(t){return!!t||"กรุณาเบอร์ติดต่อ"},function(t){return/^[0-9]{9,10}$/.test(t)||"กรุณากรอกเบอร์ติดต่อให้ถูกรูปแบบ"}],address:[function(t){return!!t||"กรุณากรอกชื่อที่อยู่"},function(t){return t&&t.length<=100||"ไม่ควรกรอกชื่อที่อยู่เกิน 100 ตัวอักษร"}],branchNo:[function(t){return!!t||"กรุณากรอกสาขาที่"},function(t){return t&&t.length<=100||"ไม่ควรกรอกสาขาที่เกิน 100 ตัวอักษร"}],branchName:[function(t){return!!t||"กรุณากรอกชื่อสาขา"},function(t){return t&&t.length<=100||"ไม่ควรกรอกชื่อสาขาเกิน 100 ตัวอักษร"}]}}},methods:{updateSite:function(){var t=this;if(this.$refs.form.validate()){this.loading=!0;var e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.hospital),n={name:e.name,phone:e.phone,address:e.address,branchNo:e.branchNo,branchName:e.branchName};this.$axios.$put("/api/config/site",n,{progress:!1}).then((function(e){setTimeout((function(){t.loading=!1}),500)})).catch((function(e){t.loading=!1,t.error=e.response.data.error.message,t.alert=!0}))}},updateImg:function(t){var e=this;this.loading=!0;var n={logoId:t};this.$axios.$put("/api/config/site",n,{progress:!1}).then((function(t){setTimeout((function(){e.loading=!1}),200)})).catch((function(t){e.loading=!1,e.error=t.response.data.error.message,e.alert=!0}))}}},h=n(41),f=n(50),m=n.n(f),w=n(486),x=n(110),C=n(183),_=n(62),k=n(473),T=n(465),y=n(479),O=n(175),V=n(475),$=n(480),j=n(460),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"elevation-4",attrs:{height:"600"}},[n("v-card-title",{staticClass:"pa-0 pt-3 pl-5"},[t._v("สถานพยาบาล")]),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-card-text",{staticClass:"pa-5",staticStyle:{height:"84%"}},[n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("div",{staticClass:"text-center"},[n("userAvatar",{attrs:{avatars:t.hospital.logo.url,"delete-img":!1,size:180},on:{getId:t.updateImg}})],1),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.name,label:"ชื่อสถานพยาบาล"},model:{value:t.hospital.name,callback:function(e){t.$set(t.hospital,"name",e)},expression:"hospital.name"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.phone,label:"เบอร์ติดต่อ"},model:{value:t.hospital.phone,callback:function(e){t.$set(t.hospital,"phone",e)},expression:"hospital.phone"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.address,label:"ชื่อที่อยู่"},model:{value:t.hospital.address,callback:function(e){t.$set(t.hospital,"address",e)},expression:"hospital.address"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.branchNo,label:"สาขาที่"},model:{value:t.hospital.branchNo,callback:function(e){t.$set(t.hospital,"branchNo",e)},expression:"hospital.branchNo"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.branchName,label:"ชื่อสาขา"},model:{value:t.hospital.branchName,callback:function(e){t.$set(t.hospital,"branchName",e)},expression:"hospital.branchName"}})],1)],1)],1),t._v(" "),n("v-alert",{attrs:{dense:"",text:"",color:"red",transition:"scroll-y-transition",dismissible:""},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n      "+t._s(t.error)+"\n    ")])],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"cusblue2--text text-none",attrs:{disabled:!t.valid||t.loading,text:""},on:{click:t.updateSite}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),t._v("\n      Update\n    ")],1)],1)],1)}),[],!1,null,null,null),N=component.exports;m()(component,{VAlert:w.a,VBtn:x.a,VCard:C.a,VCardActions:_.a,VCardText:_.c,VCardTitle:_.d,VCol:k.a,VDivider:T.a,VForm:y.a,VProgressCircular:O.a,VRow:V.a,VSpacer:$.a,VTextField:j.a});var D={components:{settingNav:o.a,settingTab:l.a,hospitalForm:N},validate:function(t){return t.store.getters.loggedInUser.isAdmin},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,e.next=3,n.$get("/api/config/site");case 3:return r=e.sent,e.abrupt("return",{hospital:r});case 5:case"end":return e.stop()}}),e)})))()}},P=Object(h.a)(D,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("settingNav"),this._v(" "),e("div",{staticClass:"custom-container"},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{class:this.$vuetify.breakpoint.smAndUp?"px-2":"",attrs:{cols:"12",sm:"4",md:"3",lg:"2"}},[e("settingTab")],1),this._v(" "),e("v-col",{class:this.$vuetify.breakpoint.smAndUp?"px-2":"",attrs:{cols:"12",sm:"8",md:"9",lg:"10"}},[e("hospitalForm",{attrs:{hospital:this.hospital}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=P.exports;m()(P,{VCol:k.a,VRow:V.a})}}]);