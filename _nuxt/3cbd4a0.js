(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{487:function(t,e,n){"use strict";n(4);var r={data:function(){return{isShowDialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},methods:{open:function(title,t,e){var n=this;return this.isShowDialog=!0,this.$nextTick((function(){return n.$refs.cancelDialog.$el.focus()})),this.title=title,this.message=t,this.options=Object.assign(this.options,e),new Promise((function(t,e){n.resolve=t,n.reject=e}))},agree:function(){this.isShowDialog=!1,this.resolve(!0),this.$emit("onOk")},cancel:function(){this.isShowDialog=!1,this.resolve(!1),this.$emit("onCancel")}}},o=n(41),l=n(50),c=n.n(l),d=n(110),v=n(183),m=n(62),f=n(463),h=n(480),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.isShowDialog,callback:function(e){t.isShowDialog=e},expression:"isShowDialog"}},[n("v-card",[n("h2",{staticClass:"pl-6 pt-3 pb-2"},[t._v(t._s(t.title))]),t._v(" "),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}]},[t._v(" "+t._s(t.message)+" ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{ref:"btnOk",attrs:{color:t.options.color,text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t._v("\n        ใช่\n      ")]),t._v(" "),n("v-btn",{ref:"cancelDialog",attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("\n        ไม่\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;c()(component,{VBtn:d.a,VCard:v.a,VCardActions:m.a,VCardText:m.c,VDialog:f.a,VSpacer:h.a})},491:function(t,e){t.exports=function(component,t){var e="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(e.directives=component.exports.options.directives),e.directives=e.directives||{},t)e.directives[i]=e.directives[i]||t[i]}},494:function(t,e,n){var content=n(514);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("600aa183",content,!0,{sourceMap:!1})},495:function(t,e,n){"use strict";n(11),n(9),n(6),n(4),n(10);var r=n(1),o=(n(42),n(7)),l=n(86),c=n.n(l);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var v={data:function(){return{petId:"",appointDialog:!1,valid:!1,loading:!1,alert:!1,error:"",oldAppointDialog:!1,oldAppoint:[],menuDate:!1,AppointDate:!1,AppointTime:!1,appointType:this.$store.state.form.appointType,doctor:this.$store.state.form.doctor,plusBtn:[{text:"+3",value:3},{text:"+5",value:5},{text:"+7",value:7},{text:"+30",value:30}],sendAppoint:{petId:"",appointDate:"",appointTime:"",doctor:"",cause:"",remark:"",fromVisitId:""},rules:{appointDate:[function(t){return!!t||"กรุณาเลือกวันที่นัด"}],appointTime:[function(t){return!!t||"กรุณาเลือกเวลานัด"}],cause:[function(t){return!!t||"กรุณากรอกสาเหตุการนัด"},function(t){return t.length<=1e3||"ไม่ควรกรอกสาเหตุการนัด 1000 ตัวอักษร"}],remark:[function(t){return t.length<=1e3||"ไม่ควรกรอกหมายเหตุเกิน 1000 ตัวอักษร"}]}}},computed:{selectDate:function(){return this.sendAppoint.appointDate?c()(this.sendAppoint.appointDate).format("DD/MM/YYYY"):null}},mounted:function(){var t=this;0===this.$store.state.form.doctor.length&&this.$store.dispatch("form/addDoctor").then((function(e){t.doctor=e})),0===this.$store.state.form.appointType.length&&this.$store.dispatch("form/addappointType").then((function(e){t.appointType=e}))},methods:{open:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.sendAppoint.petId=t,e.sendAppoint.appointDate=(new Date).toISOString().substr(0,10),e.sendAppoint.appointTime=c()().format("HH:mm"),n.next=5,e.$axios.$get("/api/appoints?petId=".concat(t),{progress:!1});case 5:0!==(r=n.sent).results.length?(e.oldAppoint=r.results,e.oldAppointDialog=!0):e.appointDialog=!0;case 7:case"end":return n.stop()}}),n)})))()},addText:function(text){this.sendAppoint.cause=this.sendAppoint.cause+text},showAddDialog:function(){var t=this;this.oldAppointDialog=!1,setTimeout((function(){t.appointDialog=!0}),150)},plusDate:function(t){this.sendAppoint.appointDate=c()(this.sendAppoint.appointDate).add(t,"days").format("YYYY-MM-DD")},submitAppoint:function(){var t=this;if(this.$refs.form.validate()){this.loading=!0;var e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.sendAppoint),n={petId:e.petId,doctorId:""===e.doctor?null:e.doctor,appointDate:e.appointDate,appointTime:e.appointTime,cause:e.cause,remark:e.remark,fromVisitId:void 0!==this.$route.params.queue?parseInt(this.$route.params.queue):null};this.$axios.$post("/api/appoints",n,{progress:!1}).then((function(e){t.successSubmit(e,n.petId)})).catch((function(e){t.errorSubmit(e)}))}},successSubmit:function(t,e){var n=this;setTimeout((function(){n.loading=!1,n.alert=!1,n.appointDialog=!1,n.sendAppoint.cause="",n.sendAppoint.remark="",n.$refs.form.resetValidation(),n.$emit("updateAppoint",{appointDate:t.appointDate,petId:e})}),500)},errorSubmit:function(t){this.loading=!1,this.alert=!0,this.error=t.response.data.error.message}}},m=n(41),f=n(50),h=n.n(f),_=n(486),x=n(110),k=n(183),w=n(62),y=n(464),D=n(473),S=n(638),C=n(463),$=n(465),V=n(479),O=n(184),I=n(112),A=n(120),T=n(466),j=n(175),R=n(475),P=n(504),Y=n(480),M=n(483),B=n(535),E=n(484),z=n(461),N=n(626),H=n(648),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{"max-width":"800",scrollable:"",fullscreen:this.$vuetify.breakpoint.xsOnly},model:{value:t.appointDialog,callback:function(e){t.appointDialog=e},expression:"appointDialog"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v("ทำนัด")]),t._v(" "),n("v-btn",{staticClass:"mt-4",attrs:{icon:"",absolute:"",right:""},on:{click:function(e){t.appointDialog=!1}}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-select",{attrs:{disabled:t.loading,items:t.doctor,"item-text":"name","item-value":"id",color:"cusblue","item-color":"cusblue",label:"แพทย์ผู้ตรวจ","menu-props":{closeOnContentClick:!0}},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[n("v-list-item",{style:""===t.sendAppoint.doctor?"background-color: #e2f5fc":"",attrs:{ripple:""},on:{click:function(e){t.sendAppoint.doctor=""}}},[n("v-list-item-content",[n("v-list-item-title",{class:""===t.sendAppoint.doctor?"cusblue--text":""},[t._v("\n                        ไม่ระบุแพทย์\n                      ")])],1)],1),t._v(" "),n("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.sendAppoint.doctor,callback:function(e){t.$set(t.sendAppoint,"doctor",e)},expression:"sendAppoint.doctor"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-text-field",t._g(t._b({ref:"bd",attrs:{disabled:t.loading,rules:t.rules.selectDate,label:"วันที่นัด",color:"cusblue","append-icon":"mdi-calendar-month",readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return t._l(t.plusBtn,(function(e){return n("v-btn",{key:e.value,staticClass:"mb-1 ml-1",attrs:{color:"cusblue3 white--text",depressed:"",icon:"",small:"",outlined:""},on:{click:function(n){return t.plusDate(e.value)}}},[t._v("\n                        "+t._s(e.text)+"\n                      ")])}))},proxy:!0}],null,!0),model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:"selectDate"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menuDate,callback:function(e){t.menuDate=e},expression:"menuDate"}},[t._v(" "),n("v-date-picker",{ref:"picker",attrs:{color:"cusblue",min:(new Date).toISOString().substr(0,10),value:"YYYY-mm",locale:"th","show-current":!1,scrollable:""},model:{value:t.sendAppoint.appointDate,callback:function(e){t.$set(t.sendAppoint,"appointDate",e)},expression:"sendAppoint.appointDate"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{disabled:t.loading,rules:t.rules.appointTime,color:"cusblue","append-icon":"mdi-clock-outline","background-color":"white",label:"เวลา",readonly:""},model:{value:t.sendAppoint.appointTime,callback:function(e){t.$set(t.sendAppoint,"appointTime",e)},expression:"sendAppoint.appointTime"}},"v-text-field",o,!1),r))]}}]),model:{value:t.AppointTime,callback:function(e){t.AppointTime=e},expression:"AppointTime"}},[t._v(" "),n("v-time-picker",{ref:"picker",attrs:{color:"cusblue",format:"24hr",scrollable:""},model:{value:t.sendAppoint.appointTime,callback:function(e){t.$set(t.sendAppoint,"appointTime",e)},expression:"sendAppoint.appointTime"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{disabled:t.loading,rules:t.rules.cause,label:"สาเหตุการนัด",color:"cusblue","auto-grow":"","row-height":"24",rows:"1"},model:{value:t.sendAppoint.cause,callback:function(e){t.$set(t.sendAppoint,"cause",e)},expression:"sendAppoint.cause"}}),t._v(" "),t._l(t.appointType,(function(e){return n("v-chip",{key:e.id,staticClass:"mx-1",attrs:{small:""},on:{click:function(n){return t.addText(e.label)}}},[t._v("\n                "+t._s(e.label)+"\n              ")])}))],2),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{disabled:t.loading,rules:t.rules.remark,label:"หมายเหตุ",color:"cusblue","auto-grow":"","row-height":"24",rows:"1"},model:{value:t.sendAppoint.remark,callback:function(e){t.$set(t.sendAppoint,"remark",e)},expression:"sendAppoint.remark"}})],1)],1),t._v(" "),n("v-alert",{attrs:{dense:"",text:"",color:"red",transition:"scroll-y-transition",dismissible:""},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n            "+t._s(t.error)+"\n          ")])],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"cusblue2--text text-none",attrs:{disabled:t.loading,text:""},on:{click:function(e){t.appointDialog=!1}}},[t._v("\n          ยกเลิก\n        ")]),t._v(" "),n("v-btn",{staticClass:"cusblue2--text text-none",attrs:{disabled:!t.valid||t.loading,text:""},on:{click:t.submitAppoint}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),t._v("\n          บันทึก\n        ")],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500",scrollable:"",fullscreen:this.$vuetify.breakpoint.xsOnly},model:{value:t.oldAppointDialog,callback:function(e){t.oldAppointDialog=e},expression:"oldAppointDialog"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v("รายการนัดหมายถัดไป")]),t._v(" "),n("v-btn",{staticClass:"mt-4",attrs:{icon:"",absolute:"",right:""},on:{click:function(e){t.oldAppointDialog=!1}}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-tabs",{staticClass:"pb-5",attrs:{"show-arrows":"",grow:"","hide-slider":"",color:"cusblue"}},[t._l(t.oldAppoint,(function(e){return n("v-tab",{key:e.id},[n("v-icon",{attrs:{left:""}},[t._v("mdi-calendar-month")]),t._v("\n          "+t._s(t.$moment(e.appointDate).format("DD/MM/YYYY"))+"\n        ")],1)})),t._v(" "),t._l(t.oldAppoint,(function(e){return n("v-tab-item",{key:e.id},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-text-field",{attrs:{label:"เจ้าของ",value:e.pet.owner.name,disabled:""}}),t._v(" "),n("v-text-field",{attrs:{label:"แพทย์",value:null!==e.doctor?e.doctor.name:"ไม่ระบุแพทย์",disabled:""}}),t._v(" "),n("v-text-field",{attrs:{label:"สัตว์เลี้ยง",value:e.pet.name+"("+e.pet.type+")",disabled:""}}),t._v(" "),n("v-text-field",{attrs:{label:"นัดเพื่อ",value:e.cause,disabled:""}}),t._v(" "),n("v-text-field",{attrs:{label:"เวลา",value:e.appointTime,disabled:""}})],1)],1)],1)}))],2),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:function(e){t.oldAppointDialog=!1}}},[t._v("\n          ยกเลิก\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:t.showAddDialog}},[t._v(" เพิ่ม ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;h()(component,{VAlert:_.a,VBtn:x.a,VCard:k.a,VCardActions:w.a,VCardText:w.c,VChip:y.a,VCol:D.a,VDatePicker:S.a,VDialog:C.a,VDivider:$.a,VForm:V.a,VIcon:O.a,VListItem:I.a,VListItemContent:A.a,VListItemTitle:A.b,VMenu:T.a,VProgressCircular:j.a,VRow:R.a,VSelect:P.a,VSpacer:Y.a,VTab:M.a,VTabItem:B.a,VTabs:E.a,VTextField:z.a,VTextarea:N.a,VTimePicker:H.a})},501:function(t,e,n){"use strict";n.r(e);n(42);var r=n(7),o=n(86),l=n.n(o),c=n(505),d=n(503),v=n(487),m=n(495),f={components:{vsCard:c.a,sendDoctorDialog:d.a,appointDialog:m.a,confirmDialog:v.a},props:{visitData:{default:null,type:Object,required:!1},ownerData:{default:null,type:Object,required:!1},petData:{default:null,type:Object,required:!1},showbtn:{type:Boolean,default:!1,required:!1},showVsDx:{type:Boolean,default:!1,required:!1},showReportBtn:{type:Boolean,default:!1,required:!1}},data:function(){return{sheet:!1,petCardHidden:!this.$vuetify.breakpoint.smAndDown,fab:!1}},computed:{isStatusWaiting:function(){return 1===this.visitData.visitStatus.id},isStatusTreament:function(){return 2===this.visitData.visitStatus.id},isStatusWaitingReport:function(){return 3===this.visitData.visitStatus.id},isStatusReported:function(){return 4===this.visitData.visitStatus.id},isShowReceive:function(){return 1===this.visitData.visitStatus.id&&this.$store.getters.loggedInUser.roles&&this.$store.getters.loggedInUser.roles.some((function(t){return 2===t.id}))&&(null===this.visitData.doctor||this.visitData.doctor.id===this.$store.getters.loggedInUser.id)}},methods:{getPetAvartar:function(t){return"".concat("https://api.vet-clinic.somprasongd.work","/api/pets/").concat(t,"/avatar")},getOwnerAvartar:function(t){return"".concat("https://api.vet-clinic.somprasongd.work","/api/members/").concat(t,"/avatar")},calcAge:function(t){var e=l()(),n=l()(t,"YYYY-MM-DD"),r=l.a.duration(e.diff(n));return r.years()+" ปี "+r.months()+" เดือน "},openSendDocs:function(t,e){this.$refs.sendDoctor.open(t,e)},updateSend:function(){this.$router.push("/queue")},admit:function(t){var e=this;this.$axios.$patch("/api/visits/".concat(t),{visitTypeId:2},{progress:!1}).then((function(t){e.$router.push("/queue")})).catch((function(t){alert(t)}))},endCheck:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$refs.confirm.open("ยืนยัน".concat(2===e?"เข้ารับการตรวจ":3===e?"การรอผลตรวจ":4===e?"การรายงานผล":7===e?"การจบการรับบริการ":8===e?"ยกเลิกการรักษา":"การจบการรักษา","?"),"ต้องการยืนยัน".concat(2===e?"เข้ารับการตรวจ":3===e?"การรอผลตรวจ":4===e?"การรายงานผล":7===e?"การจบการรับบริการ":8===e?"ยกเลิกการรักษา":"การจบการรักษา","ใช่หรือไม่"),{width:290,color:8===e?"red":3===e?"primary":4===e?"rgb(214, 185, 81)":"green"});case 2:if(r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.prev=5,r.next=8,n.$axios.$patch("/api/visits/".concat(t,"/status/").concat(n.getVisitStatus(e)),{progress:!1});case 8:if(2!==e){r.next=12;break}return n.visitData.visitStatus.id=2,n.$store.commit("setNavTab",{check:!1,checkList:!1,lab:!1,xray:!1}),r.abrupt("return");case 12:n.$router.push("/queue"),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(5),alert(r.t0);case 18:case"end":return r.stop()}}),r,null,[[5,15]])})))()},getVisitStatus:function(t){return this.$store.getters.getVisitStatus(t)},petDead:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่จะ".concat(e?"แจ้งตาย":"ยกเลิกแจ้งตาย"),{width:290,color:"red"});case 2:if(r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.prev=5,r.next=8,n.$axios.$patch("/api/pets/".concat(t),{death:e},{progress:!1});case 8:n.petData.death=e,r.next=14;break;case 11:r.prev=11,r.t0=r.catch(5),alert(r.t0);case 14:case"end":return r.stop()}}),r,null,[[5,11]])})))()}}},h=n(41),_=n(50),x=n.n(_),k=n(185),w=(n(11),n(9),n(6),n(4),n(10),n(1)),y=(n(17),n(515),n(463));function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function S(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(w.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C=y.a.extend({name:"v-bottom-sheet",props:{inset:Boolean,maxWidth:{type:[String,Number],default:"auto"},transition:{type:String,default:"bottom-sheet-transition"}},computed:{classes:function(){return S(S({},y.a.options.computed.classes.call(this)),{},{"v-bottom-sheet":!0,"v-bottom-sheet--inset":this.inset})}}}),$=n(110),V=n(183),O=n(62),I=n(473),A=n(465),T=n(65),j=n(184),R=n(265),P=n(186),Y=n(112),M=n(188),B=n(120),E=n(475),z=n(523),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{staticClass:"elevation-4",attrs:{"max-height":"100%"}},[n("v-card-title",{staticClass:"pb-1 pt-3"},[t._v("\n      เจ้าของสัตว์ และสัตว์เลี้ยง\n    ")]),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("div",{staticClass:"pa-4"},[n("v-row",{attrs:{justify:"center",align:"center",dense:""}},[n("v-col",{attrs:{cols:"4"}},[n("v-avatar",{attrs:{size:"100"}},[n("v-img",{attrs:{src:t.getPetAvartar(t.petData.id),width:"100"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"8"}},[n("v-row",{staticClass:"font-weight-bold",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"5"}},[t._v("ชื่อสัตว์เลี้ยง")]),t._v(" "),n("v-col",{attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v(t._s(t.petData.name))])],1),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"5"}},[t._v("ประเภท")]),t._v(" "),n("v-col",{attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v(t._s(void 0===t.petData.type?"":t.petData.type.label))])],1),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"5"}},[t._v("เพศ")]),t._v(" "),n("v-col",{attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v(t._s(void 0===t.petData.gender?"":t.petData.gender.label))])],1),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"5"}},[t._v("อายุ")]),t._v(" "),n("v-col",{attrs:{cols:"1"}},[t._v(":")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v(t._s(void 0===t.petData.birthDate?"":t.calcAge(t.petData.birthDate)))])],1)],1)],1)],1),t._v(" "),n("v-expand-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.petCardHidden,expression:"petCardHidden"}]},[n("v-divider",{staticClass:"dash-divider"}),t._v(" "),n("div",{staticClass:"pa-4"},[n("v-row",{attrs:{justify:"center",align:"center",dense:""}},[n("v-col",{attrs:{cols:"4"}},[n("v-avatar",{attrs:{size:"100"}},[n("v-img",{attrs:{src:t.getOwnerAvartar(t.ownerData.id),width:"100"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"8"}},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(void 0===t.ownerData.fullName?"":t.ownerData.fullName))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v("\n                เบอร์ติดต่อ :\n                "+t._s(void 0===t.ownerData.tels?"":t.ownerData.tels[0])+"\n              ")])])],1)],1),t._v(" "),t.showbtn?n("div",[n("v-divider",{staticClass:"dash-divider hidden-sm-and-down"}),t._v(" "),n("div",{staticClass:"px-3 pt-1 hidden-sm-and-down"},[n("v-btn",{staticClass:"font-weight-regular text-capitalize my-2",attrs:{to:"/history/"+t.petData.id,color:"blue lighten-1",block:"",depressed:"",dark:""}},[t._v("\n              ประวัติการรักษา\n            ")]),t._v(" "),t.isStatusWaiting?t._e():n("v-btn",{staticClass:"font-weight-regular text-capitalize my-2",attrs:{to:"/queue/"+this.$route.params.queue+"/insertImg",color:"blue lighten-1",block:"",depressed:"",dark:""}},[t._v("\n              แนบไฟล์ภาพ\n            ")]),t._v(" "),t.isStatusWaiting?t._e():n("v-btn",{staticClass:"font-weight-regular text-capitalize my-2",attrs:{color:"blue-grey darken-1",block:"",depressed:"",dark:""},on:{click:function(e){return t.petDead(t.petData.id,!t.petData.death)}}},[t._v("\n              "+t._s(t.petData.death?"ยกเลิกแจ้งตาย":"แจ้งตาย")+"\n            ")]),t._v(" "),t.isStatusWaiting?t._e():n("v-btn",{staticClass:"font-weight-regular text-capitalize my-2",attrs:{color:"brown lighten-1",block:"",depressed:"",dark:""},on:{click:function(e){return t.$refs.appDialog.open(t.petData.id)}}},[t._v("\n              ทำนัด\n            ")]),t._v(" "),t.isStatusWaiting?t._e():n("v-btn",{staticClass:"font-weight-regular text-capitalize my-2",attrs:{color:"brown lighten-1",block:"",depressed:"",dark:""},on:{click:function(e){return t.admit(t.$route.params.queue)}}},[t._v("\n              Admit\n            ")]),t._v(" "),t.isShowReceive?n("v-btn",{staticClass:"font-weight-regular text-capitalize my-2",attrs:{color:"cyan lighten-1",block:"",depressed:"",dark:""},on:{click:function(e){return t.endCheck(t.$route.params.queue,2)}}},[t._v("\n              เข้ารับการตรวจ\n            ")]):t._e(),t._v(" "),n("v-btn",{staticClass:"font-weight-regular text-capitalize my-2",attrs:{color:"amber accent-4",block:"",depressed:"",dark:""},on:{click:function(e){return t.openSendDocs(null===t.visitData.doctor?"":t.visitData.doctor.name,t.visitData.id)}}},[t._v("\n              ส่งต่อ\n            ")]),t._v(" "),t.isStatusTreament?n("v-btn",{staticClass:"font-weight-regular text-capitalize my-2",attrs:{color:"amber accent-4",block:"",depressed:"",dark:""},on:{click:function(e){return t.endCheck(t.$route.params.queue,3)}}},[t._v("\n              รอผลตรวจ\n            ")]):t._e(),t._v(" "),n("v-btn",{staticClass:"font-weight-regular text-capitalize my-2",attrs:{color:"amber accent-4",block:"",depressed:"",dark:""},on:{click:function(e){return t.endCheck(t.$route.params.queue,t.isStatusWaiting?8:6)}}},[t._v("\n              "+t._s(t.isStatusWaiting?"ยกเลิกการรักษา":"จบการรักษา")+"\n            ")])],1)],1):t._e(),t._v(" "),t.showVsDx&&!t.isStatusWaitingReport?n("div",[n("v-divider",{staticClass:"dash-divider hidden-sm-and-down"}),t._v(" "),n("div",{staticClass:"hidden-sm-and-down"},[n("vsCard",{attrs:{"visit-id":t.visitData.id,"no-card":!0}}),t._v(" "),""!==t.visitData.dx?n("v-divider",{staticClass:"dash-divider hidden-sm-and-down"}):t._e(),t._v(" "),""!==t.visitData.dx?n("div",{staticClass:"pa-3"},[n("span",{staticClass:"font-weight-bold"},[t._v("\n                DX (Differential Diagnosis)\n              ")]),t._v(" "),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visitData.dx,expression:"visitData.dx"}],staticClass:"custom-textarea",attrs:{readonly:!0},domProps:{value:t.visitData.dx},on:{input:function(e){e.target.composing||t.$set(t.visitData,"dx",e.target.value)}}})])]):t._e()],1)],1):t._e()],1)]),t._v(" "),n("v-divider",{staticClass:"dash-divider"}),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",block:"",text:""},on:{click:function(e){t.petCardHidden=!t.petCardHidden}}},[n("v-icon",{directives:[{name:"show",rawName:"v-show",value:0==t.petCardHidden,expression:"petCardHidden == false"}]},[t._v("mdi-dots-horizontal")]),t._v(" "),n("v-icon",{directives:[{name:"show",rawName:"v-show",value:1==t.petCardHidden,expression:"petCardHidden == true"}]},[t._v("mdi-chevron-up")])],1)],1),t._v(" "),n("sendDoctorDialog",{ref:"sendDoctor",on:{updateDoctor:t.updateSend}}),t._v(" "),n("confirmDialog",{ref:"confirm"}),t._v(" "),n("appointDialog",{ref:"appDialog"}),t._v(" "),[n("v-bottom-sheet",{scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"hidden-md-and-up",attrs:{bottom:"",left:"",fixed:"",fab:"","x-small":"",color:"cusblue",dark:""}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-dots-horizontal")])],1)]}}]),model:{value:t.sheet,callback:function(e){t.sheet=e},expression:"sheet"}},[t._v(" "),n("v-list",[n("v-subheader",[t._v("ตัวเลือก")]),t._v(" "),n("v-list-item",{attrs:{to:"/history/"+t.petData.id},on:{click:function(e){t.sheet=!1}}},[n("v-list-item-avatar",[n("v-avatar",{attrs:{tile:"",color:"blue lighten-1",size:"32px"}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-medical-bag")])],1)],1),t._v(" "),n("v-list-item-title",[t._v("ประวัติการรักษา")])],1),t._v(" "),t.isStatusWaiting?t._e():n("v-list-item",{on:{click:function(e){t.sheet=!1,t.endCheck(t.$route.params.queue,2)}}},[n("v-list-item-avatar",[n("v-avatar",{attrs:{tile:"",color:"blue lighten-1",size:"32px"}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-file-image")])],1)],1),t._v(" "),n("v-list-item-title",[t._v("แนบไฟล์ภาพ")])],1),t._v(" "),t.isStatusWaiting?t._e():n("v-list-item",{on:{click:function(e){t.sheet=!1,t.petDead(t.petData.id,!t.petData.death)}}},[n("v-list-item-avatar",[n("v-avatar",{attrs:{tile:"",color:"blue-grey darken-1",size:"32px"}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-skull")])],1)],1),t._v(" "),n("v-list-item-title",[t._v(t._s(t.petData.death?"ยกเลิกแจ้งตาย":"แจ้งตาย"))])],1),t._v(" "),n("v-divider",{staticClass:"dash-divider"}),t._v(" "),t.isStatusWaiting?t._e():n("v-list-item",{attrs:{to:"/queue/"+this.$route.params.queue+"/appoint"},on:{click:function(e){t.sheet=!1}}},[n("v-list-item-avatar",[n("v-avatar",{attrs:{tile:"",color:"brown lighten-1",size:"32px"}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-calendar-plus")])],1)],1),t._v(" "),n("v-list-item-title",[t._v("ทำนัด")])],1),t._v(" "),t.isStatusWaiting?t._e():n("v-list-item",{on:{click:function(e){t.sheet=!1,t.admit(t.$route.params.queue)}}},[n("v-list-item-avatar",[n("v-avatar",{attrs:{tile:"",color:"brown lighten-1",size:"32px"}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-format-color-text")])],1)],1),t._v(" "),n("v-list-item-title",[t._v("Admit")])],1),t._v(" "),n("v-divider",{staticClass:"dash-divider"}),t._v(" "),t.isShowReceive?n("v-list-item",{on:{click:function(e){t.sheet=!1,t.endCheck(t.$route.params.queue,2)}}},[n("v-list-item-avatar",[n("v-avatar",{attrs:{tile:"",color:"cyan lighten-1",size:"32px"}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-file-send")])],1)],1),t._v(" "),n("v-list-item-title",[t._v("เข้ารับการตรวจ")])],1):t._e(),t._v(" "),n("v-list-item",{on:{click:function(e){t.sheet=!1,t.openSendDocs(null===t.visitData.doctor?"":t.visitData.doctor.name,t.visitData.id)}}},[n("v-list-item-avatar",[n("v-avatar",{attrs:{tile:"",color:"amber accent-4",size:"32px"}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-file-send")])],1)],1),t._v(" "),n("v-list-item-title",[t._v("ส่งต่อ")])],1),t._v(" "),t.isStatusTreament?n("v-list-item",{on:{click:function(e){t.sheet=!1,t.endCheck(t.$route.params.queue,3)}}},[n("v-list-item-avatar",[n("v-avatar",{attrs:{tile:"",color:"amber accent-4",size:"32px"}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-file-send")])],1)],1),t._v(" "),n("v-list-item-title",[t._v("รอผลตรวจ")])],1):t._e(),t._v(" "),t.isStatusTreament?n("v-list-item",{on:{click:function(e){t.sheet=!1,t.endCheck(t.$route.params.queue,t.isStatusWaiting?8:6)}}},[n("v-list-item-avatar",[n("v-avatar",{attrs:{tile:"",color:"amber accent-4",size:"32px"}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-file-send")])],1)],1),t._v(" "),n("v-list-item-title",[t._v(t._s(t.isStatusWaiting?"ยกเลิกการรักษา":"จบการรักษา"))])],1):t._e(),t._v(" "),n("div",{staticClass:"text-center"},[n("v-btn",{attrs:{color:"red lighten-1",dark:""},on:{click:function(e){t.sheet=!1}}},[t._v("ปิด")])],1)],1)],1)]],2)}),[],!1,null,null,null);e.default=component.exports;x()(component,{VAvatar:k.a,VBottomSheet:C,VBtn:$.a,VCard:V.a,VCardTitle:O.d,VCol:I.a,VDivider:A.a,VExpandTransition:T.a,VIcon:j.a,VImg:R.a,VList:P.a,VListItem:Y.a,VListItemAvatar:M.a,VListItemTitle:B.b,VRow:E.a,VSubheader:z.a})},503:function(t,e,n){"use strict";var r={data:function(){return{sendDoctor:!1,doctor:this.$store.state.form.doctor,visitId:"",oldDoc:"",newDoc:"",loading:!1}},created:function(){var t=this;0===this.$store.state.form.doctor.length&&this.$store.dispatch("form/addDoctor").then((function(e){t.doctor=e}))},methods:{open:function(t,e){this.visitId=e,this.oldDoc=t,this.sendDoctor=!0},submitSend:function(){var t=this;this.loading=!0,this.$axios.$patch("/api/visits/".concat(this.visitId),{doctorId:""===this.newDoc?null:this.newDoc},{progress:!1}).then((function(e){setTimeout((function(){t.sendDoctor=!1,t.loading=!1,t.$emit("updateDoctor",e)}),500)})).catch((function(e){t.loading=!1,alert(e)}))}}},o=n(41),l=n(50),c=n.n(l),d=n(110),v=n(183),m=n(62),f=n(463),h=n(465),_=n(112),x=n(120),k=n(175),w=n(504),y=n(480),D=n(461),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"450",scrollable:"",fullscreen:this.$vuetify.breakpoint.xsOnly,transition:"dialog-transition"},model:{value:t.sendDoctor,callback:function(e){t.sendDoctor=e},expression:"sendDoctor"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v("ส่งต่อ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{label:"แพทย์ผู้ตรวจ (เดิม)",disabled:""},model:{value:t.oldDoc,callback:function(e){t.oldDoc=e},expression:"oldDoc"}}),t._v(" "),n("v-select",{attrs:{items:t.doctor,"item-text":"name","item-value":"id",color:"cusblue","item-color":"cusblue",label:"แพทย์ผู้ตรวจ (ใหม่)",disabled:t.loading,"menu-props":{closeOnContentClick:!0}},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[n("v-list-item",{style:""===t.newDoc?"background-color: #e2f5fc":"",attrs:{ripple:""},on:{click:function(e){t.newDoc=""}}},[n("v-list-item-content",[n("v-list-item-title",{class:""===t.newDoc?"cusblue--text":""},[t._v("\n                ไม่ระบุแพทย์\n              ")])],1)],1),t._v(" "),n("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.newDoc,callback:function(e){t.newDoc=e},expression:"newDoc"}})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",disabled:t.loading,text:""},on:{click:function(e){t.sendDoctor=!1}}},[t._v("\n        ไม่ส่ง\n      ")]),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",disabled:t.loading,text:""},on:{click:t.submitSend}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),t._v("\n        ยืนยัน\n      ")],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;c()(component,{VBtn:d.a,VCard:v.a,VCardActions:m.a,VCardText:m.c,VDialog:f.a,VDivider:h.a,VListItem:_.a,VListItemContent:x.a,VListItemTitle:x.b,VProgressCircular:k.a,VSelect:w.a,VSpacer:y.a,VTextField:D.a})},505:function(t,e,n){"use strict";n(42);var r=n(7),o=(n(17),{props:{noCard:{type:Boolean,required:!1,default:!1},visitId:{type:Number,required:!0},disable:{type:Boolean,required:!1,default:!1}},data:function(){return{expand:!this.$vuetify.breakpoint.smAndDown,vs:[]}},computed:{loopOnce:function(){var t=this.TempNotBlank(this.vs),e=this.RRNotBlank(this.vs),n=this.SysNotBlank(this.vs),r=this.DiaNotBlank(this.vs),o=this.WeightNotBlank(this.vs),l=void 0===n&&void 0===r?"":n+"/"+r;return{weight:{header:"Weight",value:null===o?"-":o,unit:"Kg"},temp:{header:"Temp.",value:null===t?"-":t,unit:"F"},bp:{header:"BP",value:"null/null"===l?"-":l,unit:"bpm"},r:{header:"RR",value:null===e?"-":e,unit:""}}}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/api/visits/".concat(t.visitId,"/vs"),{progress:!1});case 2:n=e.sent,t.vs=n;case 4:case"end":return e.stop()}}),e)})))()},methods:{openCreate:function(){this.$refs.vsDialog.openCreate()},openShow:function(){this.$refs.vsDialog.openShow()},TempNotBlank:function(data){for(var t in data)if(""!==data[t].temp&&null!==data[t].temp)return data[t].temp},RRNotBlank:function(data){for(var t in data)if(""!==data[t].rr&&null!==data[t].rr)return data[t].rr},SysNotBlank:function(data){for(var t in data)if(""!==data[t].sys&&null!==data[t].sys)return data[t].sys},DiaNotBlank:function(data){for(var t in data)if(""!==data[t].dia&&null!==data[t].dia)return data[t].dia},WeightNotBlank:function(data){for(var t in data)if(""!==data[t].weight&&null!==data[t].weight)return data[t].weight}}}),l=n(41),c=n(50),d=n.n(c),v=n(110),m=n(183),f=n(62),h=n(473),_=n(465),x=n(65),k=n(184),w=n(475),y=n(480),D=n(491),S=n.n(D),C=n(58),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.noCard?n("div",{staticClass:"pa-3"},[n("span",{staticClass:"font-weight-bold"},[t._v("Vital Sign")]),t._v(" "),t._l(t.loopOnce,(function(e){return n("v-row",{key:e.index,staticClass:"text-left",attrs:{align:"center",justify:"center","no-gutters":""}},[n("v-col",{staticClass:"font-weight-medium",attrs:{cols:"5"}},[t._v(t._s(e.header))]),t._v(" "),n("v-col",{attrs:{cols:"5"}},[t._v(t._s(e.value))]),t._v(" "),n("v-col",{attrs:{cols:"2"}},[t._v(t._s(e.unit))])],1)}))],2):n("v-card",{staticClass:"my-1 mx-1",attrs:{"max-height":"100%"}},[n("v-card-title",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pb-1 pt-3 custom-cardTitle",on:{click:function(e){t.expand=!t.expand}}},[t._v("\n      Vital Sign\n      "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",icon:""}},[n("v-icon",{directives:[{name:"show",rawName:"v-show",value:0==t.expand,expression:"expand == false"}]},[t._v("mdi-chevron-down")]),t._v(" "),n("v-icon",{directives:[{name:"show",rawName:"v-show",value:1==t.expand,expression:"expand == true"}]},[t._v("mdi-chevron-up")])],1)],1),t._v(" "),n("v-expand-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"expand"}]},[n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("div",{staticClass:"pt-3 pb-4 px-7 card-content overflow-auto"},t._l(t.loopOnce,(function(e){return n("v-row",{key:e.index,staticClass:"text-left",attrs:{align:"center",justify:"center",dense:""}},[n("v-col",{staticClass:"font-weight-medium",attrs:{cols:"5"}},[t._v("\n              "+t._s(e.header)+"\n            ")]),t._v(" "),n("v-col",{attrs:{cols:"5"}},[t._v("\n              "+t._s(e.value)+"\n            ")]),t._v(" "),n("v-col",{attrs:{cols:"2"}},[t._v(t._s(e.unit))])],1)})),1),t._v(" "),n("v-card-actions",{staticClass:"customAction-right"},[n("v-btn",{staticClass:"ma-0",attrs:{color:"cusblue2",disabled:t.disable,text:"",small:""},on:{click:function(e){return e.stopPropagation(),t.openShow()}}},[t._v("\n            Show All\n          ")]),t._v(" "),n("v-divider",{attrs:{vertical:""}}),t._v(" "),n("v-btn",{staticClass:"ma-0",attrs:{color:"cusblue2",disabled:t.disable,text:"",fab:"","x-small":""},on:{click:function(e){return e.stopPropagation(),t.openCreate()}}},[n("v-icon",[t._v("mdi-plus")])],1)],1),t._v(" "),n("VsDialog",{ref:"vsDialog",attrs:{"card-data":t.vs}})],1)])],1)],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VsDialog:n(518).default}),d()(component,{VBtn:v.a,VCard:m.a,VCardActions:f.a,VCardTitle:f.d,VCol:h.a,VDivider:_.a,VExpandTransition:x.a,VIcon:k.a,VRow:w.a,VSpacer:y.a}),S()(component,{Ripple:C.a})},511:function(t,e,n){var content=n(512);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("54170fb2",content,!0,{sourceMap:!1})},512:function(t,e,n){(e=n(12)(!1)).push([t.i,".theme--light.v-small-dialog__actions,.theme--light.v-small-dialog__menu-content{background:#fff}.theme--dark.v-small-dialog__actions,.theme--dark.v-small-dialog__menu-content{background:#1e1e1e}.v-small-dialog{display:block}.v-small-dialog__activator{cursor:pointer}.v-small-dialog__activator__content{display:inline-block}.v-small-dialog__content{padding:0 16px}.v-small-dialog__actions{padding:8px;text-align:right;white-space:pre}",""]),t.exports=e},513:function(t,e,n){"use strict";var r=n(494);n.n(r).a},514:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-virtual-scroll::-webkit-scrollbar{width:5px}.v-virtual-scroll::-webkit-scrollbar-thumb{background-color:#a1a1a1;border-radius:10px}",""]),t.exports=e},515:function(t,e,n){var content=n(516);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("1d31a8d0",content,!0,{sourceMap:!1})},516:function(t,e,n){(e=n(12)(!1)).push([t.i,".bottom-sheet-transition-enter,.bottom-sheet-transition-leave-to{transform:translateY(100%)}.v-bottom-sheet.v-dialog{align-self:flex-end;border-radius:0;flex:0 1 auto;margin:0;overflow:visible}.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:70%}@media only screen and (max-width:599px){.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:none}}",""]),t.exports=e},518:function(t,e,n){"use strict";n.r(e);n(11),n(9),n(6),n(4),n(10),n(42);var r=n(7),o=n(1),l=n(86),c=n.n(l);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={components:{confirmDialog:n(487).a},props:{cardData:{default:null,type:Array,required:!1}},data:function(){return{dialogShow:!1,assignModalVS:!1,MeasureDate:!1,MeasureTime:!1,valid:!1,loading:!1,alert:!1,error:"",editedIndex:-1,editedId:0,editedItem:{date:"",time:"",temp:"",rr:"",pulse:"",sys:"",dia:"",weight:"",painScore:"",bcs:""},headers:[{text:"Date",value:"date",align:"center"},{text:"Time",value:"time",align:"center"},{text:"Temp",value:"temp",align:"center"},{text:"R",value:"rr",align:"center"},{text:"Pulse",value:"pulse",align:"center"},{text:"SysBp",value:"sys",align:"center"},{text:"DiaBp",value:"dia",align:"center"},{text:"Weight",value:"weight",align:"center"},{text:"PainScr",value:"painScore",align:"center"},{text:"BCS",value:"bcs",align:"center"},{text:"Actions",value:"actions",sortable:!1}],rules:{date:[function(t){return!!t||"กรุณาเลือกวันที่"}],time:[function(t){return!!t||"กรุณาเลือกเวลา"}],rr:[function(t){return!t||/^[0-9]{1,3}$/.test(t)||"กรุณากรอกตัวเลข ไม่เกิน 3 ตัว เท่านั้น"}],pulse:[function(t){return!t||/^[0-9]{1,3}$/.test(t)||"กรุณากรอกตัวเลข ไม่เกิน 3 ตัว เท่านั้น"}],sys:[function(t){return!t||/^[0-9]{1,3}$/.test(t)||"กรุณากรอกตัวเลข ไม่เกิน 3 ตัว เท่านั้น"}],dia:[function(t){return!t||/^[0-9]{1,3}$/.test(t)||"กรุณากรอกตัวเลข ไม่เกิน 3 ตัว เท่านั้น"}],painScore:[function(t){return!t||/^(?:[1-9]|0[1-9]|10)$/.test(t)||"กรุณากรอกตัวเลข 1 - 10 เท่านั้น"}],bcs:[function(t){return!t||/^[1-9]$/.test(t)||"กรุณากรอกตัวเลข 1 - 9 เท่านั้น"}],temp:[function(t){return!t||/^[0-9]*\.?[0-9]{1,2}$/.test(t)||"กรุณากรอกตัวเลขเท่านั้น"}],weight:[function(t){return!t||/^[0-9]*\.?[0-9]{1,2}$/.test(t)||"กรุณากรอกตัวเลขเท่านั้น"}]}}},computed:{selectDate:function(){return this.editedItem.date?c()(this.editedItem.date).format("DD/MM/YYYY"):null},VsTitle:function(){return-1===this.editedIndex?"เพิ่ม Vital Sign":"แก้ไข Vital Sign"}},watch:{assignModalVS:function(t){t?""===this.editedItem.date&&(this.editedItem.date=c()().format("YYYY-MM-DD"),this.editedItem.time=c()().format("HH:mm")):this.close()}},methods:{onEnter:function(t){this.$refs[t].focus()},openCreate:function(){this.assignModalVS=!0},openShow:function(){this.dialogShow=!0},UpdateTime:function(){this.editedItem.date=c()().format("YYYY-MM-DD"),this.editedItem.time=c()().format("HH:mm"),this.assignModalVS=!0},editIem:function(t){var e=this;this.dialogShow=!1,this.editedIndex=this.cardData.indexOf(t),this.editedId=t.id,this.editedItem={date:c()(t.vitalSignAt).format("YYYY-MM-DD"),time:c()(t.vitalSignAt).format("HH:mm"),temp:null===t.temp?"":t.temp,rr:null===t.rr?"":t.rr,sys:null===t.sys?"":t.sys,dia:null===t.dia?"":t.dia,weight:null===t.weight?"":t.weight,painScore:null===t.painScore?"":t.painScore,bcs:null===t.bcs?"":t.bcs},setTimeout((function(){e.assignModalVS=!0}),200)},close:function(){var t=this;this.loading=!1,this.assignModalVS=!1,this.$nextTick((function(){t.editedItem={date:"",time:"",temp:"",rr:"",pulse:"",sys:"",dia:"",weight:"",painScore:"",bcs:""},t.editedIndex=-1,t.editedId=0}))},submit:function(){this.$refs.form.validate()&&(this.loading=!0,this.editedIndex>-1?this.updateVs():this.sendVS())},sendVS:function(){var t=this,e=v({},this.editedItem),n={vitalSignAt:c()(e.date+" "+e.time,"YYYY-MM-DD HH:mm:ss").toISOString(),temp:""===e.temp?null:e.temp,rr:""===e.rr?null:e.rr,pulse:""===e.pulse?null:e.pulse,sys:""===e.sys?null:e.sys,dia:""===e.dia?null:e.dia,weight:""===e.weight?null:e.weight,painScore:""===e.painScore?null:e.painScore,bcs:""===e.bcs?null:e.bcs};this.$axios.$post("/api/visits/".concat(this.$route.params.queue,"/vs"),n,{progress:!1}).then((function(e){t.cardData.unshift(e),setTimeout((function(){t.assignModalVS=!1}),200)})).catch((function(t){alert(t)}))},updateVs:function(){var t=this,e=v({},this.editedItem),n={vitalSignAt:c()(e.date+" "+e.time,"YYYY-MM-DD HH:mm:ss").toISOString(),temp:""===e.temp?null:e.temp,rr:""===e.rr?null:e.rr,pulse:""===e.pulse?null:e.pulse,sys:""===e.sys?null:e.sys,dia:""===e.dia?null:e.dia,weight:""===e.weight?null:e.weight,painScore:""===e.painScore?null:e.painScore,bcs:""===e.bcs?null:e.bcs};this.$axios.$patch("/api/visits/".concat(this.$route.params.queue,"/vs/").concat(this.editedId),n,{progress:!1}).then((function(e){Object.assign(t.cardData[t.editedIndex],e),t.assignModalVS=!1,setTimeout((function(){t.dialogShow=!0}),200)})).catch((function(t){alert(t)}))},deleteVs:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.cardData.indexOf(t),e.dialogShow=!1,n.next=4,e.$refs.confirm.open("คุณแน่ใจหรือไม่?","คุณแน่ใจหรือไม่ที่จะลบข้อมูลนี้",{width:290,color:"red"});case 4:if(n.sent){n.next=8;break}return e.dialogShow=!0,n.abrupt("return");case 8:return n.prev=8,n.next=11,e.$axios.$delete("/api/visits/".concat(e.$route.params.queue,"/vs/").concat(t.id),{progress:!1});case 11:e.dialogShow=!0,e.cardData.splice(r,1),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(8),alert(n.t0);case 18:case"end":return n.stop()}}),n,null,[[8,15]])})))()}}},f=(n(513),n(41)),h=n(50),_=n.n(h),x=n(110),k=n(183),w=n(62),y=n(473),D=n(639),S=n(638),C=n(463),$=n(465),V=n(479),O=n(184),I=n(466),A=n(175),T=n(475),j=n(480),R=n(461),P=n(648),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{"max-width":"600",fullscreen:this.$vuetify.breakpoint.xsOnly,scrollable:""},model:{value:t.assignModalVS,callback:function(e){t.assignModalVS=e},expression:"assignModalVS"}},[n("v-card",[n("h2",{staticClass:"pa-5 pb-2"},[t._v(t._s(t.VsTitle))]),t._v(" "),n("v-btn",{staticClass:"mt-4",attrs:{icon:"",absolute:"",right:""},on:{click:function(e){t.assignModalVS=!1}}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{disabled:t.loading,rules:t.rules.date,color:"cusblue","append-icon":"mdi-calendar-month","background-color":"white",label:"วันที่วัด",readonly:""},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:"selectDate"}},"v-text-field",o,!1),r))]}}]),model:{value:t.MeasureDate,callback:function(e){t.MeasureDate=e},expression:"MeasureDate"}},[t._v(" "),n("v-date-picker",{ref:"picker",attrs:{color:"cusblue",max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},model:{value:t.editedItem.date,callback:function(e){t.$set(t.editedItem,"date",e)},expression:"editedItem.date"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{disabled:t.loading,rules:t.rules.time,color:"cusblue","append-icon":"mdi-clock-outline","background-color":"white",label:"เวลา",readonly:""},model:{value:t.editedItem.time,callback:function(e){t.$set(t.editedItem,"time",e)},expression:"editedItem.time"}},"v-text-field",o,!1),r))]}}]),model:{value:t.MeasureTime,callback:function(e){t.MeasureTime=e},expression:"MeasureTime"}},[t._v(" "),n("v-time-picker",{ref:"picker",attrs:{disabled:t.loading,color:"cusblue",format:"24hr",scrollable:""},model:{value:t.editedItem.time,callback:function(e){t.$set(t.editedItem,"time",e)},expression:"editedItem.time"}})],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{disabled:t.loading,rules:t.rules.weight,color:"cusblue",label:"Weight/kg",autofocus:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter("temp")}},model:{value:t.editedItem.weight,callback:function(e){t.$set(t.editedItem,"weight",e)},expression:"editedItem.weight"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{ref:"temp",attrs:{disabled:t.loading,rules:t.rules.temp,color:"cusblue",label:"Temp/F"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter("pulse")}},model:{value:t.editedItem.temp,callback:function(e){t.$set(t.editedItem,"temp",e)},expression:"editedItem.temp"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{ref:"pulse",attrs:{disabled:t.loading,rules:t.rules.pulse,color:"cusblue",label:"Pulse"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter("r")}},model:{value:t.editedItem.pulse,callback:function(e){t.$set(t.editedItem,"pulse",e)},expression:"editedItem.pulse"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{ref:"r",attrs:{disabled:t.loading,rules:t.rules.rr,color:"cusblue",label:"R"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter("sys")}},model:{value:t.editedItem.rr,callback:function(e){t.$set(t.editedItem,"rr",e)},expression:"editedItem.rr"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{ref:"sys",attrs:{disabled:t.loading,rules:t.rules.sys,color:"cusblue",label:"Systolic P/bpm"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter("dia")}},model:{value:t.editedItem.sys,callback:function(e){t.$set(t.editedItem,"sys",e)},expression:"editedItem.sys"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{ref:"dia",attrs:{disabled:t.loading,rules:t.rules.dia,color:"cusblue",label:"Diastolic P/bpm"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter("bcs")}},model:{value:t.editedItem.dia,callback:function(e){t.$set(t.editedItem,"dia",e)},expression:"editedItem.dia"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{ref:"bcs",attrs:{disabled:t.loading,rules:t.rules.bcs,color:"cusblue",label:"BCS"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter("ps")}},model:{value:t.editedItem.bcs,callback:function(e){t.$set(t.editedItem,"bcs",e)},expression:"editedItem.bcs"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{ref:"ps",attrs:{disabled:t.loading,rules:t.rules.painScore,color:"cusblue",label:"Pain Score"},model:{value:t.editedItem.painScore,callback:function(e){t.$set(t.editedItem,"painScore",e)},expression:"editedItem.painScore"}})],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","x"],expression:"['ctrl', 'x']"}],attrs:{color:"cusblue2",text:""},on:{shortkey:t.close,click:t.close}},[t._v("ยกเลิก")]),t._v(" "),n("v-btn",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","enter"],expression:"['ctrl', 'enter']"}],attrs:{color:"cusblue2",disabled:!t.valid||t.loading,text:""},on:{shortkey:t.submit,click:t.submit}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mr-2",attrs:{indeterminate:"",color:"cusblue2",size:15,width:2}}),t._v("\n          บันทึก\n        ")],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"930",fullscreen:this.$vuetify.breakpoint.xsOnly,scrollable:""},model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[n("v-card",{attrs:{height:"100%"}},[n("h2",{staticClass:"pa-5 pb-2"},[t._v("Vital Sign")]),t._v(" "),n("v-btn",{staticClass:"mt-4",attrs:{icon:"",absolute:"",right:""},on:{click:function(e){t.dialogShow=!1}}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("v-divider",{staticClass:"darker-divider"}),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.cardData,"disable-pagination":"","hide-default-footer":"",height:"100%","fixed-header":""},scopedSlots:t._u([{key:"item.date",fn:function(e){var n=e.item;return[t._v("\n          "+t._s(t.$moment(n.vitalSignAt).format("DD/MM/YYYY"))+"\n        ")]}},{key:"item.time",fn:function(e){var n=e.item;return[t._v("\n          "+t._s(t.$moment(n.vitalSignAt).format("HH:mm"))+"\n        ")]}},{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editIem(r)}}},[t._v("\n            mdi-pencil\n          ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteVs(r)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),t._v(" "),this.$vuetify.breakpoint.xsOnly?t._e():n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"cusblue2",text:""},on:{click:function(e){t.dialogShow=!1}}},[t._v("ออก")])],1)],1)],1),t._v(" "),n("confirmDialog",{ref:"confirm"})],1)}),[],!1,null,null,null);e.default=component.exports;_()(component,{VBtn:x.a,VCard:k.a,VCardActions:w.a,VCardText:w.c,VCol:y.a,VDataTable:D.a,VDatePicker:S.a,VDialog:C.a,VDivider:$.a,VForm:V.a,VIcon:O.a,VMenu:I.a,VProgressCircular:A.a,VRow:T.a,VSpacer:j.a,VTextField:R.a,VTimePicker:P.a})},555:function(t,e,n){"use strict";n(511);var r=n(127),o=n(14),l=n(0),c=n(64),d=n(457),v=n(3);e.a=Object(v.a)(r.a,o.a).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var input=this.$refs.content.querySelector("input");input&&input.focus()},genButton:function(t,text){return this.$createElement(c.a,{props:{text:!0,color:"primary",light:!0},on:{click:t}},text)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(e){e.keyCode===l.x.esc&&t.cancel(),e.keyCode===l.x.enter&&(t.save(t.returnValue),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(d.a,{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}},scopedSlots:{activator:function(n){var r=n.on;return t("div",{staticClass:"v-small-dialog__activator",on:r},[t("span",{staticClass:"v-small-dialog__activator__content"},e.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},643:function(t,e,n){"use strict";n.r(e);n(42);var r=n(7),o=n(501),l={props:{xrayItem:{type:Array,required:!1,default:null},isShowBtnReport:{type:Boolean,required:!1,default:!1},onClickReport:{type:Function,required:!1,default:null}},data:function(){return{headers:[{text:"รายการ",value:"label",align:"left",width:"250",sortable:!1},{text:"ผล",value:"result",align:"left",width:"",sortable:!1}]}},methods:{saveResult:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={result:e},r.prev=1,r.next=4,n.$axios.$patch("/api/visits/".concat(n.$route.params.queue,"/results/xray/").concat(t),o,{progress:!1});case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),alert(r.t0);case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()}}},c=n(41),d=n(50),v=n.n(d),m=n(110),f=n(639),h=n(555),_=n(475),x=n(461),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{staticClass:"elevation-4 hidden-header",attrs:{headers:t.headers,items:t.xrayItem,"disable-pagination":"","hide-default-footer":"","fixed-header":"",height:"calc(100vh - 160px)"},scopedSlots:t._u([{key:"item.result",fn:function(e){return[n("v-edit-dialog",{attrs:{"return-value":e.item.result},on:{"update:returnValue":function(n){return t.$set(e.item,"result",n)},"update:return-value":function(n){return t.$set(e.item,"result",n)},save:function(n){return t.saveResult(e.item.id,e.item.result)}},scopedSlots:t._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{label:"Edit","single-line":"",counter:""},model:{value:e.item.result,callback:function(n){t.$set(e.item,"result",n)},expression:"props.item.result"}})]},proxy:!0}],null,!0)},[n("span",{staticClass:"cusblue--text"},[t._v("\n          "+t._s(e.item.result)+"\n        ")])])]}},{key:"footer",fn:function(){return[n("div",{staticClass:"pa-1 text-right",staticStyle:{"border-top":"1px solid #dadada"}},[n("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-between"}},[t.isShowBtnReport?n("v-btn",{staticClass:"cusblue3 font-weight-regular text-capitalize",attrs:{depressed:"",dark:""},on:{click:t.onClickReport}},[t._v("\n            รายงานผล\n          ")]):t._e()],1)],1)]},proxy:!0}],null,!0)})],1)}),[],!1,null,null,null),k=component.exports;v()(component,{VBtn:m.a,VDataTable:f.a,VEditDialog:h.a,VRow:_.a,VTextField:x.a});var w={components:{confirmDialog:n(487).a,OwnerPetCard:o.default,xrayCard:k},validate:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$axios,r=t.params,t.query,!(o=t.store).getters.loggedInUser.roles.some((function(t){return 2===t.id||3===t.id||4===t.id}))&&!o.getters.loggedInUser.isAdmin){e.next=12;break}return e.next=4,n.$get("/api/visits/".concat(r.queue),{progress:!1});case 4:if(2!==(l=e.sent).visitStatus.id&&3!==l.visitStatus.id&&4!==l.visitStatus.id){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:e.next=13;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})))()},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,r=t.params,e.next=3,n.$get("/api/visits/".concat(r.queue),{progress:!1});case 3:return o=e.sent,e.next=6,n.$get("/api/members?code=".concat(o.pet.owner.code),{progress:!1});case 6:return l=e.sent,e.next=9,n.$get("/api/pets?code=".concat(o.pet.code),{progress:!1});case 9:return c=e.sent,e.next=12,n.$get("/api/visits/".concat(r.queue,"/results/xray"),{progress:!1});case 12:return d=e.sent,e.abrupt("return",{oneVisit:o,oneOwner:l.results[0],onePet:c.results[0],xray:d.datas});case 14:case"end":return e.stop()}}),e)})))()},data:function(){return{}},computed:{isStatusWaitingReport:function(){return 3===this.oneVisit.visitStatus.id}},methods:{handleUpdateStatusToReport:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.confirm.open("ยืนยันการรายงานผล?","ต้องการยืนยันการรายงานผลใช่หรือไม่",{width:290,color:"primary"});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,t.$axios.$patch("/api/visits/".concat(t.oneVisit.id,"/status/reported"),{progress:!1});case 8:t.$router.push("/queue"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})))()}}},y=n(473),D=Object(c.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"custom-container"},[n("v-row",{attrs:{dense:""}},[this.$vuetify.breakpoint.smAndDown?t._e():n("v-col",{attrs:{cols:"12",md:"4",lg:"3"}},[n("OwnerPetCard",{attrs:{"show-report-btn":!0,"visit-data":t.oneVisit,"owner-data":t.oneOwner,"pet-data":t.onePet}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"8",lg:"9"}},[n("xrayCard",{attrs:{"xray-item":t.xray,"is-show-btn-report":t.isStatusWaitingReport,"on-click-report":t.handleUpdateStatusToReport}})],1)],1)],1),t._v(" "),n("confirmDialog",{ref:"confirm"})],1)}),[],!1,null,null,null);e.default=D.exports;v()(D,{OwnerPetCard:n(501).default}),v()(D,{VCol:y.a,VRow:_.a})}}]);